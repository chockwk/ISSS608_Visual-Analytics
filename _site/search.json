[
  {
    "objectID": "ISSS608_Visual Analytics.html",
    "href": "ISSS608_Visual Analytics.html",
    "title": "Visual Analytics",
    "section": "",
    "text": "Welcome to my home page on Visual Analytics!\nThis page documents my learning journey of visual analytics taught by Prof Kam Tin Seong.\nThe learning objective is to understand the basic concepts, theories and methodologies of visual analytics, analyse data using appropriate visual thinking and visual analytics techniques, and implement cutting-edge visual analytics system for decision making."
  },
  {
    "objectID": "ISSS608_Visual Analytics.html#overview",
    "href": "ISSS608_Visual Analytics.html#overview",
    "title": "Visual Analytics",
    "section": "Overview",
    "text": "Overview"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Visual Analytics",
    "section": "",
    "text": "Welcome to ISSS608 Visual Analytics and Applications, Spring 2024 class!\nThis page documents my learning journey of geospatial analytics taught by Prof Kam Tin Seong.\n\nSource: Autodesk\nThis is the Datasaurus Dozen. While different in appearance, each dataset has the same summary statistics (mean, standard deviation, and Pearson’s correlation) to two decimal places.\n\n\nVisual Analytics?\nVisual Analytics is the craft of analytical reasoning supported by: - Data Science and Analytics - Data Visualization - Human-Computing-Interaction (HCI) - Interface Design - Visual Storytelling\nThe learning objective is to understand the basic concepts, theories and methodologies of visual analytics, analyse data using appropriate visual thinking and visual analytics techniques, and implement cutting-edge visual analytics system for decision making.\n\n\n\nTopic Overview\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\nBivariate Graphical Methods for Uncertainty\n\n\n\n\n\n\n\n\n\n\n\n\nJan 28, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nClimate Change in Singapore\n\n\n\n\n\n\n\n\n\n\n\n\nFeb 2, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nExtensions of ggplot2\n\n\n\n\n\n\n\n\n\n\n\n\nJan 9, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nFundamentals of ggplot2\n\n\n\n\n\n\n\n\n\n\n\n\nJan 8, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nImport of Statistical Data Formats\n\n\n\n\n\n\n\n\n\n\n\n\nJan 13, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nInteractive and Animated Data Visualization\n\n\n\n\n\n\n\n\n\n\n\n\nJan 13, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nModel Diagnostics\n\n\n\n\n\n\n\n\n\n\n\n\nJan 27, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nMultivariate Data Analysis\n\n\n\n\n\n\n\n\n\n\n\n\nFeb 2, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nOECD PISA Global Education\n\n\n\n\n\n\n\n\n\n\n\n\nJan 13, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nPeer Critique and Visualization Makeover\n\n\n\n\n\n\n\n\n\n\n\n\nJan 23, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nUnivariate Graphical Methods for Uncertainty\n\n\n\n\n\n\n\n\n\n\n\n\nJan 22, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nVisual Statistical Analysis\n\n\n\n\n\n\n\n\n\n\n\n\nJan 20, 2024\n\n\nWan Kee\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "Topics/A_Introduction to ggplot2/HO1_Introduction to ggplot2.html",
    "href": "Topics/A_Introduction to ggplot2/HO1_Introduction to ggplot2.html",
    "title": "1 A Layered Grammar of Graphics: ggplot2 methods",
    "section": "",
    "text": "1 Learning Objectives\n\nBasic principles and essential components of ggplot2\nPlot statistical graphics based on the principle of Layered Grammar of Graphics\n\n\n\n2. Load Package\n\npacman::p_load(tidyverse)\n\nggplot2 is a R package dedicated to data visualization. It can greatly improve the quality and aesthetics of graphics. ggplot2 builds charts through layers using geom_ functions.\n\ngeom_bargeom_bingeom_boxplotgeom_densitygeom_errorgeom_hexgeom_histgeom_hlinegeom_jittergeom_labelgeom_linegeom_pointgeom_polygongeom_rectgeom_ribbongeom_ruggeom_segmentgeom_smoothgeom_textgeom_titlegeom_violingeom_vline\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n3. Load Data\n\nexam_data &lt;- read.csv(\"data/Exam_data.csv\")\nsummary(exam_data)\n\n      ID               CLASS              GENDER              RACE          \n Length:322         Length:322         Length:322         Length:322        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n    ENGLISH          MATHS          SCIENCE     \n Min.   :21.00   Min.   : 9.00   Min.   :15.00  \n 1st Qu.:59.00   1st Qu.:58.00   1st Qu.:49.25  \n Median :70.00   Median :74.00   Median :65.00  \n Mean   :67.18   Mean   :69.33   Mean   :61.16  \n 3rd Qu.:78.00   3rd Qu.:85.00   3rd Qu.:74.75  \n Max.   :96.00   Max.   :99.00   Max.   :96.00  \n\n\n\nglimpse(exam_data)\n\nRows: 322\nColumns: 7\n$ ID      &lt;chr&gt; \"Student321\", \"Student305\", \"Student289\", \"Student227\", \"Stude…\n$ CLASS   &lt;chr&gt; \"3I\", \"3I\", \"3H\", \"3F\", \"3I\", \"3I\", \"3I\", \"3I\", \"3I\", \"3H\", \"3…\n$ GENDER  &lt;chr&gt; \"Male\", \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Male\", \"M…\n$ RACE    &lt;chr&gt; \"Malay\", \"Malay\", \"Chinese\", \"Chinese\", \"Malay\", \"Malay\", \"Chi…\n$ ENGLISH &lt;int&gt; 21, 24, 26, 27, 27, 31, 31, 31, 33, 34, 34, 36, 36, 36, 37, 38…\n$ MATHS   &lt;int&gt; 9, 22, 16, 77, 11, 16, 21, 18, 19, 49, 39, 35, 23, 36, 49, 30,…\n$ SCIENCE &lt;int&gt; 15, 16, 16, 31, 25, 16, 25, 27, 15, 37, 42, 22, 32, 36, 35, 45…\n\n\n\n\n4, Explore Data\n\nCLASSGENDERRACEENGLISH\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS))+\n  geom_bar(fill = \"lightblue\")+\n  labs(title = \"Number of Students\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = GENDER))+\n  geom_bar(fill = \"lightblue\")+\n  labs(title = \"Number of Students\", x = \"Gender\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = GENDER))+\n  geom_bar()+\n  labs(title = \"Number of Students\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = RACE))+\n  geom_bar(fill = \"lightblue\")+\n  labs(title = \"Number of Students\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/A_Introduction to ggplot2/HO1_Introduction to ggplot2.html#cheatsheet",
    "href": "Topics/A_Introduction to ggplot2/HO1_Introduction to ggplot2.html#cheatsheet",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Cheatsheet",
    "text": "Cheatsheet\n\n\n\n\n\n\ngeom_bargeom_bingeom_boxplotgeom_densitygeom_errorgeom_hexgeom_histgeom_hlinegeom_jittergeom_labelgeom_linegeom_pointgeom_polygongeom_rectgeom_ribbongeom_ruggeom_segmentgeom_smoothgeom_textgeom_titlegeom_violingeom_vline"
  },
  {
    "objectID": "Topics/HO1/HO1.html#cheatsheet",
    "href": "Topics/HO1/HO1.html#cheatsheet",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Cheatsheet",
    "text": "Cheatsheet"
  },
  {
    "objectID": "Topics/HO1/HO1.html#class",
    "href": "Topics/HO1/HO1.html#class",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Class",
    "text": "Class\n\ngeom_bar\n\n\n\nggplot(data = exam_data, aes(x = CLASS))+\n         geom_bar(fill = \"lightgreen\")+\n         labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n         theme_minimal()+\n         theme(legend.position = \"none\",\n               panel.grid.major = element_blank(),\n               panel.grid.minor = element_blank(),\n               axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#gender",
    "href": "Topics/HO1/HO1.html#gender",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Gender",
    "text": "Gender\n\nggplot(data = exam_data,\n       aes(x = GENDER))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Gender\", x = \"Gender\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = GENDER))+\n  geom_bar()+\n  labs(title = \"Distribution of Gender by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#race",
    "href": "Topics/HO1/HO1.html#race",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Race",
    "text": "Race\n\nggplot(data = exam_data,\n       aes(x = RACE))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Race\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = RACE))+\n  geom_bar()+\n  labs(title = \"Distribution of Race by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#english",
    "href": "Topics/HO1/HO1.html#english",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "ENGLISH",
    "text": "ENGLISH"
  },
  {
    "objectID": "Topics/HO1/HO1.html#score-english-maths-science",
    "href": "Topics/HO1/HO1.html#score-english-maths-science",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Score (English, Maths, Science)",
    "text": "Score (English, Maths, Science)\n\ngeom_dotplotgeom_histogramgeom_densitygeom_boxplotgeom_violingeom_pointgeom_smooth\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nBin width defaults to 1/30 of the range of the data. Pick better value with\n`binwidth`.\n\n\n\n\n\nAlert:\n\nBin width defaults to 1/30 of the range of the data. Pick better value with binwidth\nMisleading y axis. Turn off y-axis using scale_y_continuous() and change binwidth to 2.5\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5,\n               binwidth = 2.5)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\")+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\nNote: stat_bin() using bins = 30. Pick better value with binwidth.\nCreate 10 bins\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = GENDER))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nInsight: The performance of students between Female and Male is observed to be similar across all scores.\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nInsight: Majority of 3A and 3B students score 80-100 in Maths while 3G, 3H and 3I scoare below 50.\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_density(colour = \"black\")+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = GENDER))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = CLASS))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nNote: x or y as MATHS determines the orientation of the boxplot. In this case, the maths score is a continuous variable and will be placed on y-axis for ease of visualization.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nRequiries x and y input\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, colour = GENDER))+\n  geom_violin()+\n  labs(title = \"Maths Score Distribution using Violin Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_violin()+\n  geom_boxplot(width = 0.3, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_violin(width = 1)+\n  geom_boxplot(width = 0.2, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8,\n              method = lm)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  geom_point(position = \"jitter\", size = 0.3)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#geom_boxplot",
    "href": "Topics/HO1/HO1.html#geom_boxplot",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "geom_boxplot",
    "text": "geom_boxplot\n\nggplot(data = exam_data,\n       aes(y = MATHS))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nNote: x or y as MATHS determines the orientation of the boxplot. In this case, the maths score is a continuous variable and will be placed on y-axis for ease of visualization.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#statistic-summary",
    "href": "Topics/HO1/HO1.html#statistic-summary",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Statistic Summary",
    "text": "Statistic Summary\nBoxplot shows median while stat_summary show mean.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"mean\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\nWarning: The `fun.y` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.\nℹ Please use the `fun` argument instead.\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"median\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  geom_point(stat = \"summary\",\n             fun.y=\"mean\",\n             colour =\"aquamarine4\",\n             size=4) \n\nWarning in geom_point(stat = \"summary\", fun.y = \"mean\", colour = \"aquamarine4\",\n: Ignoring unknown parameters: `fun.y`\n\n\nNo summary function supplied, defaulting to `mean_se()`"
  },
  {
    "objectID": "Topics/HO1/HO1.html#facets",
    "href": "Topics/HO1/HO1.html#facets",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Facets",
    "text": "Facets\nFacetting generates small multiples (sometimes also called trellis plot), each displaying a different subset of the data. They are an alternative to aesthetics for displaying additional discrete variables. ggplot2 supports two types of factes, namely: facet_grid() and facet_wrap().\n\nfacet_gridfacet_wrap\n\n\nNote x is Maths score.\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(bins = 20)+\n  facet_grid(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(bins = 20)+\n  facet_wrap(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#ggplot2-cheatsheet",
    "href": "Topics/HO1/HO1.html#ggplot2-cheatsheet",
    "title": "Fundamentals of ggplot2",
    "section": "ggplot2 Cheatsheet",
    "text": "ggplot2 Cheatsheet"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-1-to-4-creating-various-ggplot",
    "href": "Topics/HO1/HO1.html#step-1-to-4-creating-various-ggplot",
    "title": "Fundamentals of ggplot2",
    "section": "Step 1 to 4: Creating various ggplot",
    "text": "Step 1 to 4: Creating various ggplot\n\ngeom_barcoord_polargeom_dotplotgeom_histogramgeom_densitygeom_boxplotgeom_violingeom_pointgeom_smooth\n\n\nA barplot is used to display the relationship between a numeric and a categorical variable.\n\nggplot(data = exam_data, aes(x = CLASS))+\n         geom_bar(fill = \"lightgreen\")+\n         labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n         theme_minimal()+\n         theme(legend.position = \"none\",\n               panel.grid.major = element_blank(),\n               panel.grid.minor = element_blank(),\n               axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = GENDER))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Gender\", x = \"Gender\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = GENDER))+\n  geom_bar()+\n  labs(title = \"Distribution of Gender by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = RACE))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Race\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = RACE))+\n  geom_bar()+\n  labs(title = \"Distribution of Race by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nA piechart is a circle divided into sectors that each represent a proportion of the whole. There is no specific geom to build piechart with ggplot2. The trick is to build a barplot and use coord_polar to make it circular. In the case of pie chart, the pie() function of Base R is a better alternative.\n\nggplot(exam_data, aes(x = CLASS)) +\n  geom_bar() +\n  coord_polar()+\n  labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nBin width defaults to 1/30 of the range of the data. Pick better value with\n`binwidth`.\n\n\n\n\n\nAlert:\n\nBin width defaults to 1/30 of the range of the data. Pick better value with binwidth\nMisleading y axis. Turn off y-axis using scale_y_continuous() and change binwidth to 2.5\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5,\n               binwidth = 2.5)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\")+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\nNote: stat_bin() using bins = 30. Pick better value with binwidth.\nCreate 10 bins\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = GENDER))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nInsight: The performance of students between Female and Male is observed to be similar across all scores.\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nInsight: Majority of 3A and 3B students score 80-100 in Maths while 3G, 3H and 3I scoare below 50.\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_density(colour = \"black\")+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = GENDER))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = CLASS))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nNote: x or y as MATHS determines the orientation of the boxplot. In this case, the maths score is a continuous variable and will be placed on y-axis for ease of visualization.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nRequiries x and y input\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, colour = GENDER))+\n  geom_violin()+\n  labs(title = \"Maths Score Distribution using Violin Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_violin()+\n  geom_boxplot(width = 0.3, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_violin(width = 1)+\n  geom_boxplot(width = 0.2, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8,\n              method = lm)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  geom_point(position = \"jitter\", size = 0.3)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-5-scale",
    "href": "Topics/HO1/HO1.html#step-5-scale",
    "title": "Fundamentals of ggplot2",
    "section": "Step 5: Scale",
    "text": "Step 5: Scale"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-6-statistic-summary",
    "href": "Topics/HO1/HO1.html#step-6-statistic-summary",
    "title": "Fundamentals of ggplot2",
    "section": "Step 6: Statistic Summary",
    "text": "Step 6: Statistic Summary\nBoxplot shows median while stat_summary show mean.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"mean\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\nWarning: The `fun.y` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.\nℹ Please use the `fun` argument instead.\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"median\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  geom_point(stat = \"summary\",\n             fun.y=\"mean\",\n             colour =\"aquamarine4\",\n             size=4) \n\nWarning in geom_point(stat = \"summary\", fun.y = \"mean\", colour = \"aquamarine4\",\n: Ignoring unknown parameters: `fun.y`\n\n\nNo summary function supplied, defaulting to `mean_se()`"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-7-facets",
    "href": "Topics/HO1/HO1.html#step-7-facets",
    "title": "Fundamentals of ggplot2",
    "section": "Step 7: Facets",
    "text": "Step 7: Facets\nFacetting generates small multiples (sometimes also called trellis plot), each displaying a different subset of the data. They are an alternative to aesthetics for displaying additional discrete variables. ggplot2 supports two types of factes, namely: facet_grid() and facet_wrap().\n\nfacet_gridfacet_wrap\n\n\nNote x is Maths score.\n\nggplot(data = exam_data,\n       aes(x = MATHS, fill = CLASS))+\n  geom_histogram(bins = 20)+\n  facet_grid(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Maths Score\", y = \"Count\")+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, fill = CLASS))+\n  geom_histogram(bins = 20)+\n  facet_wrap(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Maths_Score\", y = \"Count\")+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-8-coordinates",
    "href": "Topics/HO1/HO1.html#step-8-coordinates",
    "title": "Fundamentals of ggplot2",
    "section": "Step 8: Coordinates",
    "text": "Step 8: Coordinates"
  },
  {
    "objectID": "Topics/HO2/HO2.html",
    "href": "Topics/HO2/HO2.html",
    "title": "Extensions of ggplot2",
    "section": "",
    "text": "1 Learning Objectives\n\nAnnotate or label data using ggrepel package\nCreate publication quality figure by using ggthemes and hrbrthemes packages\nPlot composite figure to combine ggplot2 graphs using patchwork package\n\n\n\n2 Load Packages\nBeside tidyverse, the following R packages will be used:\n\nggrepel provides geoms to repel overlapping text labels\nggthemes provides themes, geoms, and scales\nhrbrthemes provides typography-centric themes and theme components\npatchwork prepares composite figures\n\n\npacman::p_load(ggrepel, patchwork, ggthemes, hrbrthemes, tidyverse) \n\n\n\n3 Import Data\nexam_data is a year end examination grades of a cohort of Primary 3 students from a local school.\nThe output shows a total of seven attributes; four of them are categorical attributes (ID, CLASS, GENDER and RACE) and the other three are continuous attributes (MATHS, ENGLISH and SCIENCE).\n\nexam_data &lt;- read.csv(\"data/Exam_data.csv\")\nsummary(exam_data)\n\n      ID               CLASS              GENDER              RACE          \n Length:322         Length:322         Length:322         Length:322        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n    ENGLISH          MATHS          SCIENCE     \n Min.   :21.00   Min.   : 9.00   Min.   :15.00  \n 1st Qu.:59.00   1st Qu.:58.00   1st Qu.:49.25  \n Median :70.00   Median :74.00   Median :65.00  \n Mean   :67.18   Mean   :69.33   Mean   :61.16  \n 3rd Qu.:78.00   3rd Qu.:85.00   3rd Qu.:74.75  \n Max.   :96.00   Max.   :99.00   Max.   :96.00  \n\n\n\n\n4 Annotate Data using ggrepel\nggrepel is an extension of ggplot2 package which provides geoms for ggplot2 to repel overlapping text.\nWe replace geom_text() by geom_text_repel() geom_label() by geom_label_repel()\n\nggplotggrepel\n\n\n\nggplot(data = exam_data, \n       aes(x = MATHS, \n           y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  geom_label(aes(label = ID), \n             hjust = 0.5, \n             vjust = -0.5) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English and Maths Scores using Scatterplot\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nggplot(data = exam_data, \n       aes(x = MATHS, \n           y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method = lm, \n              size = 0.5) +  \n  geom_label_repel(aes(label = ID), \n                   fontface = \"bold\") +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English and Maths Scores using Scatterplot (ggrepel)\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: ggrepel: 317 unlabeled data points (too many overlaps). Consider\nincreasing max.overlaps\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nggrepel 318 unlabeled data points (too many overlaps). Consider increasing max.overlaps\n\n\n\n\n\n\n\n5 Customize Plot Themes\n\nggplotggthemehrbthems\n\n\nggplot2 comes with eight built-in themes, namely theme_gray(), theme_bw(), theme_classic(), theme_dark(), theme_light(), theme_linedraw(), theme_minimal(), and theme_void().\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nggthemes provides ‘ggplot2’ themes that replicate the look of plots by Edward Tufte, Stephen Few, Fivethirtyeight, The Economist, ‘Stata’, ‘Excel’, and The Wall Street Journal, among others.\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme_economist()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nhrbrthemes package provides a base theme that focuses on typographic elements, including where various labels are placed as well as the fonts that are used.\nThemes:\n\ntheme_ft_rc()\ntheme_ipsum()\ntheme_ipsum_ps()\ntheme_ipsum_rc()\ntheme_ipsum_tw()\ntheme_modern_rc()\n\ntheme_ipsum() where ‘ipsum’ is Latin for ’precise.\n\n\n\n\n\n\nWarning\n\n\n\nError in theme_ipsum() : could not find function “theme_ipsum”\nEither Arial Narrow or Roboto Condensed fonts are required to use these themes.\nPlease use hrbrthemes::import_roboto_condensed() to install Roboto Condensed and if Arial Narrow is not on your system, please see https://bit.ly/arialnarrow\nWhy Arial Narrow?\nArial Narrow is generally installed by default or readily available on any modern system. Also, it is a condensed font with solid default kerning pairs and geometric numbers.\n\n\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"black\",\n                 fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  theme_ipsum(axis_title_size = 18,\n              base_size = 15,\n              grid = \"Y\")\n\n\n\n\naxis_title_size argument is used to increase the font size of the axis title to 18, base_size argument is used to increase the default axis label to 15, and grid argument is used to remove the x-axis grid lines.\n\n\n\n\n\n6 Create Composite Graphics\n\npatchwork (multiple graphs)gridExtra (multiple graphs)patchwork (insert)\n\n\nPatchwork package has a very simple syntax where we can create layouts super easily. Here’s the general syntax that combines:\n“+” operator creates a horizontal layout. “()” create a subplot group. “|” operator to stack two ggplot2 graphs, “/” operator to place the plots beside each other, “()” operator the define the sequence of the plotting.\n\nmaths &lt;- ggplot(data = exam_data,\n                aes(x = MATHS, fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nenglish &lt;- ggplot(data = exam_data,\n                aes(x = ENGLISH, fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"English Score Distribution\", x = \"English Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nscience &lt;- ggplot(data = exam_data,\n                aes(x = SCIENCE, fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Science Score Distribution\", x = \"Science Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nenglish + maths + science\n\n\n\n\n\n(english + maths) / science\n\n\n\n\n\n\n\nlibrary(gridExtra)\n\n\nAttaching package: 'gridExtra'\n\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\ngrid.arrange(english, maths, science, ncol = 2)\n\n\n\n\n\n\n\nmain &lt;- ggplot(data = exam_data, \n       aes(x = MATHS, \n           y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method = lm, \n              size = 0.5) +  \n  geom_label_repel(aes(label = ID), \n                   fontface = \"bold\") +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English and Maths Scores using Scatterplot\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nmain + \n  inset_element(maths, left = 0.02, bottom = 0.7, right = 0.4, top = 1) +\n  inset_element(english, left = 0.4, bottom = 0.7, right = 0.8, top = 1)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: ggrepel: 317 unlabeled data points (too many overlaps). Consider\nincreasing max.overlaps\n\n\n\n\n\n\nplot &lt;- (english / maths) | main\nplot & theme_economist()\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: ggrepel: 320 unlabeled data points (too many overlaps). Consider\nincreasing max.overlaps\n\n\n\n\n\n\n\n\n\n\n7 References\n\nhrbrthemes: https://hrbrmstr.github.io/hrbrthemes/"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-1-to-4-creating-various-ggplot",
    "href": "Topics/HO1/HO1.html#layer-1-to-4-creating-various-ggplot",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 1 to 4: Creating various ggplot",
    "text": "Layer 1 to 4: Creating various ggplot\n\ngeom_barcoord_polargeom_dotplotgeom_histogramgeom_densitygeom_boxplotgeom_violingeom_pointgeom_smooth\n\n\nA barplot is used to display the relationship between a numeric and a categorical variable.\n\nggplot(data = exam_data, aes(x = CLASS))+\n         geom_bar(fill = \"lightgreen\")+\n         labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n         theme_minimal()+\n         theme(legend.position = \"none\",\n               panel.grid.major = element_blank(),\n               panel.grid.minor = element_blank(),\n               axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = GENDER))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Gender\", x = \"Gender\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = GENDER))+\n  geom_bar()+\n  labs(title = \"Distribution of Gender by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = RACE))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Race\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = RACE))+\n  geom_bar()+\n  labs(title = \"Distribution of Race by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nA pie chart is a circle divided into sectors that each represent a proportion of the whole. There is no specific geom to build piechart with ggplot2. The trick is to build a barplot and use coord_polar to make it circular.\n\nggplot(exam_data, aes(x = CLASS)) +\n  geom_bar() +\n  coord_polar()+\n  labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nIn the case of pie chart, the pie() function of Base R is a better alternative.\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nBin width defaults to 1/30 of the range of the data. Pick better value with\n`binwidth`.\n\n\n\n\n\n\n\n\n\n\n\nAttention\n\n\n\n\nBin width defaults to 1/30 of the range of the data. Pick better value with binwidth\nMisleading y axis. Turn off y-axis using scale_y_continuous() and change binwidth to 2.5\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5,\n               binwidth = 2.5)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\")+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nNote: stat_bin() using bins = 30. Pick better value with binwidth.\n\n\nCreate 10 bins\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nNote: stat_bin() using bins = 10.\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = GENDER))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nInsight\n\n\n\nThe performance of students between Female and Male is observed to be similar across all scores.\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nInsight\n\n\n\nMajority of 3A and 3B students score 80-100 in Maths while 3G, 3H and 3I scoare below 50.\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_density(colour = \"black\")+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = GENDER))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = CLASS))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nx or y as MATHS determines the orientation of the boxplot. In this case, the maths score is a continuous variable and will be placed on y-axis for ease of visualization.\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\ngeom_violin requiries x and y input.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, colour = GENDER))+\n  geom_violin()+\n  labs(title = \"Maths Score Distribution using Violin Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_violin()+\n  geom_boxplot(width = 0.3, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_violin(width = 1)+\n  geom_boxplot(width = 0.2, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8,\n              method = lm)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  geom_point(position = \"jitter\", size = 0.3)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-5-scale",
    "href": "Topics/HO1/HO1.html#layer-5-scale",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 5: Scale",
    "text": "Layer 5: Scale\nscale_colour_brewer() and scale_fill_brewer() provide sequential, diverging and qualitative colour schemes from ColorBrewer and particularly well suited to display discrete values on a map.\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = GENDER))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  scale_fill_brewer(palette = \"Blues\")\n\n\n\n\n?scales::brewer_pal for more details"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-6-statistic-summary",
    "href": "Topics/HO1/HO1.html#layer-6-statistic-summary",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 6: Statistic Summary",
    "text": "Layer 6: Statistic Summary\nBoxplot shows median while stat_summary show mean.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"mean\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\nWarning: The `fun.y` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.\nℹ Please use the `fun` argument instead.\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"median\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  geom_point(stat = \"summary\",\n             fun.y=\"mean\",\n             colour =\"aquamarine4\",\n             size=4) \n\nWarning in geom_point(stat = \"summary\", fun.y = \"mean\", colour = \"aquamarine4\",\n: Ignoring unknown parameters: `fun.y`\n\n\nNo summary function supplied, defaulting to `mean_se()`"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-7-facets",
    "href": "Topics/HO1/HO1.html#layer-7-facets",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 7: Facets",
    "text": "Layer 7: Facets\nFacetting generates small multiples (sometimes also called trellis plot), each displaying a different subset of the data. They are an alternative to aesthetics for displaying additional discrete variables. ggplot2 supports two types of factes, namely: facet_grid() and facet_wrap().\n\nfacet_gridfacet_wrap\n\n\nNote x is Maths score.\n\nggplot(data = exam_data,\n       aes(x = MATHS, fill = CLASS))+\n  geom_histogram(bins = 20)+\n  facet_grid(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Maths Score\", y = \"Count\")+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, fill = CLASS))+\n  geom_histogram(bins = 20)+\n  facet_wrap(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Maths_Score\", y = \"Count\")+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-8-coordinates",
    "href": "Topics/HO1/HO1.html#layer-8-coordinates",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 8: Coordinates",
    "text": "Layer 8: Coordinates\nThe Coordinates functions map the position of objects onto the plane of the plot.\n\ncoord_cartesiancoord_flipcoord_fixedcoord_quickmap\n\n\ncoord_cartesian() limits on the coordinate system and performs a visual zoom.\nUsage: coord_cartesian(xlim = NULL, ylim = NULL, expand = TRUE, default = FALSE, clip = “on”)\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  coord_cartesian(xlim = c(80,100), ylim = c(80,100))\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\n\n\ncoord_flip() flips the horizontal bar chart into vertical bar chart.\nUsage: coord_flip(xlim = NULL, ylim = NULL, expand = TRUE, clip = “on”)\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = RACE))+\n  geom_bar()+\n  labs(title = \"Distribution of Race by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  coord_flip()\n\n\n\n\n\n\ncoord_fixed is a fixed scale coordinate system forces a specified ratio between the physical representation of data units on the axes. The ratio represents the number of units on the y-axis equivalent to one unit on the x-axis.\nUsage: coord_fixed(ratio = 1, xlim = NULL, ylim = NULL, expand = TRUE, clip = “on”)\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  coord_fixed(ratio = 5)\n\n\n\n\n\n\ncoord_quickmap() is a quick approximation that does preserve straight lines.\nUseage: coord_quickmap(xlim = NULL, ylim = NULL, expand = TRUE, clip = “on”)\n\n\n\n\n\n\nNote\n\n\n\nThe package “mapproj” is required for coord_map()\ncoord_map() projects a portion of the earth, which is approximately spherical, onto a flat 2D plane using any projection defined by the mapproj package. Map projections do not, in general, preserve straight lines, so this requires considerable computation.\nBoth coord_map() and coord_quickmap() are superseded by coord_sf().\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  coord_map()\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'"
  },
  {
    "objectID": "Exercises/TH1/TH1.html",
    "href": "Exercises/TH1/TH1.html",
    "title": "OECD PISA Global Education",
    "section": "",
    "text": "1. Learning Objectives\n\nBackgroundDataTask\n\n\nThe Organisation for Economic Co-operation and Development (OECD) Programme for International Student Assessment (PISA) is a global education survey conducted to examines what students know in mathematics, reading and science, how well students can solve complex problems, think critically and communicate effectively. This gives insights into how well education systems are preparing students for real life challenges and future success. It provides the most comprehensive and rigorous international assessment of student learning outcomes to date. Results from PISA indicate the quality and equity of learning outcomes attained around the world, and allow educators and policy makers to learn from the policies and practices applied in other countries.\nPISA 2022 reports the following:\n\nDescribes students’ performance in mathematics, reading and science;\nExamines gender differences in performance;\nInvestigates how performance relates to students’ socio-economic status and immigrant background;\nDescribes how the quality and equity of learning outcomes have evolved since previous PISA assessments.\n\nOECD education director, Andreas Schleicher, shared in a BBC article that “Singapore managed to achieve excellence without wide differences between children from wealthy and disadvantaged families.”. Furthermore, the slogan “Every School a Good School” was popularised by Mr Heng Swee Keat when he was education minister from 2011 to 2015.\nThe general public, however, strongly belief that there are still disparities that exist, especially between the elite schools and neighborhood school, between students from families with higher socioeconomic status and those with relatively lower socioeconomic status and immigration and non-immigration families.\n\n\nSingapore participated for the first time in PISA in 2009. By comparing results internationally, policy makers and educators in Singapore can learn from other countries’ policies and practices.\nPISA is conducted every three years to assess the education systems worldwide through testing 15 year-old students in the subjects of mathematics, reading, and science.\nThe PISA 2022 database contains the full set of responses from individual students, school principals and parents. There are a total of five data files and their contents are as follows:\n\nStudent questionnaire data file (focus of this practice)\nSchool questionnaire data file\nTeacher questionnaire data file\nCognitive item data file\nQuestionnaire timing data file\n\nThese data files are in SAS and SPSS formats.\n\n\n\n\n\n\nWhy are 15-year-old students choosen for assessment?\n\n\n\nPISA measures student performance as the extent to which 15-year-old students near the end of their compulsory education have acquired the knowledge and skills that are essential for full participation in modern societies, particularly in the core domains of reading, mathematics, and science.\n\n\n\n\nUsing appropriate Exploratory Data Analysis (EDA) methods and ggplot2 functions, we will reveal the following in this practice:\n\nthe distribution of Singapore students’ performance in mathematics, reading, and science, and\nthe relationship between these performances with schools, gender and socioeconomic status of the students.\n\n\n\n\n\n\n2. Load Packages\nThe following R packages will be used:\n\nggiraph\nggrepel provides geoms to repel overlapping text labels\nggthemes provides themes, geoms, and scales\nhrbrthemes provides typography-centric themes and theme components\npatchwork prepares composite figures\nhaven read and write various data formats used by other statistical packages\ntidyverse support data science, analysis and communication task\nkableExtra\n\n\npacman::p_load(ggiraph, ggrepel, kableExtra, patchwork, ggthemes, hrbrthemes, haven, tidyverse) \n\n\n\n3. Import Data\nThe PISA 2022 database was released on December 5, 2022. For the purpose of this practice, the Student questionnaire data file will be used to fulfil the task.\nSource: PISA 2022 (data) and PISA 2022 Results Volume 1 (guide)\n\nstu_qqq &lt;- read_sas(\"data/STU_QQQ_SAS/cy08msp_stu_qqq.sas7bdat\")\n\nThe output shows 613,744 observations with 1,279 variables.\nFor relevance, we filter stu_qqq by the column country code (CNT) for SGP to obtain Singapore results.\n\nstu_qqq_SGP &lt;- stu_qqq %&gt;% \n  filter(CNT == \"SGP\")\n\nThe output shows 6,606 observations with 1,279 variables.\n\n\n\n\n\n\nSave Point\n\n\n\n\n\n\nwrite_rds(stu_qqq_SGP, \"data/stu_qqq_SGP.rds\")\n\n\n\n\n\n\n4. Explore Data\n\n\n\n\n\n\nLoad Point\n\n\n\n\n\n\nstu_qqq_SGP &lt;-read_rds(\"data/stu_qqq_SGP.rds\")\n\n\n\n\n\n\nCode\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n\n\n\n\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n\n\n\n\n\n\nSCH_table &lt;- stu_qqq_SGP %&gt;%\n  group_by(CNTSCHID) %&gt;%\n  summarise(TOTAL_STUDENT = n())\n\nDT::datatable(SCH_table)\n\n\n\n\n\n\n‘70200150’ no such school ID\n\nmean(SCH_table$TOTAL_STUDENT)\n\n[1] 40.28049\n\n\n\nduplicate &lt;- stu_qqq_SGP %&gt;% \n  group_by(CNTSTUID) %&gt;% \n  filter(n() &gt; 1)\n\n\nsum(is.na(stu_qqq_SGP))\n\n[1] 4168500\n\n\n\n\nShow the code\nstu_qqq_SGP_perf &lt;- stu_qqq_SGP %&gt;%\n  group_by(CNT, CNTRYID, CNTSCHID, CNTSTUID) %&gt;%\n  summarise(MATH = round(mean(PV1MATH, PV2MATH, PV3MATH, PV4MATH, PV5MATH, \n                              PV6MATH, PV7MATH, PV8MATH, PV9MATH, PV10MATH), 1),\n            READING = round(mean(PV1READ, PV2READ, PV3READ, PV4READ, PV5READ,\n                                 PV6READ, PV7READ, PV8READ, PV9READ, PV10READ), 1),\n            SCIENCE = round(mean(PV1SCIE, PV2SCIE, PV3SCIE, PV4SCIE, PV5SCIE,\n                                 PV6SCIE, PV7SCIE, PV8SCIE, PV9SCIE, PV10SCIE), 1))\n\n\n`summarise()` has grouped output by 'CNT', 'CNTRYID', 'CNTSCHID'. You can\noverride using the `.groups` argument.\n\n\nShow the code\ntooltip_css &lt;- \"background-color: white; font-style: bold; color: black\"\n\nstu_qqq_SGP_perf$tooltip &lt;- c(paste0(\"School = \", stu_qqq_SGP_perf$CNTSCHID, \n                                     \"\\nStudent = \", stu_qqq_SGP_perf$CNTSTUID))\n\nplot1 &lt;- ggplot(data = stu_qqq_SGP_perf, \n                aes(x = MATH))+\n  geom_dotplot_interactive(aes(data_id = CNTSTUID, tooltip = stu_qqq_SGP_perf$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\")+\n  geom_vline(aes(xintercept = 472))+\n  coord_cartesian(xlim = c(0,1000))+ \n  scale_y_continuous(limits = c(0,100))+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot2 &lt;- ggplot(data = stu_qqq_SGP_perf, \n                aes(x = READING))+\n  geom_dotplot_interactive(aes(data_id = CNTSTUID, tooltip = stu_qqq_SGP_perf$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\")+\n  geom_vline(aes(xintercept = 476))+\n  coord_cartesian(xlim = c(0,1000))+ \n  scale_y_continuous(limits = c(0,100))+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot3 &lt;- ggplot(data = stu_qqq_SGP_perf, \n                aes(x = SCIENCE))+\n  geom_dotplot_interactive(aes(data_id = CNTSTUID, tooltip = stu_qqq_SGP_perf$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\")+\n  geom_vline(aes(xintercept = 485))+\n  coord_cartesian(xlim = c(0,1000))+\n  scale_y_continuous(limits = c(0,100))+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ng &lt;- wrap_plots(list(plot1, plot2, plot3), ncol = 1)\n\ngirafe(ggobj = g,\n       # code = print(plot1 + plot2 + plot3), \n       width_svg = 6,\n       height_svg = 3,\n       options = list(\n         opts_tooltip(css = tooltip_css),\n         opts_hover(css = \"fill: #ABEBC6;\"),\n         opts_hover_inv(css = \"opacity:0.2;\")\n         )\n       )"
  },
  {
    "objectID": "Topics/IC1/IC1.html",
    "href": "Topics/IC1/IC1.html",
    "title": "Import of Statistical Data Formats",
    "section": "",
    "text": "1. Learning Objectives\nR is capable of reading data from most formats, such as csv, xlsx, or txt and include files created in other statistical packages, such as SAS, Stata, SPSS.\nR also has two native data formats - rdata (also known as rda) for multiple R objects and rds for a single R object. These formats are used when R objects are saved for later use.\n\nLoad various statistical data formats using haven package\nManage large dataset using .gitignore file and “#| eval: false”\n\n\n\n2. R Package: Haven\nHaven enables R to read and write various data formats used by other statistical packages by wrapping the ReadStat C library. Haven is part of the tidyverse and supports:\n\nSAS: read_sas() reads .sas7bdat and .sas7bcat files while read_xpt() reads SAS transport files and write_xpt() writes SAS transport files.\nSPSS: read_sav() reads .sav files and read_por() reads the older .por files. write_sav() writes .sav files.\nStata: read_dta() reads .dta files. write_dta() writes .dta files.\n\n\n\n3. Load Packages\nThe following R packages will be used in this topic:\n\ntidyverse is a family of R packages designed to support data science, analysis and communication task including creating static statistical graphs\nhaven import common statistical formats into R via the embedded ‘ReadStat’ C library\n\n\npacman::p_load(tidyverse, haven)\n\n\n\n4. Import Data\nThe Programme for International Student Assessment (PISA) is a global education survey conducted every three years to assess the education systems worldwide through testing 15 year-old students in the subjects of mathematics, reading, and science. The current dataset was released on December 5, 2022.\nSource: PISA 2022\nread_sas() imports the PISA data into R environment.\n\nstu_qqq &lt;- read_sas(\"data/STU_QQQ_SAS/cy08msp_stu_qqq.sas7bdat\")\n\nThe output shows 613,744 observations with 1,279 variables. The tibble dataframe contains descriptions for each variable, which is unavailable if read.sas() is used.\n\n\n\n\n\n\nNote\n\n\n\nTo manage work space and render speed, Prof Kam recommends to avoid loading data into Github or datasets not exceeding 100 MB. We add the following text, data/, to .gitignore file for the exclusion of data folder.\n\n\nFor relevance, we filter stu_qqq by the column country code (CNT) for SGP to obtain Singapore results.\n\nstu_qqq_SGP &lt;- stu_qqq %&gt;% \n  filter(CNT == \"SGP\")\n\nThe output shows 6,606 observations with 1,279 variables.\n\n\n\n\n\n\nSave Point\n\n\n\n\n\n\nwrite_rds(stu_qqq_SGP, \"data/stu_qqq_SGP.rds\")\n\n\n\n\n\n\n\n\n\n\nLoad Point\n\n\n\n\n\n\nstu_qqq_SGP &lt;-read_rds(\"data/stu_qqq_SGP.rds\")\n\n\n\n\n\n\n5. Explore Data\n\nstu_qqq$CNT &lt;- as.factor(stu_qqq$CNT)\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nstu_qqq$CNTSCHID &lt;- as.character(stu_qqq$CNTSCHID)\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nstu_qqq$CNTSTUID = as.factor(stu_qqq$CNTSTUID)\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nduplicate &lt;- stu_qqq %&gt;% \n  group_by(CNTSTUID) %&gt;% \n  filter(n() &gt; 1)\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\n\nFrom the output, there is no observation in duplicate.\n\nSCH_table &lt;- stu_qqq %&gt;%\n  group_by(CNT) %&gt;%\n  summarise(TOTAL_SCH = n())\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nDT::datatable(SCH_table)\n\nError in eval(expr, envir, enclos): object 'SCH_table' not found\n\n\nThere are 6606 schools in Singapore in PISA 2022.\n\nSTU_table &lt;- stu_qqq %&gt;%\n  group_by(CNT, CNTSCHID) %&gt;%\n  summarise(TOTAL_STU = n())\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nDT::datatable(STU_table)\n\nError in eval(expr, envir, enclos): object 'STU_table' not found\n\n\n\nhead(stu_qqq_SGP, n = 5)\n\n# A tibble: 5 × 1,279\n  CNT   CNTRYID CNTSCHID CNTSTUID CYC   NatCen STRATUM SUBNATIO REGION  OECD\n  &lt;chr&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;\n1 SGP       702 70200052 70200001 08MS  070200 SGP01   7020000   70200     0\n2 SGP       702 70200134 70200002 08MS  070200 SGP01   7020000   70200     0\n3 SGP       702 70200112 70200003 08MS  070200 SGP01   7020000   70200     0\n4 SGP       702 70200004 70200004 08MS  070200 SGP01   7020000   70200     0\n5 SGP       702 70200152 70200005 08MS  070200 SGP01   7020000   70200     0\n# ℹ 1,269 more variables: ADMINMODE &lt;dbl&gt;, LANGTEST_QQQ &lt;dbl&gt;,\n#   LANGTEST_COG &lt;dbl&gt;, LANGTEST_PAQ &lt;dbl&gt;, Option_CT &lt;dbl&gt;, Option_FL &lt;dbl&gt;,\n#   Option_ICTQ &lt;dbl&gt;, Option_WBQ &lt;dbl&gt;, Option_PQ &lt;dbl&gt;, Option_TQ &lt;dbl&gt;,\n#   Option_UH &lt;dbl&gt;, BOOKID &lt;dbl&gt;, ST001D01T &lt;dbl&gt;, ST003D02T &lt;dbl&gt;,\n#   ST003D03T &lt;dbl&gt;, ST004D01T &lt;dbl&gt;, ST250Q01JA &lt;dbl&gt;, ST250Q02JA &lt;dbl&gt;,\n#   ST250Q03JA &lt;dbl&gt;, ST250Q04JA &lt;dbl&gt;, ST250Q05JA &lt;dbl&gt;, ST250D06JA &lt;chr&gt;,\n#   ST250D07JA &lt;chr&gt;, ST251Q01JA &lt;dbl&gt;, ST251Q02JA &lt;dbl&gt;, ST251Q03JA &lt;dbl&gt;, …\n\n\n\n\nReference\nHaven: https://haven.tidyverse.org/index.html"
  },
  {
    "objectID": "Topics/HO3/HO3.html",
    "href": "Topics/HO3/HO3.html",
    "title": "Interactive and Animated Data Visualization",
    "section": "",
    "text": "Create interactive data visualization using ggiraph, plotlyr, crosstalk\nCreate animated data visualization using gganimate, gifski, gapminder"
  },
  {
    "objectID": "Topics/HO3/HO3.html#ggiraph",
    "href": "Topics/HO3/HO3.html#ggiraph",
    "title": "Interactive Data Visualization",
    "section": "ggiraph",
    "text": "ggiraph\nggiraph is is a tool that allows you to create dynamic ggplot graphs. It allows the addition of tooltips, hover effects and JavaScript actions to the graphics. The package also allows the selection of graphical elements when used in shiny applications.\nggiraph is an htmlwidget and a ggplot2 extension. The graphs are exported as SVG documents and special attributes are used on various elements.\n\n\n\n\n\n\nNote\n\n\n\nThe htmlwidgets package provides a framework for creating R bindings to JavaScript libraries. HTML Widgets can be: (1) used at the R console for data analysis just like conventional R plots, (2) embedded within R Markdown documents, (3) ncorporated into Shiny web applications.\n\n\nInteractive is made with ggplot geometries, legends and theme elements with three aesthetics:\n\ntooltip: Tooltips to be displayed when mouse is over elements\nonclick: JavaScript function to be executed when elements are clicked\ndata_id: ID associated with elements for hover and click actions\n\nUsage:\n\nProvide at least one of the aesthetics tooltip, data_id and onclick to create interactive elements.\nCall function girafe() with the ggplot object so that the graphic is translated as a web interactive graphics.\n\n\n\n\n\n\n\nNote\n\n\n\nWe can replace geom_point() by geom_point_interactive() geom_sf() by geom_sf_interactive()\n\n\n\ntooltiponclickdata_id\n\n\n\nplot1 &lt;- ggplot(data = exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(aes(tooltip = ID),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(\n  ggobj = plot1,\n  width_svg = 6,\n  height_svg = 6*0.618\n)"
  },
  {
    "objectID": "Topics/HO3/HO3.html#tooltip",
    "href": "Topics/HO3/HO3.html#tooltip",
    "title": "Interactive and Animated Data Visualization",
    "section": "4.1 Tooltip",
    "text": "4.1 Tooltip\n\nSingle AttributeMultiple AttributesCustomizationStatisticsStatistics\n\n\nTo plot an interactive statistical graph with one attributes ID by using ggiraph package,\n\nCreate an ggplot object using ggplot() and geom_dotplot_interactive()\nIndiate aes() to include an attribute tooltip = ID\nCreate an interactive scalable vector graphic (svg) object using girafe() to be displayed on an html page\n\n\n\n\n\n\n\nNote\n\n\n\nScalable Vector Graphics (svg) is a unique type of image format for vector-based graphics written in Extensible Markup Language (XML).\nAdvantages:\n\nThey do not lose their quality when zoomed or resized.\nThey can be created and edited with an IDE or text editor.\nThey are accessible and animatable.\nThey have a small file size and are highly scalable.\nThey can be searched, indexed, scripted, and compressed.\n\nTo add svg images to a webpage, add the  element to your HTML document and reference it in the src attribute: \n\n\n\n\nShow the code\nplot1 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(tooltip = ID),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(ggobj = plot1,\n       width_svg = 6,\n       height_svg = 6*0.618)\n\n\n\n\n\n\n\n\npaste0() concatenate strings or vectors, in this example, two attributes, namely ID and CLASS. Note the change in aes() to tooltip = exam_data$tooltip\n\n\nShow the code\nexam_data$tooltip &lt;- c(paste0(\"Name = \", exam_data$ID, \n                              \"\\n Class = \", exam_data$CLASS))\n\nplot2 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(\n  ggobj = plot2,\n  width_svg = 6,\n  height_svg = 6*0.618\n)\n\n\n\n\n\n\n\n\nThe customization is indicated by tooltip_css below, which changes the background-colour to white and the font colour to black and font-style bold.\nopts_tooltip() within giraph() customize the tooltip rendering by add css declarations.\n\n\n\n\n\n\nUsage\n\n\n\nArguments of opts_tooltip(): css = NULL, offx = 10, offy = 0, use_cursor_pos = TRUE, opacity = 0.9, use_fill = FALSE, use_stroke = FALSE, delay_mouseover = 200, delay_mouseout = 500, placement = c(“auto”, “doc”, “container”), zindex = 999\n\n\n\n\nShow the code\ntooltip_css &lt;- \"background-color: white; font-style: bold; color: black\"\n\nexam_data$tooltip &lt;- c(paste0(\"Name = \", exam_data$ID, \n                              \"\\n Class = \", exam_data$CLASS))\n\nplot3 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(\n  ggobj = plot3,\n  width_svg = 6,\n  height_svg = 6*0.618,\n  options = list(opts_tooltip(css = tooltip_css))\n)\n\n\n\n\n\n\n\n\n\n\nShow the code\nexam_data$Average_Score &lt;- round(rowMeans(exam_data[, c(\"ENGLISH\", \"MATHS\", \"SCIENCE\")]),\n                                 digits = 2)\n\n# tooltip_css &lt;- \"background-color: white; font-style: bold; color: black\"\n\nexam_data$tooltip2 &lt;- paste0(\"Name = \", exam_data$ID, \n                            \"\\nClass = \", exam_data$CLASS,\n                            \"\\nEnglish = \", exam_data$ENGLISH,\n                            \"\\nMaths = \", exam_data$MATHS,\n                            \"\\nScience = \", exam_data$SCIENCE,\n                            \"\\nAverage Score = \", exam_data$Average_Score)\n\nplot4 &lt;- ggplot(data = exam_data, \n                aes(x = Average_Score))+\n  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip2),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(\n  ggobj = plot4,\n  width_svg = 6,\n  height_svg = 6*0.618,\n  options = list(opts_tooltip(css = tooltip_css))\n)\n\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nThe top student is Student036 from Class 3A!\n\n\n\n\nstat_summary() operates on unique x or y to create visualizations that display summary metrics.\nNote: Bar plot is not routinely used to show statistics. In this example, a bar plot with standard error can indicate the variance in the average Math score of each race.\n\n\nShow the code\ntooltip &lt;- function(y, ymax, accuracy = 0.01) {\n  mean &lt;- scales::number(y, accuracy = accuracy)\n  sem &lt;- scales::number(ymax - y, accuracy = accuracy) # standard deviation of mean\n  paste(\"Mean Maths Scores:\", mean, \"+/-\", sem) # calculate, hover, paste\n}\n\nplot5 &lt;- ggplot(data = exam_data, \n                   aes(x = RACE))+\n  stat_summary(aes(y = MATHS, tooltip = after_stat(tooltip(y, ymax))),\n               fun.data = \"mean_se\", geom = GeomInteractiveCol, fill = \"lightblue\")+\n  stat_summary(aes(y = MATHS),\n               fun.data = mean_se, geom = \"errorbar\", width = 0.2, size = 0.2)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(ggobj = plot5,\n       width_svg = 6,\n       height_svg = 6*0.618,\n       options = list(opts_tooltip(css = tooltip_css)))"
  },
  {
    "objectID": "Topics/HO3/HO3.html#data_id",
    "href": "Topics/HO3/HO3.html#data_id",
    "title": "Interactive Data Visualization",
    "section": "4.2 Data_id",
    "text": "4.2 Data_id\n\ndata_iddata_id (customization)data_id with tooltip\n\n\nNote the change in aes() to data_id = CLASS.\nElements associated with a data_id (i.e CLASS) will be highlighted upon mouse over.\n\n\nShow the code\nplot5 &lt;- ggplot(data=exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = CLASS),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot5,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618                      \n)                                        \n\n\n\n\n\n\n\n\nopts_tooltip(), opts_hover() and opts_hover_inv() customize the tooltip and data_id rendering by add css declarations.\n\n\n\n\n\n\nNote\n\n\n\nThe default value of the hover css is hover_css = “fill:orange;”. In this example, we will use fill: #ABEBC6;.\n\n\n\n\nShow the code\nplot6 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = CLASS),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot6,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #ABEBC6;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)                                        \n\n\n\n\n\n\n\n\nopts_hover() and opts_hover_inv() customize the data_id rendering by add css declarations.\n\n\nShow the code\ntooltip_css &lt;- \"background-color: white; font-style: bold; color: black\"\n\nexam_data$tooltip &lt;- c(paste0(\"Name = \", exam_data$ID, \n                              \"\\n Class = \", exam_data$CLASS))\n\nplot6 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip, data_id = CLASS),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+               \n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot6,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(\n    opts_tooltip(css = tooltip_css),\n    opts_hover(css = \"fill: #ABEBC6;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)"
  },
  {
    "objectID": "Topics/HO3/HO3.html#onclick",
    "href": "Topics/HO3/HO3.html#onclick",
    "title": "Interactive and Animated Data Visualization",
    "section": "4.3 Onclick",
    "text": "4.3 Onclick\nonclick of girafe provides hot link interactivity on the web. The web document link with a data object will be displayed on the web browser upon mouse click. Note the change in aes() to onclick = onclick where onclick is assigned with web document link.\nsprintf() print formatted strings where fmt is the format and x is the value to format.\n\n\nShow the code\nexam_data$onclick &lt;- sprintf(\"window.open(\\\"%s%s\\\")\",\n\"https://www.moe.gov.sg/schoolfinder?journey=Primary%20school\",\nas.character(exam_data$ID))\n\nplot9 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(onclick = onclick),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+               \n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot9,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618)                                        \n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nNote that click actions must be a string column in the dataset containing valid javascript instructions."
  },
  {
    "objectID": "Topics/HO3/HO3.html#coordinated-multiple-views",
    "href": "Topics/HO3/HO3.html#coordinated-multiple-views",
    "title": "Interactive and Animated Data Visualization",
    "section": "4.4 Coordinated Multiple Views",
    "text": "4.4 Coordinated Multiple Views\nCoordinated view refers to the visualization when a data point of one plot is selected, the corresponding data point ID on the second or associated data visualisations will be highlighted.\nThe following programming strategy will be used:\n\nAppropriate interactive functions of ggiraph will be used to create the multiple views.\npatchwork will be used inside girafe function to create the interactive coordinated multiple views.\n\n\nTwo PlotsThree Plots\n\n\n\n\nShow the code\nplot10 &lt;- ggplot(data = exam_data, \n                aes(x = ENGLISH))+\n  geom_dotplot_interactive(aes(data_id = ID, tooltip = exam_data$tooltip),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+  \n  coord_cartesian(xlim = c(0,100))+\n  labs(title = \"ENGLISH\", x = NULL)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot11 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = ID, tooltip = exam_data$tooltip),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+  \n  coord_cartesian(xlim = c(0,100))+\n  labs(title = \"MATHS\", x = NULL)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(code = print(plot10 + plot11), \n       width_svg = 6,\n       height_svg = 3,\n       options = list(\n         opts_hover(css = \"fill: #c27ba0;\"),\n         opts_hover_inv(css = \"opacity:0.2;\")\n         )\n       )\n\n\n\n\n\n\n\n\n\n##| fig-height: 12\n#| code-fold: true\n#| code-summary: \"Show the code\"\n\nplot10 &lt;- ggplot(data = exam_data, \n                aes(x = ENGLISH))+\n  geom_dotplot_interactive(aes(data_id = ID, tooltip = exam_data$tooltip),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+  \n  coord_cartesian(xlim = c(0,100))+\n  labs(title = \"ENGLISH\", x = NULL)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot11 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = ID, tooltip = exam_data$tooltip),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+  \n  coord_cartesian(xlim = c(0,100))+\n  labs(title = \"MATHS\", x = NULL)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot12 &lt;- ggplot(data = exam_data, \n                aes(x = SCIENCE))+\n  geom_dotplot_interactive(aes(data_id = ID, tooltip = exam_data$tooltip),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+  \n  labs(title = \"SCIENCE\", x = NULL)+\n  coord_cartesian(xlim = c(0,100))+ \n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(code = print(plot10 / plot11 / plot12), \n       width_svg = 6,\n       height_svg = 4,\n       options = list(\n         opts_tooltip(css = tooltip_css),\n         opts_hover(css = \"fill: #c27ba0;\"),\n         opts_hover_inv(css = \"opacity:0.2;\")\n         )\n       )"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#how-did-singaporean-students-perform-in-maths-reading-and-science",
    "href": "Exercises/TH1/TH1.html#how-did-singaporean-students-perform-in-maths-reading-and-science",
    "title": "OECD PISA Global Education",
    "section": "5.2 How did Singaporean students perform in Maths, Reading and Science?",
    "text": "5.2 How did Singaporean students perform in Maths, Reading and Science?\nWe aim to understand the performance of these students in key academic areas: Mathematics, Reading, and Science. This will involve assessing their scores and identifying patterns or trends within the data.\nFor each group, the mean scores for mathematics MATH, reading READING, and science SCIENCE are calculated using the mean function applied to a series of plausible values (PV1MATH to PV5MATH for math, PV1READ to PV5READ for reading, and PV1SCIE to PV5SCIE for science). These plausible values represent multiple imputations of the student’s likely performance and are averaged to get a single score estimation.\n\n\nShow the code\nstu_qqq_SGP_perf &lt;- stu_qqq_SGP %&gt;%\n  group_by(CNT, CNTRYID, CNTSCHID, CNTSTUID, ST004D01T, ESCS) %&gt;%\n  summarise(MATH = round(mean(PV1MATH, PV2MATH, PV3MATH, PV4MATH, PV5MATH, \n                              PV6MATH, PV7MATH, PV8MATH, PV9MATH, PV10MATH), 1),\n            READING = round(mean(PV1READ, PV2READ, PV3READ, PV4READ, PV5READ,\n                                 PV6READ, PV7READ, PV8READ, PV9READ, PV10READ), 1),\n            SCIENCE = round(mean(PV1SCIE, PV2SCIE, PV3SCIE, PV4SCIE, PV5SCIE,\n                                 PV6SCIE, PV7SCIE, PV8SCIE, PV9SCIE, PV10SCIE), 1))\n\nstu_qqq_SGP_perf$MATH &lt;- as.integer(stu_qqq_SGP_perf$MATH)\nstu_qqq_SGP_perf$MATH &lt;- as.integer(stu_qqq_SGP_perf$READING)\nstu_qqq_SGP_perf$MATH &lt;- as.integer(stu_qqq_SGP_perf$SCIENCE)\n\nglimpse(stu_qqq_SGP_perf)\n\n\nRows: 6,606\nColumns: 9\nGroups: CNT, CNTRYID, CNTSCHID, CNTSTUID, ST004D01T [6,606]\n$ CNT       &lt;chr&gt; \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP…\n$ CNTRYID   &lt;chr&gt; \"702\", \"702\", \"702\", \"702\", \"702\", \"702\", \"702\", \"702\", \"702…\n$ CNTSCHID  &lt;chr&gt; \"70200001\", \"70200001\", \"70200001\", \"70200001\", \"70200001\", …\n$ CNTSTUID  &lt;chr&gt; \"70200085\", \"70200211\", \"70200271\", \"70200307\", \"70200327\", …\n$ ST004D01T &lt;fct&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …\n$ ESCS      &lt;dbl&gt; 1.2485, 0.6114, 0.8463, 1.3575, 1.4269, -0.1876, 1.1207, 2.0…\n$ MATH      &lt;int&gt; 795, 671, 781, 750, 639, 596, 711, 702, 824, 668, 782, 645, …\n$ READING   &lt;dbl&gt; 641.2, 663.4, 699.9, 693.0, 590.4, 593.8, 655.1, 703.2, 766.…\n$ SCIENCE   &lt;dbl&gt; 795.3, 671.9, 781.1, 750.4, 639.2, 596.6, 711.3, 702.6, 824.…\n\n\n\n\nShow the code\nplot7 &lt;- ggplot(stu_qqq_SGP_perf, \n                aes(x = MATH, y = ST004D01T,\n                    fill = ST004D01T, colour = ST004D01T))+\n  geom_density_ridges(bandwidth = 7, alpha = 0.6)+\n  scale_y_discrete(breaks = c(1, 2), labels = c(\"Female\", \"Male\"))+\n  geom_vline(aes(xintercept = 472), \n             colour = \"azure4\",\n             linetype = \"dashed\") +\n  annotate(geom = \"text\", x = 500, y = 3,  \n           label = \"OECD Mean Maths Score = 472\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_vline(aes(xintercept = 575), \n             colour = \"azure4\",\n             linetype = \"dashed\") +\n  annotate(geom = \"text\", x = 1000, y = 3,  \n           label = \"SGP Mean Maths Score = 575\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_boxplot(colour = \"black\",\n               width = .20,\n               outlier.shape = NA,\n               alpha = 0.4)+\n  xlim(0,1000)+\n  labs(title = \"Mathematics\", x = NULL, y = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        axis.text.x = element_blank())\n\nplot8 &lt;- ggplot(stu_qqq_SGP_perf, \n                aes(x = READING, y = ST004D01T,\n                    fill = ST004D01T, colour = ST004D01T))+\n  geom_density_ridges(bandwidth = 7, alpha = 0.6)+\n  scale_y_discrete(breaks = c(1, 2), labels = c(\"Female\", \"Male\"))+\n  geom_vline(aes(xintercept = 476), \n             colour = \"azure4\",\n             linetype = \"dashed\")+\n  annotate(geom = \"text\", x = 500, y = 3,  \n           label = \"OECD Mean Reading Score = 476\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_vline(aes(xintercept = 543), \n             colour = \"azure4\",\n             linetype = \"dashed\")+\n  annotate(geom = \"text\", x = 1000, y = 3,  \n           label = \"SGP Mean Reading Score = 543\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5)+\n  geom_boxplot(colour = \"black\",\n               width = .20,\n               outlier.shape = NA,\n               alpha = 0.4)+\n  xlim(0,1000)+\n  labs(title = \"Reading\", x = NULL, y = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        axis.text.x = element_blank())\n\nplot9 &lt;- ggplot(stu_qqq_SGP_perf, \n                aes(x = SCIENCE, y = ST004D01T,\n                    fill = ST004D01T, colour = ST004D01T))+\n  geom_density_ridges(bandwidth = 7, alpha = 0.6)+\n  scale_y_discrete(breaks = c(1, 2), labels = c(\"Female\", \"Male\"))+\n  geom_vline(aes(xintercept = 485), \n             colour = \"azure4\",\n             linetype = \"dashed\")+\n  annotate(geom = \"text\", x = 500, y = 3,  \n           label = \"OECD Mean Science Score = 485\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_vline(aes(xintercept = 561), \n             colour = \"azure4\",\n             linetype = \"dashed\")+\n  annotate(geom = \"text\", x = 1000, y = 3,  \n           label = \"SGP Mean Maths Score = 561\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_boxplot(colour = \"black\",\n               width = .20,\n               outlier.shape = NA,\n               alpha = 0.4)+\n  xlim(0,1000)+\n  labs(title = \"Science\", x = NULL, y = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\")\n\ncombined_plot &lt;- plot7 / plot8 / plot9 + \n  plot_layout(guides = \"collect\") + \n  plot_annotation(\n    title = \"How did Singaporean students perform in Maths,\\nReading and Science?\",\n    theme = theme(plot.title = element_text(hjust = 0, size = 20))\n  )\ncombined_plot\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nSingapore mean score for Mathematics, Reading and Science is higher than the OECD mean, it suggests that Singaporean students perform better than the OECD average in across the three aspects assessed. The position of the peaks (modes) of the distributions for male and female students, which indicates the most common score range for each gender, are fairly close. The spread of the distributions, which can show the range of scores and variability within each gender group, is also similar. There is a minor performance variation observed in reading where the mean score for female is higher than that of male."
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-socio-economic-background-affect-singaporean-students-performance-in-maths-reading-and-science",
    "href": "Exercises/TH1/TH1.html#does-socio-economic-background-affect-singaporean-students-performance-in-maths-reading-and-science",
    "title": "OECD PISA Global Education",
    "section": "5.3 Does socio-economic background affect Singaporean students’ performance in Maths, Reading and Science?",
    "text": "5.3 Does socio-economic background affect Singaporean students’ performance in Maths, Reading and Science?\nA critical component of our analysis will focus on the impact of socio-economic status on academic performance. We will create visualizations that relates various socio-economic indicators with student achievement in the three core study areas mentioned above. By doing so, we hope to reveal the extent to which socio-economic factors play a role in educational success or challenges.\nPISA index of economic, social, and cultural status (ESCS) is a composite score that combines into a single score information from three components: parents’ highest level of education (PARED index1); parents’ highest occupational status (HISEI index1); and home possessions (HOMEPOS index1, which is a proxy for family wealth).\n\n\nShow the code\nmodel_maths &lt;- lm(ESCS ~ MATH, data = stu_qqq_SGP_perf)\nsummary_model_maths &lt;- summary(model_maths)\nrsquared_maths &lt;- summary_model_maths$r.squared\npvalue_maths &lt;- round(summary_model_maths$coefficients[2,4], 5)\n\nmodel_reading &lt;- lm(ESCS ~ READING, data = stu_qqq_SGP_perf)\nsummary_model_reading &lt;- summary(model_reading)\nrsquared_reading &lt;- summary_model_reading$r.squared\npvalue_reading &lt;- round(summary_model_reading$coefficients[2,4], 5)\n\nmodel_science &lt;- lm(ESCS ~ SCIENCE, data = stu_qqq_SGP_perf)\nsummary_model_science &lt;- summary(model_science)\nrsquared_science &lt;- summary_model_science$r.squared\npvalue_science &lt;- round(summary_model_science$coefficients[2,4], 5)\n\n\n\n\nShow the code\nplot10 &lt;- ggplot(data = stu_qqq_SGP_perf,\n                 aes(y = ESCS, x = MATH, \n                     fill = ST004D01T, colour = ST004D01T))+\n  geom_point(alpha = 0.3)+\n  geom_smooth(size = 0.8)+\n  annotate(\"text\", x = 500, y = 2, \n           label = paste(\"R^2 = \", round(rsquared_maths, 3), \"\\np-value = \", pvalue_maths), \n           hjust = 0, vjust = 0, size = 3)+\n  labs(title = NULL, x = \"Maths Score\", y = \"Socio-economic Index (ESCS)\")+\n  theme_minimal()+\n  xlim(100,900)+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot11 &lt;- ggplot(data = stu_qqq_SGP_perf, \n                 aes(y = ESCS, x = READING, \n                     fill = ST004D01T, colour = ST004D01T))+\n  geom_point(alpha = 0.3)+\n  geom_smooth(size = 0.8)+\n  annotate(\"text\", x = 500, y = 2, \n           label = paste(\"R^2 = \", round(rsquared_reading, 3), \"\\np-value = \", pvalue_reading), \n           hjust = 0, vjust = 0, size = 3)+\n  labs(title = NULL, x = \"Reading Score\", y = NULL)+\n  theme_minimal()+\n  xlim(100,900)+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  theme(axis.text.y = element_blank())\n\nplot12 &lt;- ggplot(data = stu_qqq_SGP_perf,\n                 aes(y = ESCS, x = SCIENCE, \n                     fill = ST004D01T, colour = ST004D01T))+\n  geom_point(alpha = 0.3)+\n  geom_smooth(size = 0.8)+\n  annotate(\"text\", x = 500, y = 2, \n           label = paste(\"R^2 = \", round(rsquared_science, 3), \"\\np-value = \", pvalue_science), \n           hjust = 0, vjust = 0, size = 3)+\n  labs(title = NULL, x = \"Science Score\", y = NULL)+\n  theme_minimal()+\n  xlim(100,900)+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  theme(axis.text.y = element_blank())\n\ncombined_plot &lt;- plot10 + plot11 + plot12 + \n  plot_layout(guides = \"collect\") + \n  plot_annotation(\n    title = \"Does socio-economic background affect Singaporean\\nstudents' performance in Maths, Reading and Science?\",\n    theme = theme(plot.title = element_text(hjust = 0, size = 20))\n  )\n\n# Print the combined plot with the overall title\ncombined_plot\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nThe scatter plots with overlaid trend lines demonstrate the relationship between students’ scores in Mathematics, Reading, and Science, and their socio-economic status (ESCS). An observed positive trend indicates that students with higher socio-economic status tend to score higher in these subjects.\nThe strength of this relationship can be quantified by the R-squared value; the closer it is to 1, the stronger the relationship. The p-value tests the significance of the relationship, with values less than 0.05 typically considered statistically significant."
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-linguistic-background-affect-singaporean-students-performance-in-maths-reading-and-science",
    "href": "Exercises/TH1/TH1.html#does-linguistic-background-affect-singaporean-students-performance-in-maths-reading-and-science",
    "title": "OECD PISA Global Education",
    "section": "5.2 Does linguistic background affect Singaporean students’ performance in Maths, Reading and Science?",
    "text": "5.2 Does linguistic background affect Singaporean students’ performance in Maths, Reading and Science?"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-the-school-system-affect-singaporean-students-performance-in-maths-reading-and-science",
    "href": "Exercises/TH1/TH1.html#does-the-school-system-affect-singaporean-students-performance-in-maths-reading-and-science",
    "title": "OECD PISA Global Education",
    "section": "5.2 Does the school system affect Singaporean students’ performance in Maths, Reading and Science?",
    "text": "5.2 Does the school system affect Singaporean students’ performance in Maths, Reading and Science?\n\nschsys &lt;- select(stu_qqq_SGP, starts_with(c(\"ST267\", \"ST265\")))\n\nnames(schsys) &lt;- c(\n  ST267Q01JA = \"The teachers at my school are respectful towards me.\",\n  ST267Q02JA = \"If I walked into my classes upset, my teachers would be concerned about me.\",\n  ST267Q03JA = \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\",\n  ST267Q04JA = \"I feel intimidated by the teachers at my school.\",\n  ST267Q05JA = \"When my teachers ask how I am doing, they are really interested in my answer.\",\n  ST267Q06JA = \"The teachers at my school are friendly towards me.\",\n  ST267Q07JA = \"The teachers at my school are interested in students' well-being.\",\n  ST267Q08JA = \"The teachers at my school are mean towards me.\",\n  ST265Q01JA = \"I feel safe on my way to school.\",\n  ST265Q02JA = \"I feel safe on my way home from school.\",\n  ST265Q03JA = \"I feel safe in my classrooms at school.\",\n  ST265Q04JA = \"I feel safe at other places at school (e.g. hallway, cafeteria, restroom).\")\n\n\nlikert_recode &lt;- function(x) {\n  y &lt;- ifelse(is.na(x), NA, \n              ifelse(x == 1, \"Strongly disagree\",\n              ifelse(x == 2, \"Disagree\",\n              ifelse(x == 3, \"Agree\",\n              \"Strongly agree\"))))\n  y &lt;- factor(y, levels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))\n  return(y)\n}\n\n\nschsys_likert &lt;- schsys %&gt;%\n  mutate(across(everything(), likert_recode))\n\n\nlevel_check &lt;- sapply(schsys_likert, function(x) all(levels(x) == levels(schsys_likert[[1]])))\nprint(level_check)\n\n                                       The teachers at my school are respectful towards me. \n                                                                                       TRUE \n                If I walked into my classes upset, my teachers would be concerned about me. \n                                                                                       TRUE \nIf I came back to visit my school 3 years from now, my teachers would be excited to see me. \n                                                                                       TRUE \n                                           I feel intimidated by the teachers at my school. \n                                                                                       TRUE \n              When my teachers ask how I am doing, they are really interested in my answer. \n                                                                                       TRUE \n                                         The teachers at my school are friendly towards me. \n                                                                                       TRUE \n                          The teachers at my school are interested in students' well-being. \n                                                                                       TRUE \n                                             The teachers at my school are mean towards me. \n                                                                                       TRUE \n                                                           I feel safe on my way to school. \n                                                                                       TRUE \n                                                    I feel safe on my way home from school. \n                                                                                       TRUE \n                                                    I feel safe in my classrooms at school. \n                                                                                       TRUE \n                 I feel safe at other places at school (e.g. hallway, cafeteria, restroom). \n                                                                                       TRUE \n\n\n\nglimpse(schsys_likert)\n\nRows: 6,606\nColumns: 12\n$ `The teachers at my school are respectful towards me.`                                        &lt;fct&gt; …\n$ `If I walked into my classes upset, my teachers would be concerned about me.`                 &lt;fct&gt; …\n$ `If I came back to visit my school 3 years from now, my teachers would be excited to see me.` &lt;fct&gt; …\n$ `I feel intimidated by the teachers at my school.`                                            &lt;fct&gt; …\n$ `When my teachers ask how I am doing, they are really interested in my answer.`               &lt;fct&gt; …\n$ `The teachers at my school are friendly towards me.`                                          &lt;fct&gt; …\n$ `The teachers at my school are interested in students' well-being.`                           &lt;fct&gt; …\n$ `The teachers at my school are mean towards me.`                                              &lt;fct&gt; …\n$ `I feel safe on my way to school.`                                                            &lt;fct&gt; …\n$ `I feel safe on my way home from school.`                                                     &lt;fct&gt; …\n$ `I feel safe in my classrooms at school.`                                                     &lt;fct&gt; …\n$ `I feel safe at other places at school (e.g. hallway, cafeteria, restroom).`                  &lt;fct&gt; …\n\n\n\ncolnames(schsys_likert)\n\n [1] \"The teachers at my school are respectful towards me.\"                                       \n [2] \"If I walked into my classes upset, my teachers would be concerned about me.\"                \n [3] \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\"\n [4] \"I feel intimidated by the teachers at my school.\"                                           \n [5] \"When my teachers ask how I am doing, they are really interested in my answer.\"              \n [6] \"The teachers at my school are friendly towards me.\"                                         \n [7] \"The teachers at my school are interested in students' well-being.\"                          \n [8] \"The teachers at my school are mean towards me.\"                                             \n [9] \"I feel safe on my way to school.\"                                                           \n[10] \"I feel safe on my way home from school.\"                                                    \n[11] \"I feel safe in my classrooms at school.\"                                                    \n[12] \"I feel safe at other places at school (e.g. hallway, cafeteria, restroom).\"                 \n\n\n\n# Convert data from wide to long format, excluding NA values\nschsys_likert_long &lt;- schsys_likert %&gt;%\n  pivot_longer(cols = 1:12, names_to = \"question\", values_to = \"response\") %&gt;%\n  filter(!is.na(response)) %&gt;%\n  mutate(response = factor(response, levels = c(1, 2, 3, 4), labels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\")))\n\n\nglimpse(schsys_likert_long)\n\nRows: 59,019\nColumns: 2\n$ question &lt;chr&gt; \"If I walked into my classes upset, my teachers would be conc…\n$ response &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n\n\n\nschsys_likert_long &lt;- schsys_likert %&gt;%\n  pivot_longer(\n    cols = everything(), \n    names_to = \"question\", \n    values_to = \"response\"\n  ) %&gt;%\n  filter(!is.na(response)) %&gt;%\n  mutate(\n    response = factor(\n      response,\n      levels = c(1, 2, 3, 4),\n      labels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\")\n    )\n  )\n\n\nlibrary(dplyr)\nlibrary(ggplot2)\n\n# Assuming schsys_likert_long is your long-format data\n# Create a new column with shortened names\nschsys_likert_long &lt;- schsys_likert_long %&gt;%\n  mutate(short_question = case_when(\n    question == \"The teachers at my school are respectful towards me.\" ~ \"The teachers at my school are respectful towards me.\",\n    question == \"If I walked into my classes upset, my teachers would be concerned about me.\" ~ \"The teachers will be concerned about me if I am upset.\",\n    question == \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\" ~ \"The teachers will be excited to see me in future.\",\n    question == \"I feel intimidated by the teachers at my school.\" ~ \"I feel intimidated by the teachers at my school.\",\n    question == \"When my teachers ask how I am doing, they are really interested in my answer.\" ~ \"The teachers are genuinely interested when listening to me.\",\n    question == \"I feel safe at other places at school (e.g. hallway, cafeteria, restroom).\" ~ \"I feel safe at other places at school.\",\n    TRUE ~ question  # Default case to keep original question if not mapped\n  ))\n\n\nstacked_bar_chart &lt;- ggplot(schsys_likert_long, aes(x = short_question, fill = response)) +\n  geom_bar(position = \"fill\", stat = \"count\") +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(x = NULL, y = \"Percentage\", fill = \"Response\") +\n  theme_minimal() +\n  scale_fill_brewer(palette = \"RdYlGn\") +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    legend.position = \"bottom\"\n  ) +\n  coord_flip()\n\n# Print the plot\nstacked_bar_chart\n\n\n\n\n\n# Now create the stacked bar chart with the shortened names\nstacked_bar_chart &lt;- ggplot(schsys_likert_long, aes(x = short_question, fill = response)) +\n  geom_bar(position = \"fill\", stat = \"count\") +  # This creates the stacked bars\n  geom_text(\n    aes(label = scales::percent(..count../sum(..count..))),  # Calculate percentage\n    stat = \"count\",  # Use count statistics\n    position = position_fill(vjust = 0.5),  # Center the text in the fill area\n    size = 3,  # Size of the text, adjust as needed\n    color = \"white\"  # Color of the text\n  ) +\n  scale_fill_brewer(palette = \"RdYlGn\") +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(x = NULL, y = \"Percentage\", fill = \"Response\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = \"bottom\")+\n  coord_flip()\n\n# Print the plot\nstacked_bar_chart\n\n\n\n\n\n# Now create the stacked bar chart with the shortened names\nstacked_bar_chart &lt;- ggplot(schsys_likert_long, aes(x = short_question, fill = response)) +\n  geom_bar(position = \"fill\") +  # This creates the stacked bars\n  geom_text(\n    aes(label = scales::percent(..prop..)),  # Calculate proportion and convert to percentage\n    stat = \"count\",  # Use count statistics\n    position = position_fill(vjust = 0.5),  # Center the text in the fill area\n    size = 3,  # Size of the text, adjust as needed\n    color = \"white\"  # Color of the text\n  ) +\n  scale_fill_brewer(palette = \"RdYlGn\") +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(x = NULL, y = \"Percentage\", fill = \"Response\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = \"bottom\") +\n  coord_flip()\n\n# Print the plot\nstacked_bar_chart\n\n\n\n\n\n\n\n\n\n\nInsights"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-correlation-exist-between-the-weighted-likelihood-estimates-wles",
    "href": "Exercises/TH1/TH1.html#does-correlation-exist-between-the-weighted-likelihood-estimates-wles",
    "title": "OECD PISA Global Education",
    "section": "5.4 Does correlation exist between the weighted likelihood estimates (WLEs)?",
    "text": "5.4 Does correlation exist between the weighted likelihood estimates (WLEs)?\nWe examine the relationship between the weighted likelihood estimates (WLEs) for each student, which serve as measures of ability based on their responses to assessment items. Through correlation analysis, we will determine if there are any significant associations between these estimates across different subjects.\nFor the analysis, we will impute the NA values with 0. After imputation, is.na() returns 0, where there is no NA values.\n\n\nShow the code\nstu_qqq_SGP_impute &lt;- stu_qqq_SGP %&gt;%\n  mutate_all(funs(ifelse(is.na(.), 0, .)))\n\nsum(is.na(stu_qqq_SGP_impute))\n\n\n[1] 0\n\n\n\nOverall CorrplotOverall Mixed CorrplotEmotional Well-beingSchool SupportFamily SupportDigital exposure\n\n\nThis is a correlation matrix graph based on hierarchical clustering.\n\n\nShow the code\nselected_columns = c(990:1001, 1005:1006,\n                     1007:1015,\n                     1004, 1030:1039,\n                     1050:1062, 1064)\n\n# stu_qqq_SGP_impute[, selected_columns] &lt;- lapply(stu_qqq_SGP_impute[, selected_columns], as.numeric)\n\nvars.cor = cor(stu_qqq_SGP_impute[, selected_columns],\n               use = \"complete.obs\")\n\ncorrplot(vars.cor, \n         method = \"circle\",\n         order = \"hclust\", \n         tl.cex = 0.5, \n         tl.col = \"black\", \n         addrect = 12)\n\n\n\n\n\n\n\n\n\nShow the code\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.3,\n               tl.cex = 0.5,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\",\n               order = \"hclust\",\n               addrect = 3)\n\n\n\n\n\n\n\n\nRELATST Quality of student-teacher relationships (WLE)\nBELONG Sense of belonging (WLE)\nBULLIED Being bullied (WLE)\nFEELSAFE Feeling safe (WLE)\nSCHRISK School safety risks (WLE)\nPERSEVAGR Perseverance (agreement) (WLE)\nCURIOAGR Curiosity (agreement) (WLE)\nCOOPAGR Cooperation (agreement) (WLE)\nEMPATAGR Empathy (agreement) (WLE)\nASSERAGR Assertiveness (agreement) (WLE)\nSTRESAGR Stress resistance (agreement) (WLE)\nEMOCOAGR Emotional control (agreement) (WLE)\nDISCLIM Disciplinary climate in mathematics (WLE) T\nEACHSUP Mathematics Teacher Support (WLE)\n\n\n\nShow the code\nemotional_wellbeing = c(990:1001, 1005:1006)\n\nvars.cor = cor(stu_qqq_SGP_impute[, emotional_wellbeing],\n               use = \"complete.obs\")\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.6,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nCOGACRCO Cognitive activation in mathematics: Foster reasoning Version B (WLE)\nCOGACMCO Cognitive activation in mathematics: Encourage mathematical thinking Version B (WLE)\nEXPOFA Exposure to Formal and Applied Mathematics Tasks (WLE)\nEXPO21ST Exposure to Mathematical Reasoning and 21st century mathematics tasks (WLE)\nMATHEFF Mathematics self-efficacy: formal and applied mathematics - response options reversed in 2022 (WLE)\nMATHEF21 Mathematics self-efficacy: mathematical reasoning and 21st century skills (WLE)\nFAMCON Subjective familiarity with mathematics concepts (WLE)\nANXMAT Mathematics Anxiety (WLE)\nMATHPERS Effort and Persistence in Mathematics (WLE)\n\n\n\nShow the code\nschool_support = c(1006:1016)\n\nvars.cor = cor(stu_qqq_SGP_impute[, school_support],\n               use = \"complete.obs\")\n\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.6,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nFAMSUP Family support (WLE)\nMISCED Mother’s level of education (ISCED)\nFISCED Father’s level of education (ISCED)\nHISCED Highest level of education of parents (ISCED)\nPAREDINT Index highest parental education (international years of schooling scale)\nBMMJ1 Mother’s occupational status (ISEI) based on 4-digit human coded ISCO\nBFMJ2 Father’s occupational status (ISEI) based on 4-digit human coded ISCO\nHISEI Highest parental occupational status (ISEI) based on 4-digit human coded ISCO\nICTRES ICT Resources (WLE) HOMEPOS Home possessions (WLE)\nESCS Index of economic, social and cultural status\n\n\n\nShow the code\nfamily_support = c(1004, 1030:1039)\n\nvars.cor = cor(stu_qqq_SGP_impute[, family_support],\n               use = \"complete.obs\")\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.6,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nICTSCH ICT availability at school (WLE)\nICTAVSCH Availability and Usage of ICT at School\nICTHOME ICT availability outside of school (WLE)\nICTAVHOM Availability and Usage of ICT at Home\nICTQUAL Quality of access to ICT (WLE)\nICTSUBJ Subject-related ICT Use During Lessons (WLE)\nICTENQ Use of ICT in enquiry-based learning activities (WLE)\nICTFEED Support or feedback via ICT (WLE)\nICTOUT Use of ICT for school activities outside of the classroom (WLE)\nICTWKDY Frequency of ICT activity (weekday) (WLE)\nICTWKEND Frequency of ICT activity (weekend) (WLE)\nICTREG Views of regulated ICT use in school (WLE)\nICTINFO Students’ practices regarding online information (WLE)\nICTEFFIC Self-efficacy in digital competencies (WLE)\n\n\n\nShow the code\ndigital_exposure = c(1050:1062, 1064)\n\nvars.cor = cor(stu_qqq_SGP_impute[, digital_exposure],\n               use = \"complete.obs\")\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.6,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nPositive Correlations\n\nStudents who report being bullied BULLIED tend to report higher school safety risks SCHRISK, suggesting a shared underlying issue affecting students’ well-being.\nHome possessions HOMEPOS and the Index of economic, social and cultural status ESCS are positively correlated, which is expected as both are indicators of socioeconomic status.\nEmotional control EMOCOAGR and stress resistance STRESAGAR are positively linked, indicating that students who manage their emotions well are also better at handling stress.\nA quality student-teacher relationship RELATST is positively associated with teacher support in mathematics TEACHSUP, quality access to ICT ICTQUAL, and a sense of belonging BELONG, suggesting a holistic benefit from strong support systems in school.\n\nNegative Correlations\n\nBeing bullied BULLIED is negatively correlated with most weighted likelihood estimates, meaning that as experiences of bullying increase, metrics of student achievement or well-being typically decrease.\nPerceptions of school safety risks SCHRISK are negatively correlated with WLEs, indicating that a sense of insecurity at school is detrimental to students’ academic and emotional outcomes.\nAnxiety in mathematics ANXMAT and lack of stress resistance STRESGAR, along with lower familiarity with math concepts FAMCON and self-efficacy in mathematics MATHEFF and MATHEF21, are all negatively related, suggesting that anxiety and low confidence in one’s math abilities are linked to greater stress and poorer perceived competence."
  },
  {
    "objectID": "Topics/HO2/HO2.html#built-in-themes",
    "href": "Topics/HO2/HO2.html#built-in-themes",
    "title": "Extensions of ggplot2",
    "section": "built-in themes",
    "text": "built-in themes\n\nplot3 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"theme_light\")+\n  theme_light()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot4 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"theme_dark\")+\n  theme_dark()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngridExtra::grid.arrange(plot3, plot4, ncol = 2)"
  },
  {
    "objectID": "Topics/HO2/HO2.html#ggtheme",
    "href": "Topics/HO2/HO2.html#ggtheme",
    "title": "Extensions of ggplot2",
    "section": "ggtheme",
    "text": "ggtheme\nggthemes provides ggplot2 themes that replicate the look of plots by Edward Tufte, Stephen Few, Fivethirtyeight, The Economist, ‘Stata’, ‘Excel’, and The Wall Street Journal, among others.\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme_economist()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO2/HO2.html#hrbthems",
    "href": "Topics/HO2/HO2.html#hrbthems",
    "title": "Extensions of ggplot2",
    "section": "hrbthems",
    "text": "hrbthems\nhrbrthemes package provides a base theme that focuses on typographic elements, including where various labels are placed as well as the fonts that are used.\nThemes:\n\ntheme_ft_rc()\ntheme_ipsum()\ntheme_ipsum_ps()\ntheme_ipsum_rc()\ntheme_ipsum_tw()\ntheme_modern_rc()\n\ntheme_ipsum() where ‘ipsum’ is Latin for ’precise.\n\n\n\n\n\n\nWarning\n\n\n\nError in theme_ipsum() : could not find function “theme_ipsum”\nEither Arial Narrow or Roboto Condensed fonts are required to use these themes.\nPlease use hrbrthemes::import_roboto_condensed() to install Roboto Condensed and if Arial Narrow is not on your system, please see https://bit.ly/arialnarrow\nWhy Arial Narrow?\nArial Narrow is generally installed by default or readily available on any modern system. Also, it is a condensed font with solid default kerning pairs and geometric numbers.\n\n\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"black\",\n                 fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  theme_ipsum(axis_title_size = 18,\n              base_size = 15,\n              grid = \"Y\")\n\n\n\n\naxis_title_size argument is used to increase the font size of the axis title to 18, base_size argument is used to increase the default axis label to 15, and grid argument is used to remove the x-axis grid lines. :::"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#data-table",
    "href": "Exercises/TH1/TH1.html#data-table",
    "title": "OECD PISA Global Education",
    "section": "4.1 Data Table",
    "text": "4.1 Data Table\nThere are 148 secondary schools under MOE and 24 international schools. The PISA 2022 dataset compiles the student assessment across 164 unique school ID, surveying an impressive 95% of local schools.\n\n\nShow the code\nSCH_table &lt;- stu_qqq_SGP %&gt;%\n  group_by(CNT, CNTRYID, CNTSCHID) %&gt;%\n  summarise(TOTAL_STUDENT = n())\n\nDT::datatable(SCH_table)\n\n\n\n\n\n\n\nThere is an average of* 40.2 students assessed per school, equivalent to the class size of a level, in Singapore context, Secondary 3.\n\n\nShow the code\nmean(SCH_table$TOTAL_STUDENT)\n\n\n[1] 40.28049\n\n\nWith 1,279 variables, we can find out\n\n\nCode\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; O[Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n\n\n\n\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; O[Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n\n\n\n\n\n‘70200150’ no such school ID\n\nsum(is.na(stu_qqq_SGP))\n\n[1] 4168500"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#data-scheme",
    "href": "Exercises/TH1/TH1.html#data-scheme",
    "title": "OECD PISA Global Education",
    "section": "4.4 Data Scheme",
    "text": "4.4 Data Scheme\nWith 1,279 variables, we can find out\n\n\nCode\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support \\n Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; H\n  C --&gt; P{Immigrant Background}\n  P --&gt; Q[Native \\n First Generation \\n Second Generation] \n  Q --&gt; H\n\n\n\n\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support \\n Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; H\n  C --&gt; P{Immigrant Background}\n  P --&gt; Q[Native \\n First Generation \\n Second Generation] \n  Q --&gt; H"
  },
  {
    "objectID": "Topics/HO3/HO3.html#plot_ly",
    "href": "Topics/HO3/HO3.html#plot_ly",
    "title": "Interactive Data Visualization",
    "section": "4.1 plot_ly()",
    "text": "4.1 plot_ly()\n\nBasic plotly (2 variables)Three variables\n\n\nEach dot represents a student and the associated english and math score is displayed on the interactive graph.\n\nplot_ly(data = exam_data, \n        x = ~MATHS, y = ~ENGLISH)\n\n\n\n\n\n\n\ncolor argument is mapped to a qualitative visual variable, in this example, RACE. This representation adds on a broad category to the visualization.\n\nplot_ly(data = exam_data, \n        x = ~MATHS, y = ~ENGLISH,\n        color = ~RACE)"
  },
  {
    "objectID": "Topics/HO3/HO3.html#ggplotly",
    "href": "Topics/HO3/HO3.html#ggplotly",
    "title": "Interactive Data Visualization",
    "section": "4.2 ggplotly()",
    "text": "4.2 ggplotly()\nRequires ggplot() and then using ggplotly()\n\nBasic ggplotlyMultiple ggplotly\n\n\n\np &lt;- ggplot(data=exam_data, \n            aes(x = MATHS, y = ENGLISH))+\n  geom_point(size=1)+\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\nggplotly(p)\n\n\n\n\n\n\n\nThe creation of a coordinated linked plot by using plotly involves three steps:\nhighlight_key() of plotly package is used as shared data. two scatterplots will be created by using ggplot2 functions. lastly, subplot() of plotly package is used to place them next to each other side-by-side.\n\nd &lt;- highlight_key(exam_data)\np1 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\np2 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = SCIENCE)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nsubplot(ggplotly(p1),\n        ggplotly(p2))"
  },
  {
    "objectID": "Topics/HO3/HO3.html#data-table",
    "href": "Topics/HO3/HO3.html#data-table",
    "title": "Interactive and Animated Data Visualization",
    "section": "7.1 Data Table",
    "text": "7.1 Data Table\n\nDT::datatable(exam_data[c(\"ID\",\"CLASS\",\"GENDER\",\"RACE\",\"ENGLISH\",\"MATHS\",\"SCIENCE\")],\n              class= \"compact\")"
  },
  {
    "objectID": "Topics/HO3/HO3.html#linked-brushing",
    "href": "Topics/HO3/HO3.html#linked-brushing",
    "title": "Interactive and Animated Data Visualization",
    "section": "7.2 Linked Brushing",
    "text": "7.2 Linked Brushing\n\nd &lt;- highlight_key(exam_data) \n\np &lt;- ggplot(data=d, \n            aes(x = MATHS, y = ENGLISH,\n                text = paste(\"&lt;b&gt;Maths Score:&lt;/b&gt;\", MATHS,\"&lt;br&gt;&lt;b&gt;English Score:\", ENGLISH))) +\n  geom_point(size=1, shape = 12) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))+ \n  theme_minimal()\n\ngg &lt;- highlight(ggplotly(p),        \n                \"plotly_selected\")  \n\ncrosstalk::bscols(gg,               \n                  DT::datatable(d), \n                  widths = 5)"
  },
  {
    "objectID": "Topics/HO4/HO4.html",
    "href": "Topics/HO4/HO4.html",
    "title": "Visual Statistical Analysis",
    "section": "",
    "text": "Source: Ohio.edu\n\n1. Learning Objectives\n\nNew statistical graphic methods for visualising distribution, namely ridgeline plot and raincloud plot by using ggplot2 and its extensions.\nCreate visual graphics with rich statistical information using ggstatsplot package\nVisualise model diagnostics using performance package\nVisualise model parameters using parameters package\n\n\n\n2. Load Packages\n\ntidyverse is a family of R packages designed to support data science, analysis and communication task including creating static statistical graphs\nggridges is an ggplot2 extension specially designed for plotting ridgeline plots\nggdist for visualising distribution and uncertainty\n\n\npacman::p_load(ggdist, ggridges, ggthemes, colorspace, tidyverse)\n\n\n\n3. Import Data\nexam_data is a year end examination grades of a cohort of Primary 3 students from a local school.\n\nexam_data &lt;- read.csv(\"data/Exam_data.csv\")\nglimpse(exam_data)\n\nRows: 322\nColumns: 7\n$ ID      &lt;chr&gt; \"Student321\", \"Student305\", \"Student289\", \"Student227\", \"Stude…\n$ CLASS   &lt;chr&gt; \"3I\", \"3I\", \"3H\", \"3F\", \"3I\", \"3I\", \"3I\", \"3I\", \"3I\", \"3H\", \"3…\n$ GENDER  &lt;chr&gt; \"Male\", \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Male\", \"M…\n$ RACE    &lt;chr&gt; \"Malay\", \"Malay\", \"Chinese\", \"Chinese\", \"Malay\", \"Malay\", \"Chi…\n$ ENGLISH &lt;int&gt; 21, 24, 26, 27, 27, 31, 31, 31, 33, 34, 34, 36, 36, 36, 37, 38…\n$ MATHS   &lt;int&gt; 9, 22, 16, 77, 11, 16, 21, 18, 19, 49, 39, 35, 23, 36, 49, 30,…\n$ SCIENCE &lt;int&gt; 15, 16, 16, 31, 25, 16, 25, 27, 15, 37, 42, 22, 32, 36, 35, 45…\n\n\n\n\n4. Ridgeline Plot\nA Ridgeline plot (or Joyplot) shows the distribution of a numeric value for several groups/variables. Distribution can be represented using histograms or density plots, all aligned to the same horizontal scale and presented with a slight overlap.\nRidgeline plots are useful to represent medium to high groups (above 6), and overlapping groups use space more efficiently. Where there is less than 6 groups, distribution plots are better, namely violin, density, histogram and boxplot.\nRidgeline plots works well with clear patterns or ranking in the data. Otherwise group will tend to overlap each other, leading to a messy plot not providing any insight.\nggridges package provides two main geom to plot gridgeline plots:\n\ngeom_ridgeline() takes height values directly to draw the ridgelines\ngeom_density_ridges() estimates data densities and then draws those using ridgelines\n\n\nDensity PlotHistogramDensity Plot with GradientDensity Plot with ProbabilitiesDensity Plot with QuantilesDensity Plot with Confidence Intervals\n\n\nThe geom_density_ridges() calculates density estimates from the data and then plots those, using the ridgeline visualization. The height aesthetic does not need to be specified in this case.\nTrailing tails can be cut off using the rel_min_height aesthetic. This aesthetic sets a percent cutoff relative to the highest point of any of the density curves. A value of 0.01 usually works well, but you may have to modify this parameter for different datasets.\nThe extent to which the different densities overlap can be controlled with the scale parameter. A setting of scale = 1 means the tallest density curve just touches the baseline of the next higher one. Smaller values create a separation between the curves, and larger values create more overlap.\n\nggplot(exam_data, \n       aes(x = ENGLISH, y = CLASS)) +\n  geom_density_ridges(scale = 3,\n                      alpha = 0.3,\n                      rel_min_height = 0.01,\n                      scale = 1,\n                      bandwidth = 3.4,\n                      aes(fill = CLASS))+\n  scale_x_continuous(name = \"English Scores\",\n                     expand = c(0, 0))+\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2,2.6)))+\n  theme_ridges()\n\n\n\n\n\n\nA ridgeline plot can also be created using a set of histograms using stat and bins aesthetics.\n\nggplot(exam_data, \n       aes(x = ENGLISH, y = CLASS, fill = CLASS))+\n  geom_density_ridges(scale = 2.5,\n                      alpha = 0.3,\n                      stat = \"binline\",\n                      bins = 20,\n                      rel_min_height = 0.01,\n                      scale = 1,\n                      bandwidth = 3.4,\n                      aes(fill = CLASS))+\n  scale_x_continuous(name = \"English Scores\",\n                     expand = c(0, 0))+\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2,2.6)))+\n  theme_ridges()\n\n\n\n\n\n\nInstead of a single solid color, the area under a ridgeline can be filled with colors that vary in some form along the x axis using geom_ridgeline_gradient() or geom_density_ridges_gradient(). Both geoms work just like geom_ridgeline() and geom_density_ridges(), except that they allow for varying fill colors.\nHowever, they do not allow for alpha transparency for technical reasons.\ndirection sets the order of colors in the scale. If 1, the default, colors are ordered from darkest to lightest. If -1, the order of colors is reversed.\noption is a character string indicating the color map option to use. Eight options are available:\n“magma” (or “A”) “inferno” (or “B”) “plasma” (or “C”) “viridis” (or “D”) “cividis” (or “E”) “rocket” (or “F”) “mako” (or “G”) “turbo” (or “H”)\n\nggplot(exam_data, \n       aes(x = ENGLISH, y = CLASS,\n           fill = stat(x)))+\n  geom_density_ridges_gradient(scale = 3,\n                               bandwidth = 3.4,\n                               rel_min_height = 0.01)+\n  scale_fill_viridis_c(name = \"English Scores\",\n                       option = \"D\") +\n  scale_x_continuous(name = \"English Scores\",\n                     expand = c(0, 0))+\n  scale_y_discrete(name = NULL, expand = expansion(add = c(0.2, 2.6)))+\n  theme_ridges()\n\n\n\n\n\n\nggridges also provides a stat function, stat_density_ridges() to replace stat_density() of ggplot2, where calc_ecdf = TRUE.\nThe probabilities are calculated by using stat(ecdf) which represent the empirical cumulative density function for the distribution of English score.\n\nggplot(exam_data,\n       aes(x = ENGLISH, y = CLASS, \n           fill = 0.5 - abs(0.5-stat(ecdf))))+\n  stat_density_ridges(geom = \"density_ridges_gradient\", \n                      calc_ecdf = TRUE,\n                      scale = 2,\n                      bandwidth = 3.4)+\n  scale_fill_viridis_c(name = \"Tail probability\",\n                       direction = -1,\n                       option = \"A\")+\n  theme_ridges()\n\n\n\n\n\n\nThe ridgeline plot can be coloured by quantile using the calculated stat(quantile) aesthetic, where calc_ecdf = TRUE, quantiles = # and quantile_lines = TRUE.\n\nggplot(exam_data,\n       aes(x = ENGLISH, y = CLASS, \n           fill = factor(stat(quantile))))+\n  stat_density_ridges(geom = \"density_ridges_gradient\",\n                      scale = 2,\n                      bandwidth = 3.4,\n                      calc_ecdf = TRUE, \n                      quantiles = 5,\n                      quantile_lines = TRUE)+\n  scale_fill_viridis_d(name = \"Quartiles\",\n                       direction = -1,\n                       option = \"A\")+\n  theme_ridges()\n\n\n\n\n\n\nInstead of using number to define the quantiles, we can also specify quantiles by cut points such as 2.5% and 97.5% tails to colour the ridgeline plot.\n\nggplot(exam_data,\n       aes(x = ENGLISH, y = CLASS, \n           fill = factor(stat(quantile))))+\n  stat_density_ridges(geom = \"density_ridges_gradient\",\n                      scale = 2,\n                      bandwidth = 3.4,\n                      calc_ecdf = TRUE,\n                      quantiles = c(0.025, 0.975))+\n  scale_fill_manual(name = \"Probability\",\n                    values = c(\"#FF0000A0\", \"#A0A0A0A0\", \"#0000FFA0\"),\n                    labels = c(\"(0, 0.025]\", \"(0.025, 0.975]\", \"(0.975, 1]\"))+\n  theme_ridges()\n\n\n\n\n\n\n\n\n\n5. Raincloud Plot\nThe Raincloud Plot is a visualization that produces a half-density to a distribution plot. The density plot is in the shape of a raincloud and enhances the the box-plot by highlighting multiple modalities (an indicator that groups may exist).\nThe boxplot does not show where densities are clustered, but the raincloud plot does. Step 1: Plot a Half-Eye graph by using stat_halfeye() of ggdist package Step 2: Add the second geometry layer using geom_boxplot() of ggplot2 Step 3: Add the third geometry layer using stat_dots() of ggdist package Step 4: Flip the raincloud chart horizontally using coord_flip() of ggplot2 package\n\nHalf EyeBoxplotDot PlotFlip\n\n\nstat_halfeye() of ggdist package produces a Half Eye visualization, which is contains a half-density and a slab-interval.\nThe slab interval is removed by setting .width = 0 and point_colour = NA.\n\nggplot(exam_data, \n       aes(x = RACE, y = ENGLISH, fill = GENDER)) +\n  stat_halfeye(alpha = 0.5,\n               adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA)+\n  theme_minimal()\n\n\n\n\n\n\ngeom_boxplot() of ggplot2 produces a narrow boxplot. The width and opacity can be adjusted.\n\nggplot(exam_data, \n       aes(x = RACE, y = ENGLISH, fill = GENDER))+\n  stat_halfeye(alpha = 0.5,\n               adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA)+\n  geom_boxplot(width = .20, \n               outlier.shape = NA,\n               alpha = 0.8)+\n  theme_minimal()\n\n\n\n\n\n\nstat_dots() of ggdist package produces a half-dotplot, which is similar to a histogram. The number of dots that indicates the number of data points in each bin.\nside = “left” indicates the position of dots on the left-hand side.\n\nggplot(exam_data, \n       aes(x = RACE, y = ENGLISH, fill = GENDER)) +\n  stat_halfeye(adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA,\n               alpha = 0.5) +\n  geom_boxplot(width = .20,\n               outlier.shape = NA,\n               alpha = 0.8) +\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 2)+\n  theme_minimal()\n\n\n\n\n\n\ncoord_flip() of ggplot2 package flips the raincloud chart horizontally to give it the raincloud appearance.\nOptional: theme_economist() of ggthemes package is used to give the raincloud chart a professional publishing standard look.\n\nggplot(exam_data, \n       aes(x = RACE, \n           y = ENGLISH, fill = GENDER))+\n  stat_halfeye(alpha = 0.5, \n               adjust = 0.5,\n               justification = -0.2,\n               .width = 0,\n               point_colour = NA)+\n  geom_boxplot(alpha = 0.8, \n               width = .20,\n               outlier.shape = NA)+\n  stat_dots(side = \"left\", \n            justification = 1.2, \n            binwidth = .5,\n            dotsize = 1.5)+\n  coord_flip()+\n  theme_minimal()\n\n\n\n\n\n\n\nReferences\nhttps://www.data-to-viz.com/graph/ridgeline.html\nhttps://rpubs.com/rana2hin/raincloud"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#data-demographics",
    "href": "Exercises/TH1/TH1.html#data-demographics",
    "title": "OECD PISA Global Education",
    "section": "4.5 Data Demographics",
    "text": "4.5 Data Demographics\nTo understand the student demographics, we will visualize the distribution and summary statistics of gender, age and nationality. We will also have an overview of the students’ time invested in studying and exposure to digital device, and their parent’s education level.\n\n\n\nVariable\nDescription\n\n\n\n\nST004D01T\nStudent (Standardized) Gender\n\n\nAGE\nStudents’ age\n\n\nST019AQ01T\nCountry of birth\n\n\nST294Q02JA\nNumber of days spent studying for school or homework\n\n\nST253Q01JA\nNumber of digital devices in your home\n\n\nHISCED\nHighest level of education of parents (ISCED)\n\n\n\n\n\nShow the code\nplot1 &lt;- ggplot(stu_qqq_SGP, aes(x = ST004D01T))+\n  geom_bar(colour = \"black\", \n           fill = \"aquamarine\")+\n  labs(title = \"Students' Gender\", x = NULL, y = NULL)+\n  ylim(0,4000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot2 &lt;- ggplot(stu_qqq_SGP, aes(y = AGE))+\n  geom_boxplot(notch = TRUE,\n               fill = \"aquamarine3\")+\n  labs(title = \"Students' Age\", x = NULL, y = NULL)+\n  theme_minimal()\n\nplot3 &lt;- ggplot(stu_qqq_SGP, aes(x = ST019AQ01T))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine4\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Nationality\", x = NULL, y = NULL)+\n  ylim(0,6000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot4 &lt;- ggplot(stu_qqq_SGP, aes(x = ST294Q02JA))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine4\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Study (Days)\", x = NULL, y = NULL)+\n  ylim(0,3500)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1,\n            size = 3)+\n  theme_minimal()\n\nplot5 &lt;- ggplot(stu_qqq_SGP, aes(x = ST253Q01JA))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Digital Expose\", x = NULL, y = NULL)+\n  ylim(0,6000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot6 &lt;- ggplot(stu_qqq_SGP, aes(x = HISCED))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine3\")+\n  labs(title = \"Parents' Education\", x = NULL, y = NULL)+\n  ylim(0,2000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1,\n            size = 3)+\n  theme_minimal()\n\n(plot1 + plot2 + plot3) / (plot4 + plot5 + plot6)\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\n\nGender: The distribution between male and female is relatively even.\nAge: The median age is 15.75.\nNationality: Assuming value 1 is Singapore, majority of the students are local.\nStudy Time: Most students spend 1 or 6 days studying or doing homework. (In comparison, Masters students spend 7 days studying.)\nDigital Exposure: Manjority of the students are exposed to one device, relatively low considering TV as a baseline screen in most homes and most students having their personal mobile devices.\nParents’ Education: Short-cycle tertiary education is not applicable in Singapore. Most parents (70%) hold tertiary and above education.\n\n\n\nISCED Level\nEducation Level\n\n\n\n\nLevel 1\nPrimary\n\n\nLevel 2\nLower secondary\n\n\nLevel 3\nUpper secondary\n\n\nLevel 4\nPost-secondary non-tertiary\n\n\nLevel 5\nShort-cycle tertiary\n\n\nLevel 6\nBachelor’s or equivalent\n\n\nLevel 7\nMaster’s or equivalent\n\n\nLevel 8\nDoctoral or equivalent"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#immigration-status",
    "href": "Exercises/TH1/TH1.html#immigration-status",
    "title": "OECD PISA Global Education",
    "section": "5.5 Immigration Status",
    "text": "5.5 Immigration Status\n\ndata_long &lt;- stu_qqq_SGP %&gt;%\n  dplyr::mutate(gender = ifelse(ST004D01T == 1, \"Female\", \"Male\"),\n                 immigration = factor(ifelse(is.na(IMMIG), NA,\n                                             ifelse(IMMIG == 1, \"Native\", \n                                                    ifelse(IMMIG == 2, \"Second-Generation\", \n                                                           \"First-Generation\"))),\n                                      levels = c(\"Native\", \"First-Generation\", \"Second-Generation\"))) %&gt;%\n  dplyr::select(-ST004D01T, -IMMIG) %&gt;%\n  dplyr::rename(grade = ST001D01T, student = CNTSTUID, age = AGE) %&gt;% \n  melt(data = .,\n       id.vars = c(\"student\", \"grade\", \"age\", \"gender\", \"immigration\"),\n       variable.name = \"question\",\n       value.name = \"response\") %&gt;%\n  mutate(response2 = (ifelse(is.na(response), \"NA\",\n                             ifelse(response == 1, \"Strongly disagree\",\n                                    ifelse(response == 2, \"Disagree\",\n                                           ifelse(response == 3, \"Agree\", \"Strongly agree\"))))),\n         response3 = factor(response2, levels = c(\"NA\", \"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))) \n\n\nglimpse(data_long)\n\nRows: 8,416,044\nColumns: 9\n$ student     &lt;chr&gt; \"70200001\", \"70200002\", \"70200003\", \"70200004\", \"70200005\"…\n$ grade       &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10…\n$ age         &lt;dbl&gt; 15.50, 15.83, 15.75, 16.17, 15.58, 15.58, 16.08, 16.00, 15…\n$ gender      &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\", \"Mal…\n$ immigration &lt;fct&gt; Native, Native, Native, Native, Native, First-Generation, …\n$ question    &lt;fct&gt; CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT…\n$ response    &lt;chr&gt; \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"S…\n$ response2   &lt;chr&gt; \"Strongly agree\", \"Strongly agree\", \"Strongly agree\", \"Str…\n$ response3   &lt;fct&gt; Strongly agree, Strongly agree, Strongly agree, Strongly a…\n\n\n\nST267Q03JA &lt;- data_long %&gt;%\n  filter(question == \"ST267Q03JA\") %&gt;%\n  group_by(gender, immigration, response3) %&gt;%\n  dplyr::summarise(Freq = dplyr::n())\n\n\nif (!require(\"ggalluvial\")) install.packages(\"ggalluvial\")\nlibrary(ggalluvial)\n\n\nstr(ST267Q03JA)\n\ngropd_df [40 × 4] (S3: grouped_df/tbl_df/tbl/data.frame)\n $ gender     : chr [1:40] \"Female\" \"Female\" \"Female\" \"Female\" ...\n $ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 1 1 1 1 2 2 2 2 2 ...\n $ response3  : Factor w/ 5 levels \"NA\",\"Strongly disagree\",..: 1 2 3 4 5 1 2 3 4 5 ...\n $ Freq       : int [1:40] 877 115 480 722 97 207 18 76 181 33 ...\n - attr(*, \"groups\")= tibble [8 × 3] (S3: tbl_df/tbl/data.frame)\n  ..$ gender     : chr [1:8] \"Female\" \"Female\" \"Female\" \"Female\" ...\n  ..$ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 2 3 NA 1 2 3 NA\n  ..$ .rows      : list&lt;int&gt; [1:8] \n  .. ..$ : int [1:5] 1 2 3 4 5\n  .. ..$ : int [1:5] 6 7 8 9 10\n  .. ..$ : int [1:5] 11 12 13 14 15\n  .. ..$ : int [1:5] 16 17 18 19 20\n  .. ..$ : int [1:5] 21 22 23 24 25\n  .. ..$ : int [1:5] 26 27 28 29 30\n  .. ..$ : int [1:5] 31 32 33 34 35\n  .. ..$ : int [1:5] 36 37 38 39 40\n  .. ..@ ptype: int(0) \n  ..- attr(*, \".drop\")= logi TRUE\n\n\n\nggplot(ST267Q03JA,\n       aes(y = Freq, axis1 = gender, axis2 = immigration, axis3 = response3)) +\n  geom_alluvium(aes(fill = gender), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"black\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"gender\", \"immigration\", \"response3\"), expand = c(.1, .1)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\") +\n  ggtitle(\"If I came back to visit my school 3 years from now,\\nmy teachers would be excited to see me.\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#data-schema",
    "href": "Exercises/TH1/TH1.html#data-schema",
    "title": "OECD PISA Global Education",
    "section": "Data Schema",
    "text": "Data Schema\nThe data schema presented map the complex interrelations between students’ academic performance and various demographic, social, and educational factors.\nBy analyzing performance data in conjunction with demographic variables like gender and socioeconomic status, we aim to identify patterns and correlations that might inform educational strategies. This involves the use of visual tools such as box plots to compare distributions, scatter plots to discern correlations, and bar charts to display categorical data.\nThe visualizations will serve as a narrative, outlining the interplay between various factors and academic success, thereby contributing to a holistic understanding of the educational landscape in Singapore.\n\n\nCode\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support \\n Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; H\n  C --&gt; P{Immigrant Background}\n  P --&gt; Q[Native \\n First Generation \\n Second Generation] \n  Q --&gt; H\n\n\n\n\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support \\n Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; H\n  C --&gt; P{Immigrant Background}\n  P --&gt; Q[Native \\n First Generation \\n Second Generation] \n  Q --&gt; H"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#demographics",
    "href": "Exercises/TH1/TH1.html#demographics",
    "title": "OECD PISA Global Education",
    "section": "Demographics",
    "text": "Demographics\nTo understand the student demographics, we will visualize the distribution and summary statistics of gender, age and nationality. We will also have an overview of the students’ time invested in studying and exposure to digital device, and their parent’s education level.\n\n\n\nVariable\nDescription\n\n\n\n\nST004D01T\nStudent (Standardized) Gender\n\n\nAGE\nStudents’ age\n\n\nST019AQ01T\nCountry of birth\n\n\nST294Q02JA\nNumber of days spent studying for school or homework\n\n\nST253Q01JA\nNumber of digital devices in your home\n\n\nHISCED\nHighest level of education of parents (ISCED)\n\n\n\n\n\nShow the code\nplot1 &lt;- ggplot(stu_qqq_SGP, aes(x = ST004D01T))+\n  geom_bar(colour = \"black\", \n           fill = \"thistle\")+\n  labs(title = \"Students' Gender\", x = NULL, y = NULL)+\n  ylim(0,4000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  scale_x_discrete(breaks = c(1, 2), labels = c(\"Female\", \"Male\")) +\n  theme_minimal()\n\nplot2 &lt;- ggplot(stu_qqq_SGP, aes(y = AGE))+\n  geom_boxplot(notch = TRUE,\n               fill = \"rosybrown3\")+\n  labs(title = \"Students' Age\", x = NULL, y = NULL)+\n  theme_minimal()\n\nplot3 &lt;- ggplot(stu_qqq_SGP, aes(x = ST019AQ01T))+\n  geom_bar(colour = \"black\",\n           fill = \"lightpink4\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Nationality\", x = NULL, y = NULL)+\n  ylim(0,6000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot4 &lt;- ggplot(stu_qqq_SGP, aes(x = ST294Q02JA))+\n  geom_bar(colour = \"black\",\n           fill = \"rosybrown1\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Study (Days)\", x = NULL, y = NULL)+\n  ylim(0,3500)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1,\n            size = 3)+\n  theme_minimal()\n\nplot5 &lt;- ggplot(stu_qqq_SGP, aes(x = ST253Q01JA))+\n  geom_bar(colour = \"black\",\n           fill = \"plum4\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Digital Expose\", x = NULL, y = NULL)+\n  ylim(0,6000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot6 &lt;- ggplot(stu_qqq_SGP, aes(x = HISCED))+\n  geom_bar(colour = \"black\",\n           fill = \"thistle3\")+\n  labs(title = \"Parents' Education\", x = NULL, y = NULL)+\n  ylim(0,2000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1,\n            size = 3)+\n  theme_minimal()\n\ncombined_plot &lt;- (plot1 + plot2 + plot3) / (plot4 + plot5 + plot6) + \n  plot_layout(guides = \"collect\") + \n  plot_annotation(\n    title = \"Demographics of Singapore PISA 2022\",\n    theme = theme(plot.title = element_text(hjust = 0))\n  )\ncombined_plot\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\n\nGender: The distribution between genders is fairly balanced. This suggests an almost equal representation of students in terms of gender within the dataset.\nAge: The median age is 15.75. There are no apparent outliers, indicating that the ages of the students are within a narrow range, typical of a targeted survey.\nNationality: There are three distinct groups, with the majority of students belonging to nationality. Assuming 1 represents local students, majority of the students are local.\nStudy Days: The bar chart suggests most students study one to two days per week, with numbers dropping as the number of study days increases. One quarter of the students study 6 days, as hardworking as Masters students.\nDigital Exposure: Majority of the students are exposed to one device, relatively low considering TV as a baseline screen in most homes and most students having their personal mobile devices.\nParents’ Education: The data shows a progressive decrease in the number of parents as the level of education increases. Most parents (70%) are in Level 6 and 7 and hold tertiary and above education.\n\n\n\nISCED Level\nEducation Level\n\n\n\n\nLevel 1\nPrimary\n\n\nLevel 2\nLower secondary\n\n\nLevel 3\nUpper secondary\n\n\nLevel 4\nPost-secondary non-tertiary\n\n\nLevel 5\nShort-cycle tertiary\n\n\nLevel 6\nBachelor’s or equivalent\n\n\nLevel 7\nMaster’s or equivalent\n\n\nLevel 8\nDoctoral or equivalent"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#what-is-the-students-experience-in-school",
    "href": "Exercises/TH1/TH1.html#what-is-the-students-experience-in-school",
    "title": "OECD PISA Global Education",
    "section": "5.1 What is the students’ experience in school?",
    "text": "5.1 What is the students’ experience in school?\nWe delve into the subjective realm of students’ school experiences. This includes their feelings of safety, respect, and overall well-being within the school environment. We will visualize this data to uncover insights into the emotional and social aspects of their education.\n\nAttribute SelectionData Transformation\n\n\nThe selected attributes encompass both the academic and social aspects of school life that can significantly influence a student’s well-being and sense of belonging. The output reveals a structured set of responses where students have rated these experiences on a numerical scale, likely ranging from strong disagreement to strong agreement.\n\n\nShow the code\nschsys &lt;- select(stu_qqq_SGP, starts_with(c(\"ST267\")))\n\nnames(schsys) &lt;- c(\n  ST267Q01JA = \"The teachers at my school are respectful towards me.\",\n  ST267Q02JA = \"If I walked into my classes upset, my teachers would be concerned about me.\",\n  ST267Q03JA = \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\",\n  ST267Q04JA = \"I feel intimidated by the teachers at my school.\",\n  ST267Q05JA = \"When my teachers ask how I am doing, they are really interested in my answer.\",\n  ST267Q06JA = \"The teachers at my school are friendly towards me.\",\n  ST267Q07JA = \"The teachers at my school are interested in students' well-being.\",\n  ST267Q08JA = \"The teachers at my school are mean towards me.\")\n\nlikert_recode &lt;- function(x) {\n  y &lt;- ifelse(is.na(x), NA, \n              ifelse(x == 1, \"Strongly disagree\",\n              ifelse(x == 2, \"Disagree\",\n              ifelse(x == 3, \"Agree\",\n              \"Strongly agree\"))))\n  y &lt;- factor(y, levels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))\n  return(y)\n}\n\nschsys_likert &lt;- schsys %&gt;%\n  mutate(across(everything(), likert_recode))\n\nglimpse(schsys_likert)\n\n\nRows: 6,606\nColumns: 8\n$ `The teachers at my school are respectful towards me.`                                        &lt;fct&gt; …\n$ `If I walked into my classes upset, my teachers would be concerned about me.`                 &lt;fct&gt; …\n$ `If I came back to visit my school 3 years from now, my teachers would be excited to see me.` &lt;fct&gt; …\n$ `I feel intimidated by the teachers at my school.`                                            &lt;fct&gt; …\n$ `When my teachers ask how I am doing, they are really interested in my answer.`               &lt;fct&gt; …\n$ `The teachers at my school are friendly towards me.`                                          &lt;fct&gt; …\n$ `The teachers at my school are interested in students' well-being.`                           &lt;fct&gt; …\n$ `The teachers at my school are mean towards me.`                                              &lt;fct&gt; …\n\n\n\n\nThe data transformation process depicted in the R code involves several steps to prepare the data for analysis and visualization:\n\nConversion to Long Format: pivot_longer() function is used to convert the dataset into a long format. This restructuring transforms the dataset so that each row represents a single response to a question, with one column for the question text (question) and one column for the response (response).\nFiltering NA Values: filter() function removes rows with NA (missing) responses to ensure they do not affect the visualization and analysis.\nFactor Recoding: mutate() and factor() is used to recode the responses into a factor variable. This recoding process labels the numerical values with their corresponding textual responses, such as “Strongly disagree,” “Disagree,” “Agree,” and “Strongly agree”.\n\n\n\nShow the code\nschsys_likert_long &lt;- schsys_likert %&gt;%\n  pivot_longer(cols = 1:8, names_to = \"question\", values_to = \"response\") %&gt;%\n  filter(!is.na(response)) %&gt;%\n  mutate(response = factor(response, levels = c(1, 2, 3, 4), labels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\")))\n\nschsys_likert_long &lt;- schsys_likert %&gt;%\n  pivot_longer(\n    cols = everything(), \n    names_to = \"question\", \n    values_to = \"response\"\n  ) %&gt;%\n  filter(!is.na(response)) %&gt;%\n  mutate(\n    response = factor(\n      response,\n      levels = c(1, 2, 3, 4),\n      labels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\")\n    )\n  )\n\nschsys_likert_long &lt;- schsys_likert_long %&gt;%\n  mutate(short_question = case_when(\n    question == \"The teachers at my school are respectful towards me.\" ~ \"The teachers at my school are respectful towards me.\",\n    question == \"If I walked into my classes upset, my teachers would be concerned about me.\" ~ \"The teachers will be concerned about me if I am upset.\",\n    question == \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\" ~ \"The teachers will be excited to see me in future.\",\n    question == \"I feel intimidated by the teachers at my school.\" ~ \"I feel intimidated by the teachers at my school.\",\n    question == \"When my teachers ask how I am doing, they are really interested in my answer.\" ~ \"The teachers are genuinely interested when listening to me.\",\n    TRUE ~ question\n  ))\n\nglimpse(schsys_likert_long)\n\n\nRows: 32,771\nColumns: 3\n$ question       &lt;chr&gt; \"If I walked into my classes upset, my teachers would b…\n$ response       &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ short_question &lt;chr&gt; \"The teachers will be concerned about me if I am upset.…\n\n\n\n\n\n\n\nShow the code\nstacked_bar_chart &lt;- ggplot(schsys_likert_long, aes(x = short_question, fill = response)) +\n  geom_bar(position = \"fill\", stat = \"count\") +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(title = \"What is the students' experience in school?\", x = NULL, y = \"Percentage\", fill = \"Response\") +\n  theme_minimal() +\n  scale_fill_brewer(palette = \"RdYlGn\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = \"bottom\")+\n  coord_flip()\n\nstacked_bar_chart\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nSafety: Students generally feel safe in various school settings. This indicates a positive perception of physical safety within the school environment.\nRespect and Concern: A substantial proportion of students feel that their teachers are respectful towards them and would be concerned if they were upset. This suggests that students perceive a caring and respectful relationship with their teachers, which is fundamental to a supportive educational atmosphere.\nTeacher Interest and Friendliness: There is a noticeable agreement among students that teachers are genuinely interested in their answers and are friendly towards them. This highlights the positive social interactions between students and teachers, which can contribute to a more engaging and motivating learning experience.\nTeacher Support for Future and Well-being: Many students believe that their teachers will be excited to see them if they return in the future and are interested in their well-being. This suggests that students feel supported not just academically but also personally, which can have a positive impact on their overall school experience.\nNegative Experiences: While the majority of feedback is positive, there are small indications of negative experiences, such as a minority of students feeling intimidated by their teachers or perceiving them as mean. Addressing these negative perceptions is crucial for improving the school climate for all students."
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-immigration-status-affect-students-sense-of-belonging-in-singapore",
    "href": "Exercises/TH1/TH1.html#does-immigration-status-affect-students-sense-of-belonging-in-singapore",
    "title": "OECD PISA Global Education",
    "section": "5.5 Does immigration status affect students’ sense of belonging in Singapore?",
    "text": "5.5 Does immigration status affect students’ sense of belonging in Singapore?\nThe impact of immigration status on students’ sense of belonging will be scrutinized. We will analyze how being a native, a first-generation immigrant, or a second-generation immigrant influences students’ reported sense of integration and acceptance within their school community. The goal is to provide a comprehensive overview of the many dimensions that contribute to the educational experiences of students in Singapore.\n\nData PreparationMapping\n\n\nThe immigration status is converted into a factor with levels “Native”, “First-Generation”, and “Second-Generation” based on IMMIG.\nNative: Students are born in Singapore with parents who are Singapore citizens. They have likely spent their entire lives within the country’s education system and culture. First-Generation: These students are the first in their family to be born in Singapore, with parents who have immigrated from another country. They are navigating a blend of cultural identities from their home environment and the broader Singaporean culture. Second-Generation: This group consists of students born in Singapore to first-generation immigrant parents. While they are born and brought up in Singapore, their household may still hold strong cultural ties to their parents’ country of origin.\nFollowing this, the data is reshaped from a wide to a long format using the melt function, where columns are collapsed into two new variables: “question” and “response”. The response variable is recoded into a factor with levels. This recoding process transforms numeric responses into descriptive labels, and the result is stored in a new variable response3.\n\n\nShow the code\ndata_long &lt;- stu_qqq_SGP %&gt;%\n  dplyr::mutate(gender = ifelse(ST004D01T == 1, \"Female\", \"Male\"),\n                 immigration = factor(ifelse(is.na(IMMIG), NA,\n                                             ifelse(IMMIG == 1, \"Native\", \n                                                    ifelse(IMMIG == 2, \"Second-Generation\", \n                                                           \"First-Generation\"))),\n                                      levels = c(\"Native\", \"First-Generation\", \"Second-Generation\"))) %&gt;%\n  dplyr::select(-ST004D01T, -IMMIG) %&gt;%\n  dplyr::rename(grade = ST001D01T, student = CNTSTUID, age = AGE) %&gt;% \n  melt(data = .,\n       id.vars = c(\"student\", \"grade\", \"age\", \"gender\", \"immigration\"),\n       variable.name = \"question\",\n       value.name = \"response\") %&gt;%\n  mutate(response2 = (ifelse(is.na(response), \"NA\",\n                             ifelse(response == 1, \"Strongly disagree\",\n                                    ifelse(response == 2, \"Disagree\",\n                                           ifelse(response == 3, \"Agree\", \"Strongly agree\"))))),\n         response3 = factor(response2, levels = c(\"NA\", \"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))) \n\nglimpse(data_long)\n\n\nRows: 8,416,044\nColumns: 9\n$ student     &lt;chr&gt; \"70200001\", \"70200002\", \"70200003\", \"70200004\", \"70200005\"…\n$ grade       &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10…\n$ age         &lt;dbl&gt; 15.50, 15.83, 15.75, 16.17, 15.58, 15.58, 16.08, 16.00, 15…\n$ gender      &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\", \"Mal…\n$ immigration &lt;fct&gt; Native, Native, Native, Native, Native, First-Generation, …\n$ question    &lt;fct&gt; CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT…\n$ response    &lt;chr&gt; \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"S…\n$ response2   &lt;chr&gt; \"Strongly agree\", \"Strongly agree\", \"Strongly agree\", \"Str…\n$ response3   &lt;fct&gt; Strongly agree, Strongly agree, Strongly agree, Strongly a…\n\n\n\n\nThe responses are related to a specific question ST267Q03JA: If I came back to visit my school 3 years from now, my teachers would be excited to see me.\n\n\nShow the code\nST267Q03JA &lt;- data_long %&gt;%\n  filter(question == \"ST267Q03JA\") %&gt;%\n  group_by(gender, immigration, response3) %&gt;%\n  dplyr::summarise(Freq = dplyr::n())\n\nstr(ST267Q03JA)\n\n\ngropd_df [40 × 4] (S3: grouped_df/tbl_df/tbl/data.frame)\n $ gender     : chr [1:40] \"Female\" \"Female\" \"Female\" \"Female\" ...\n $ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 1 1 1 1 2 2 2 2 2 ...\n $ response3  : Factor w/ 5 levels \"NA\",\"Strongly disagree\",..: 1 2 3 4 5 1 2 3 4 5 ...\n $ Freq       : int [1:40] 877 115 480 722 97 207 18 76 181 33 ...\n - attr(*, \"groups\")= tibble [8 × 3] (S3: tbl_df/tbl/data.frame)\n  ..$ gender     : chr [1:8] \"Female\" \"Female\" \"Female\" \"Female\" ...\n  ..$ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 2 3 NA 1 2 3 NA\n  ..$ .rows      : list&lt;int&gt; [1:8] \n  .. ..$ : int [1:5] 1 2 3 4 5\n  .. ..$ : int [1:5] 6 7 8 9 10\n  .. ..$ : int [1:5] 11 12 13 14 15\n  .. ..$ : int [1:5] 16 17 18 19 20\n  .. ..$ : int [1:5] 21 22 23 24 25\n  .. ..$ : int [1:5] 26 27 28 29 30\n  .. ..$ : int [1:5] 31 32 33 34 35\n  .. ..$ : int [1:5] 36 37 38 39 40\n  .. ..@ ptype: int(0) \n  ..- attr(*, \".drop\")= logi TRUE\n\n\n\n\n\n\n\nShow the code\nggplot(ST267Q03JA,\n       aes(y = Freq, axis1 = gender, axis2 = immigration, axis3 = response3)) +\n  geom_alluvium(aes(fill = gender), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"black\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"gender\", \"immigration\", \"response3\"), expand = c(.1, .1)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\") +\n  ggtitle(\"If I came back to visit my school 3 years from now,\\nmy teachers would be excited to see me.\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nThe question “If I came back to visit my school 3 years from now, my teachers would be excited to see me.” is a sentiment that can reflect a student’s perceived sense of belonging and the success of the education system in creating an inclusive and supportive environment. A student’s positive anticipation of a warm welcome upon return indicates a feeling of continued connection and support, which can be critical for the well-being and integration of immigrant students.\nObservations from the alluvial diagram suggest that there are discernible differences in how students of varying immigration statuses feel about the potential excitement of their teachers upon their return. For instance, if we focus on the thickness of the flows connecting to “Strongly agree”, it may indicate that a considerable number of Native students feel positively about their teachers’ reception to their return, which could imply a strong sense of belonging and positive school experience. First-Generation and Second-Generation students also show flows to “Strongly agree”, but the relative thickness might suggest differences in intensity of this sentiment compared to Native students."
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-immigrant-status-affect-students-sense-of-belonging-in-singapore",
    "href": "Exercises/TH1/TH1.html#does-immigrant-status-affect-students-sense-of-belonging-in-singapore",
    "title": "OECD PISA Global Education",
    "section": "5.5 Does immigrant status affect students’ sense of belonging in Singapore?",
    "text": "5.5 Does immigrant status affect students’ sense of belonging in Singapore?\nThe impact of immigrant status on students’ sense of belonging will be scrutinized. We will analyze how being a native, a first-generation immigrant, or a second-generation immigrant influences students’ reported sense of integration and acceptance within their school community. The goal is to provide a comprehensive overview of the many dimensions that contribute to the educational experiences of students in Singapore.\n\nData PreparationMapping\n\n\nThe immigrant status is converted into a factor with levels “Native”, “First-Generation”, and “Second-Generation” based on IMMIG.\n\nNative: Students are born in Singapore with parents who are Singapore citizens. They have likely spent their entire lives within the country’s education system and culture.\nFirst-Generation: These students are the first in their family to be born in Singapore, with parents who have immigrated from another country. They are navigating a blend of cultural identities from their home environment and the broader Singaporean culture.\nSecond-Generation: This group consists of students born in Singapore to first-generation immigrant parents. While they are born and brought up in Singapore, their household may still hold strong cultural ties to their parents’ country of origin.\n\nFollowing this, the data is reshaped from a wide to a long format using the melt function, where columns are collapsed into two new variables: “question” and “response”. The response variable is recoded into a factor with levels. This recoding process transforms numeric responses into descriptive labels, and the result is stored in a new variable response3.\n\n\nShow the code\ndata_long &lt;- stu_qqq_SGP %&gt;%\n  dplyr::mutate(gender = ifelse(ST004D01T == 1, \"Female\", \"Male\"),\n                 immigration = factor(ifelse(is.na(IMMIG), NA,\n                                             ifelse(IMMIG == 1, \"Native\", \n                                                    ifelse(IMMIG == 2, \"Second-Generation\", \n                                                           \"First-Generation\"))),\n                                      levels = c(\"Native\", \"First-Generation\", \"Second-Generation\"))) %&gt;%\n  dplyr::select(-ST004D01T, -IMMIG) %&gt;%\n  dplyr::rename(grade = ST001D01T, student = CNTSTUID, age = AGE) %&gt;% \n  melt(data = .,\n       id.vars = c(\"student\", \"grade\", \"age\", \"gender\", \"immigration\"),\n       variable.name = \"question\",\n       value.name = \"response\") %&gt;%\n  mutate(response2 = (ifelse(is.na(response), \"NA\",\n                             ifelse(response == 1, \"Strongly disagree\",\n                                    ifelse(response == 2, \"Disagree\",\n                                           ifelse(response == 3, \"Agree\", \"Strongly agree\"))))),\n         response3 = factor(response2, levels = c(\"NA\", \"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))) \n\nglimpse(data_long)\n\n\nRows: 8,416,044\nColumns: 9\n$ student     &lt;chr&gt; \"70200001\", \"70200002\", \"70200003\", \"70200004\", \"70200005\"…\n$ grade       &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10…\n$ age         &lt;dbl&gt; 15.50, 15.83, 15.75, 16.17, 15.58, 15.58, 16.08, 16.00, 15…\n$ gender      &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\", \"Mal…\n$ immigration &lt;fct&gt; Native, Native, Native, Native, Native, First-Generation, …\n$ question    &lt;fct&gt; CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT…\n$ response    &lt;chr&gt; \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"S…\n$ response2   &lt;chr&gt; \"Strongly agree\", \"Strongly agree\", \"Strongly agree\", \"Str…\n$ response3   &lt;fct&gt; Strongly agree, Strongly agree, Strongly agree, Strongly a…\n\n\n\n\nThe responses are related to a specific question ST267Q03JA: If I came back to visit my school 3 years from now, my teachers would be excited to see me.\n\n\nShow the code\nST267Q03JA &lt;- data_long %&gt;%\n  filter(question == \"ST267Q03JA\") %&gt;%\n  group_by(gender, immigration, response3) %&gt;%\n  dplyr::summarise(Freq = dplyr::n())\n\nstr(ST267Q03JA)\n\n\ngropd_df [40 × 4] (S3: grouped_df/tbl_df/tbl/data.frame)\n $ gender     : chr [1:40] \"Female\" \"Female\" \"Female\" \"Female\" ...\n $ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 1 1 1 1 2 2 2 2 2 ...\n $ response3  : Factor w/ 5 levels \"NA\",\"Strongly disagree\",..: 1 2 3 4 5 1 2 3 4 5 ...\n $ Freq       : int [1:40] 877 115 480 722 97 207 18 76 181 33 ...\n - attr(*, \"groups\")= tibble [8 × 3] (S3: tbl_df/tbl/data.frame)\n  ..$ gender     : chr [1:8] \"Female\" \"Female\" \"Female\" \"Female\" ...\n  ..$ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 2 3 NA 1 2 3 NA\n  ..$ .rows      : list&lt;int&gt; [1:8] \n  .. ..$ : int [1:5] 1 2 3 4 5\n  .. ..$ : int [1:5] 6 7 8 9 10\n  .. ..$ : int [1:5] 11 12 13 14 15\n  .. ..$ : int [1:5] 16 17 18 19 20\n  .. ..$ : int [1:5] 21 22 23 24 25\n  .. ..$ : int [1:5] 26 27 28 29 30\n  .. ..$ : int [1:5] 31 32 33 34 35\n  .. ..$ : int [1:5] 36 37 38 39 40\n  .. ..@ ptype: int(0) \n  ..- attr(*, \".drop\")= logi TRUE\n\n\n\n\n\n\n\nShow the code\nggplot(ST267Q03JA,\n       aes(y = Freq, axis1 = gender, axis2 = immigration, axis3 = response3)) +\n  geom_alluvium(aes(fill = gender), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"black\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"gender\", \"immigration\", \"response3\"), expand = c(.1, .1)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\") +\n  ggtitle(\"If I came back to visit my school 3 years from now,\\nmy teachers would be excited to see me.\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nThe question “If I came back to visit my school 3 years from now, my teachers would be excited to see me.” is a sentiment that can reflect a student’s perceived sense of belonging and the success of the education system in creating an inclusive and supportive environment. A student’s positive anticipation of a warm welcome upon return indicates a feeling of continued connection and support, which can be critical for the well-being and integration of immigrant students.\nObservations from the alluvial diagram suggest that there are discernible differences in how students of varying immigration statuses feel about the potential excitement of their teachers upon their return. For instance, if we focus on the thickness of the flows connecting to “Strongly agree”, it may indicate that a considerable number of Native students feel positively about their teachers’ reception to their return, which could imply a strong sense of belonging and positive school experience. First-Generation and Second-Generation students also show flows to “Strongly agree”, but the relative thickness might suggest differences in intensity of this sentiment compared to Native students."
  },
  {
    "objectID": "Topics/HO3/HO3.html#hover-effect",
    "href": "Topics/HO3/HO3.html#hover-effect",
    "title": "Interactive and Animated Data Visualization",
    "section": "4.2 Hover Effect",
    "text": "4.2 Hover Effect\nTo create the hover effect, data_id() is specified as an aes() argument in the interactive geom functions. Note the change in aes() to data_id = CLASS from the previous example.\n\nSingle AttributeCustomizationCustomizationHover Effect with tooltip\n\n\nElements associated with a data_id (i.e CLASS) will be highlighted upon mouse over.\n\n\nShow the code\nplot6 &lt;- ggplot(data=exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = CLASS),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot6,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618                      \n)                                        \n\n\n\n\n\n\n\n\nThe following customization combines data_id() and tooltip() where the hover effect highlights students from the same class and shows the class and student details.\n\n\nShow the code\nexam_data$tooltip &lt;- c(paste0(\"Name = \", exam_data$ID, \n                              \"\\n Class = \", exam_data$CLASS))\n\nplot6 &lt;- ggplot(data=exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = CLASS,\n                               tooltip = exam_data$tooltip),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot6,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618                      \n)                                        \n\n\n\n\n\n\n\n\nopts_tooltip(), opts_hover() and opts_hover_inv() customize the tooltip and data_id rendering by add css declarations.\nEffect on geometries: opts_hover(css = NULL, reactive = FALSE, nearest_distance = NULL) Effect on other geometries: opts_hover_inv(css = NULL) Interactive scales: opts_hover_key(css = NULL, reactive = FALSE) Interactive theme elements: opts_hover_theme(css = NULL, reactive = FALSE)\n\n\n\n\n\n\nNote\n\n\n\nThe default value of the hover css is hover_css = “fill:orange;”. In this example, we will use fill: #ABEBC6;.\n\n\n\n\nShow the code\nplot7 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = CLASS),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot7,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #c27ba0;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)                                        \n\n\n\n\n\n\n\n\nopts_hover() and opts_hover_inv() customize the data_id rendering by add css declarations.\n\n\nShow the code\ntooltip_css &lt;- \"background-color: white; font-style: bold; color: black\"\n\nexam_data$tooltip &lt;- c(paste0(\"Name = \", exam_data$ID, \n                              \"\\n Class = \", exam_data$CLASS))\n\nplot8 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip, data_id = CLASS),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+               \n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot8,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(\n    opts_tooltip(css = tooltip_css),\n    opts_hover(css = \"fill: #c27ba0;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)"
  },
  {
    "objectID": "Topics/HO3/HO3.html#static-bubble-plot",
    "href": "Topics/HO3/HO3.html#static-bubble-plot",
    "title": "Interactive and Animated Data Visualization",
    "section": "8.1 Static Bubble Plot",
    "text": "8.1 Static Bubble Plot\nThe basic ggplot2 functions creates a static bubble plot.\n\nggplot(globalPop, aes(x = Old, y = Young, \n                      size = Population, \n                      colour = Country)) +\n  geom_point(alpha = 0.7, \n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(title = 'Year: {frame_time}', x = '% Aged', y = '% Young')+\n  theme_minimal()"
  },
  {
    "objectID": "Topics/HO3/HO3.html#animated-bubble-plot",
    "href": "Topics/HO3/HO3.html#animated-bubble-plot",
    "title": "Interactive and Animated Data Visualization",
    "section": "8.2 Animated bubble plot",
    "text": "8.2 Animated bubble plot\ntransition_time() of gganimate is used to create transition through distinct states in time (i.e. Year). Other transitions include transition_components(), transition_events(), transition_filter(), transition_layers(), transition_manual(), transition_null(), transition_reveal(), transition_states()\nease_aes() is used to control easing of aesthetics. The default is linear. Other methods are: quadratic, cubic, quartic, quintic, sine, circular, exponential, elastic, back, and bounce.\n\nplot9 &lt;- ggplot(globalPop, aes(x = Old, y = Young, \n                      size = Population, \n                      colour = Country))+\n  geom_point(alpha = 0.7, show.legend = FALSE)+\n  scale_colour_manual(values = country_colors)+\n  scale_size(range = c(2, 12)) +\n  labs(title = 'Year: {frame_time}', x = '% Aged', y = '% Young')+\n  transition_time(Year)+       \n  ease_aes('linear')+\n  theme_minimal()\n\nplot9_anim &lt;- animate(plot9, nframes = 30, fps = 4)\nanim_save(\"plot9_anim.gif\", plot9_anim)\n\nplot9_anim\n\n\n\n\nTo adjust the speed of animation, animate() contains fps argument.\n\n\n\n\n\n\nSpecific fps for certain Year\n\n\n\nArtificially stretch the required timeline so that it is multiple years long. Scale the transition length to the numerical difference between each state.\n\n\n\nplot10 &lt;- ggplot(globalPop, aes(x = Old, y = Young, \n                      size = Population, \n                      colour = Country))+\n  geom_point(alpha = 0.7, show.legend = FALSE)+\n  scale_colour_manual(values = country_colors)+\n  scale_size(range = c(2, 12)) +\n  labs(title = 'Year: {frame_time}', x = '% Aged', y = '% Young')+\n  transition_time(Year)+       \n  ease_aes('linear')+\n  theme_minimal()\n\nplot10_anim &lt;- animate(plot10, nframes = 30, fps = 10)\nanim_save(\"plot10_anim.gif\", plot10_anim)\n\nplot10_anim"
  },
  {
    "objectID": "Topics/HO3/HO3.html#animated-bubble-plot-ggplotly",
    "href": "Topics/HO3/HO3.html#animated-bubble-plot-ggplotly",
    "title": "Interactive and Animated Data Visualization",
    "section": "9.1 Animated bubble plot: ggplotly()",
    "text": "9.1 Animated bubble plot: ggplotly()\nAppropriate ggplot2 functions are used to create a static bubble plot. The output is then saved as an R object called gg. ggplotly() is then used to convert the R graphic object into an animated svg object.\n\nLegendNo Legend\n\n\n\ngg &lt;- ggplot(globalPop, \n       aes(x = Old, \n           y = Young, \n           size = Population, \n           colour = Country)) +\n  geom_point(aes(size = Population,\n                 frame = Year),\n             alpha = 0.7, \n             show.legend = FALSE) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(x = '% Aged', \n       y = '% Young')+\n  theme_minimal()\n\nggplotly(gg)\n\n\n\n\n\n\n\nAlthough show.legend = FALSE argument was used, the legend still appears on the plot. To overcome this problem, theme(legend.position=‘none’) should be used.\n\ngg &lt;- ggplot(globalPop, \n       aes(x = Old, \n           y = Young, \n           size = Population, \n           colour = Country)) +\n  geom_point(aes(size = Population,\n                 frame = Year),\n             alpha = 0.7) +\n  scale_colour_manual(values = country_colors) +\n  scale_size(range = c(2, 12)) +\n  labs(x = '% Aged', \n       y = '% Young') + \n  theme(legend.position='none')+\n  theme_minimal()\n\nggplotly(gg)"
  },
  {
    "objectID": "Topics/HO3/HO3.html#animated-bubble-plot-plot_ly",
    "href": "Topics/HO3/HO3.html#animated-bubble-plot-plot_ly",
    "title": "Interactive and Animated Data Visualization",
    "section": "9.2 Animated bubble plot: plot_ly()",
    "text": "9.2 Animated bubble plot: plot_ly()\n\nbp &lt;- globalPop %&gt;%\n  plot_ly(x = ~Old, \n          y = ~Young, \n          size = ~Population, \n          color = ~Continent,\n          sizes = c(2, 100),\n          frame = ~Year, \n          text = ~Country, \n          hoverinfo = \"text\",\n          type = 'scatter',\n          mode = 'markers'\n          ) %&gt;%\n  layout(showlegend = FALSE)\nbp"
  },
  {
    "objectID": "Topics/HO4/HO4.html#one-sample-test",
    "href": "Topics/HO4/HO4.html#one-sample-test",
    "title": "Visual Statistical Analysis",
    "section": "6.1 One-sample Test",
    "text": "6.1 One-sample Test\ngghistostats can be used for data exploration to inspect distribution of a continuous variable and to test if the mean of a sample variable is different from a specified value (population parameter).\n\n\n\n\n\n\nBayes factor\n\n\n\nBayes factor is the ratio of the likelihood of one particular hypothesis to the likelihood of another. It can be interpreted as a measure of the strength of evidence in favor of one theory among two competing theories. A Bayes Factor can be any positive number.\nIt gives us a way to evaluate the data in favor of a null hypothesis, and to use external information to do so. It tells us what the weight of the evidence is in favor of a given hypothesis.\nWhen comparing two hypotheses, H1 (the alternate hypothesis) and H0 (the null hypothesis), the Bayes Factor is often written as B10.\n\n\ngghistostats computed Bayes Factors to quantify the likelihood of the English Score (BF10) and the null hypothesis (BF01). In our example, the Bayes Factor value indicates these English scores are similar to the population mean generated from set.seed(1234). The log(Bayes factor) of 31.45 means the odds are low that this sample is different.\n\nset.seed(1234)\n\ngghistostats(data = exam_data,\n             x = ENGLISH,\n             type = \"bayes\",\n             test.value = 60,\n             xlab = \"English Scores\")"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#data-visualization-critique",
    "href": "Exercises/TH1/TH1.html#data-visualization-critique",
    "title": "OECD PISA Global Education",
    "section": "8.1 Data Visualization Critique",
    "text": "8.1 Data Visualization Critique\nOriginal Visualization\n\n\nClarityAesthetics"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#design-makeover",
    "href": "Exercises/TH1/TH1.html#design-makeover",
    "title": "OECD PISA Global Education",
    "section": "8.2 Design Makeover",
    "text": "8.2 Design Makeover"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#plot-makeover",
    "href": "Exercises/TH1/TH1.html#plot-makeover",
    "title": "OECD PISA Global Education",
    "section": "8.3 Plot Makeover",
    "text": "8.3 Plot Makeover"
  },
  {
    "objectID": "Topics/HO4/HO4.html#two-sample-mean-test",
    "href": "Topics/HO4/HO4.html#two-sample-mean-test",
    "title": "Visual Statistical Analysis",
    "section": "6.2 Two-sample mean test",
    "text": "6.2 Two-sample mean test\nggbetweenstats() is used to build a visual for two-sample mean test of Maths scores by gender. By default, the statistical details, Bayes Factors, the number of observations, and its distribution summary are included in the plot.\n\nggbetweenstats(data = exam_data,\n               x = GENDER, y = MATHS,\n               type = \"np\",\n               messages = FALSE)"
  },
  {
    "objectID": "Topics/HO4/HO4.html#one-way-anova-test",
    "href": "Topics/HO4/HO4.html#one-way-anova-test",
    "title": "Visual Statistical Analysis",
    "section": "6.2 One-way ANOVA Test",
    "text": "6.2 One-way ANOVA Test\nggbetweenstats() is used to build a visual for One-way ANOVA test on English score by race.\npairwise.display()\n\nggbetweenstats(data = exam_data,\n               x = RACE, \n               y = ENGLISH,\n               type = \"p\",\n               mean.ci = TRUE, \n               pairwise.comparisons = TRUE, \n               pairwise.display = \"s\",\n               p.adjust.method = \"fdr\",\n               messages = FALSE)"
  },
  {
    "objectID": "Topics/HO4/HO4.html#significant-test-of-correlation",
    "href": "Topics/HO4/HO4.html#significant-test-of-correlation",
    "title": "Visual Statistical Analysis",
    "section": "6.3 Significant Test of Correlation",
    "text": "6.3 Significant Test of Correlation\nggscatterstats() is used to build a visual for Significant Test of Correlation between Maths scores and English scores.\n\nggscatterstats(data = exam_data,\n               x = MATHS,\n               y = ENGLISH,\n               marginal = FALSE)"
  },
  {
    "objectID": "Topics/HO4/HO4.html#significant-test-of-association",
    "href": "Topics/HO4/HO4.html#significant-test-of-association",
    "title": "Visual Statistical Analysis",
    "section": "6.4 Significant Test of Association",
    "text": "6.4 Significant Test of Association\nMaths scores is binned into a 4-class variable by using cut(). ggbarstats() is used to build a visual for Significant Test of Association\n\nexam1 &lt;- exam_data %&gt;% \n  mutate(MATHS_bins = cut(MATHS, breaks = c(0,60,75,85,100)))\n\nggbarstats(exam1, x = MATHS_bins, y = GENDER)"
  },
  {
    "objectID": "Topics/HO5/HO5.html",
    "href": "Topics/HO5/HO5.html",
    "title": "Univariate Graphical Methods for Uncertainty",
    "section": "",
    "text": "Visualise uncertainty using ungeviz package"
  },
  {
    "objectID": "Exercises/TH2/TH2.html",
    "href": "Exercises/TH2/TH2.html",
    "title": "Peer Critique and Visualization Makeover",
    "section": "",
    "text": "1. Task\nThe purpose of the makeover is to improve on the original visualization.\n\nCritic the submission in terms of clarity and aesthetics\nPrepare a sketch for the alternative design by using the data visualisation design principles and best practices\nRemake the original design using ggplot2 and its extensions, and tidyversepackage.\n\n\n\n2. Data Visualization Critique\nIn the original visualization, multiple box plots are used to investigate on the corrrelation between the parent’s occupation and education, home possessions and the child’s performance.\n\n\nClarityAesthetics\n\n\n\nThe use of box plots to represent correlation is misleading because box plots are typically used for displaying distributions rather than relationships between two variables. A different type of visualization, such as a scatter plot with a regression line, would be more appropriate for showing correlation.\nThe outliers are marked with different colours but no legend is provided to explain what these colors signify, which can be confusing for the viewer. Clarification through a legend or consistent colouring would improve understanding.\nThe long whiskers on the boxplots are not explained, leaving the viewer uncertain about what they represent. This could be rectified by including a note on what the whiskers signify, such as 1.5 times the interquartile range or standard deviations from the mean.\nThe absence of statistical results, such as correlation coefficients or p-values, makes it difficult to quantify the strength of any relationships depicted in the plots. Including this information would enhance the interpretability of the data.\n\n\n\n\nSorting performance levels in ascending order with labels that are not intuitive makes the chart harder to interpret at a glance. Reordering the levels or providing a more descriptive labeling system would be more visually intuitive.\nThe inclusion of mean indicators within the box plots is useful, but they blend in with individual data points. Making these indicators stand out more, perhaps with a different shape or size, would improve the visual distinction.\n\n\n\n\n\n\n3. Design Makeover\n\nIdentify the Objective: Shift from comparing distributions within socioeconomic categories to exploring linear relationships between students’ scores and socioeconomic factors. The objective is to understand the correlation between maths, reading and science scores and socioeconomic status.\nData Transformation: Aggregate the student scores into average scores for each subjects. The average scores and socioeconomic status are continuous data used for scatter plots.\nPlot Type Selection: Change from box plots to scatter plots to visualize data points and correlation.\nVisual Encoding: Represent socioeconomic status (ESCS, HISEI, HOMEPOS) and scores (MATH, READING, SCIENCE) on the x and y axes, respectively. Use points to mark each student data and lines to indicate the linear regression.\nStatistical Representation: Correlation coefficients (R) and p-values quantify the strength and significance of the relationships.\nAesthetic Enhancements: Apply a consistent color scheme across all plots to visually synchronize them together. Ensure that text and statistical annotations are legible and use appropriate sizes for the scatter plot.\nLayout Adjustments: Arrange the scatter plots in a grid layout using facet_wrap() for easy comparison across different socioeconomic status and subject scores.\nRefinement and Simplification: Remove any unnecessary elements that do not contribute to understanding the correlations with focus on clarity to ensure that axis labels are clear and represent the variables accurately\nTitle: Add an overall title that summarizes the objective of the visualizations.\n\n\n\n4. Load Packages\n\n\n\n\n\n\nR package functions\n\n\n\n\n\nThe following R packages will be used:\n\ntidyverse supports data science, analysis and communication task\nhaven reads and writes various data formats used by other statistical packages\nggpubr provides easy-to-use functions for creating and customizing plots\n\n\n\n\n\npacman::p_load(tidyverse, haven, ggpubr) \n\n\n\n5. Import Data\nThe PISA 2022 database contains the full set of responses from individual students, school principals and parents. It is conducted every three years to assess the education systems worldwide through testing 15 year-old students in the subjects of mathematics, reading, and science.\n\n\n\n\n\n\nLoad Point\n\n\n\n\n\n\nstu_qqq_SGP &lt;-read_rds(\"data/stu_qqq_SGP.rds\")\n\n\n\n\n\n\n6. Prepare Data\nThe objective is to determine the correlation between the students’ scores in Mathematics, Reading, and Science, and various socioeconomic status (SES) indicators, namely Economic, Social and Cultural Status (ESCS), Highest Parental Occupational Status (HISEI), Home Possessions (HOMEPOS).\n\nGrouping and SummarizationType ConversionReshaping Data\n\n\ngroup_by() from the dplyr package is used to create groups within the data based on specified variables. The data is grouped by various identifiers and demographic variables like country code, school ID, student ID, gender (ST004D01T), and socioeconomic indices (ESCS, HISEI, HOMEPOS).\nsummarise() is then used to create summary statistics for each group. Specifically, it computes the mean of 10 plausible values for Math, Reading, and Science scores, rounding to one decimal place.\n\nstu_qqq_SGP_perf &lt;- stu_qqq_SGP %&gt;%\n  group_by(CNT, CNTRYID, CNTSCHID, CNTSTUID, ST004D01T, ESCS, HISEI, HOMEPOS) %&gt;%\n  summarise(MATH = round(mean(PV1MATH, PV2MATH, PV3MATH, PV4MATH, PV5MATH, \n                              PV6MATH, PV7MATH, PV8MATH, PV9MATH, PV10MATH), 1),\n            READING = round(mean(PV1READ, PV2READ, PV3READ, PV4READ, PV5READ,\n                                 PV6READ, PV7READ, PV8READ, PV9READ, PV10READ), 1),\n            SCIENCE = round(mean(PV1SCIE, PV2SCIE, PV3SCIE, PV4SCIE, PV5SCIE,\n                                 PV6SCIE, PV7SCIE, PV8SCIE, PV9SCIE, PV10SCIE), 1))\n\n\n\nmutate() is combined with across() to change the data types of the Math, Reading, and Science scores from their current type to numeric. This is important for ensuring that further analysis treats these variables as quantitative data.\n\nstu_qqq_SGP_perf &lt;- stu_qqq_SGP_perf %&gt;%\n  mutate(across(c(MATH, READING, SCIENCE), as.numeric))\n\n\n\npivot_longer() from the tidyr package is used.\n\nTransforms the data from wide to long format, gathering the separate Math, Reading, and Science score columns into two columns: SUBJECT and SCORE.\nGathers the socioeconomic variables into two columns: SES_VARIABLE and VALUE.\n\nmutate() creates an interaction term category that combines the SUBJECT and SES_VARIABLE into a single factor that can be used for faceting plots or other grouped analyses.\n\nstu_qqq_SGP_perf_long &lt;- stu_qqq_SGP_perf %&gt;% \n  pivot_longer(cols = c(MATH, READING, SCIENCE), \n               names_to = \"SUBJECT\", \n               values_to = \"SCORE\") %&gt;% \n  pivot_longer(cols = c(ESCS, HOMEPOS, HISEI), \n               names_to = \"SES_VARIABLE\", \n               values_to = \"VALUE\") %&gt;%\n  mutate(category = interaction(SUBJECT, SES_VARIABLE))\n\n\n\n\n\nglimpse(stu_qqq_SGP_perf_long)\n\nRows: 59,454\nColumns: 10\nGroups: CNT, CNTRYID, CNTSCHID, CNTSTUID, ST004D01T [6,606]\n$ CNT          &lt;chr&gt; \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"…\n$ CNTRYID      &lt;dbl&gt; 702, 702, 702, 702, 702, 702, 702, 702, 702, 702, 702, 70…\n$ CNTSCHID     &lt;dbl&gt; 70200001, 70200001, 70200001, 70200001, 70200001, 7020000…\n$ CNTSTUID     &lt;dbl&gt; 70200085, 70200085, 70200085, 70200085, 70200085, 7020008…\n$ ST004D01T    &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …\n$ SUBJECT      &lt;chr&gt; \"MATH\", \"MATH\", \"MATH\", \"READING\", \"READING\", \"READING\", …\n$ SCORE        &lt;dbl&gt; 779.4, 779.4, 779.4, 641.2, 641.2, 641.2, 795.3, 795.3, 7…\n$ SES_VARIABLE &lt;chr&gt; \"ESCS\", \"HOMEPOS\", \"HISEI\", \"ESCS\", \"HOMEPOS\", \"HISEI\", \"…\n$ VALUE        &lt;dbl&gt; 1.2485, 0.7920, 85.8500, 1.2485, 0.7920, 85.8500, 1.2485,…\n$ category     &lt;fct&gt; MATH.ESCS, MATH.HOMEPOS, MATH.HISEI, READING.ESCS, READIN…\n\n\n\n\n7. Plot Makeover\nA combination of functions from the ggplot2 package in R to create a set of plots that display the relationship between student scores and various socioeconomic variables:\n\nggplot(): Initializes the plotting object with a dataset and a default set of aesthetics to be used for all plots.\naes(): Sets up the aesthetic mappings by mapping the score variable to the x-axis and the value variable to the y-axis.\ngeom_point(): Adds a layer of points to the plot, which represent the individual data points with the score on the x-axis and the value on the y-axis.\ngeom_smooth(): Adds a smoothed conditional mean to the plot. The method = \"lm\" specifies that a linear model should be used for the smoothing, and size = 0.5 sets the thickness of the smoothing line.\nfacet_wrap(): Creates a multi-panel plot by wrapping into an array of panels based on the category variable. The scales = \"free\" argument allows the scales of each facet to be independent of the others.\nstat_cor(): Computes and adds the correlation coefficient (R) and the associated p-value to the plot. The method = \"pearson\" specifies the use of Pearson’s correlation, label.x = 3 positions the label on the x-axis, p.accuracy = 0.001 sets the rounding accuracy for the p-value, r.accuracy = 0.01 sets the rounding accuracy for the correlation coefficient, and color = \"brown\" sets the color of the correlation coefficient text.\ntheme_minimal(): Applies a minimal theme to the plot, which provides a clean and minimalist aesthetic by removing most of the background elements and gridlines.\n\n\np &lt;- ggplot(stu_qqq_SGP_perf_long, aes(x = SCORE, y = VALUE))+\n  geom_point(alpha = 0.2, colour = \"grey\")+\n  geom_smooth(method = \"lm\", size = 0.5)+\n  facet_wrap(~ category, scales = \"free\")+\n  stat_cor(method = \"pearson\", \n           label.x = 3, \n           p.accuracy = 0.001, \n           r.accuracy = 0.01, \n           color = \"indianred\")+\n  ggtitle(\"Correlation between Subject Scores and SES\")+\n  theme_minimal()\np\n\n\n\n\nThe output showing the correlation between students’ scores in Mathematics, Reading, and Science, and SES indicators, namely ESCS, HISEI, HOMEPOS.\nEach plot displays a cloud of points indicating the distribution of subject scores against SES indicators. The blue line represents a linear model (least squares fit) showing the trend in the data. The strength and direction of the correlation between scores and SES factors are indicated by the correlation coefficient (R) and the significance level (p-value) displayed on each plot.\n\n\n\n\n\n\nKey observations\n\n\n\n\nThere is a positive correlation between the students’ scores in all three subjects and each of the SES indicators. This suggests that higher SES is associated with higher academic performance across the subjects.\nThe correlation coefficients (R) are fairly similar across the subjects for each SES indicator, hovering around 0.39 to 0.42, indicating a moderate positive relationship.\nThe p-values are all below 0.001, which suggests that the correlations are statistically significant. The consistency of these findings across different SES indicators and subjects might imply that SES is a robust predictor of academic performance in the Singapore context.\nHowever, it’s important to note that correlation does not imply causation, and these results would require further investigation to determine causal relationships."
  },
  {
    "objectID": "Exercises/TH2/TH2.html#data-visualization-critique",
    "href": "Exercises/TH2/TH2.html#data-visualization-critique",
    "title": "Peer Critique and Visualization Makeover",
    "section": "",
    "text": "Original visualization\nMultiple box plots are used to investigate on the relationship between the parent’s occupation and education, home possessions and the child’s performance.\n\n\nClarityAesthetics\n\n\n\nThe use of box plots to represent correlation is misleading because box plots are typically used for displaying distributions rather than relationships between two variables. A different type of visualization, such as a scatter plot with a regression line, would be more appropriate for showing correlation.\nThe outliers are marked with different colors but no legend is provided to explain what these colors signify, which can be confusing for the viewer. Clarification through a legend or consistent coloring would improve understanding.\nThe long whiskers on the boxplots are not explained, leaving the viewer uncertain about what they represent. This could be rectified by including a note on what the whiskers signify, such as 1.5 times the interquartile range or standard deviations from the mean.\nThe absence of statistical results, such as correlation coefficients or p-values, makes it difficult to quantify the strength of any relationships depicted in the plots. Including this information would enhance the interpretability of the data.\n\n\n\n\nSorting performance levels in ascending order with labels that are not intuitive makes the chart harder to interpret at a glance. Reordering the levels or providing a more descriptive labeling system would be more visually intuitive.\nThe inclusion of mean indicators within the box plots is useful, but they blend in with individual data points. Making these indicators stand out more, perhaps with a different shape or size, would improve the visual distinction."
  },
  {
    "objectID": "Exercises/TH2/TH2.html#design-makeover",
    "href": "Exercises/TH2/TH2.html#design-makeover",
    "title": "Peer Critique and Visualization Makeover",
    "section": "3. Design Makeover",
    "text": "3. Design Makeover"
  },
  {
    "objectID": "Exercises/TH2/TH2.html#plot-makeover",
    "href": "Exercises/TH2/TH2.html#plot-makeover",
    "title": "Peer Critique and Visualization Makeover",
    "section": "8.3 Plot Makeover",
    "text": "8.3 Plot Makeover"
  },
  {
    "objectID": "Topics/HO4/HO4.html#ggplot2",
    "href": "Topics/HO4/HO4.html#ggplot2",
    "title": "Visual Statistical Analysis",
    "section": "7.1 ggplot2",
    "text": "7.1 ggplot2\nA point estimate is a single number, such as a mean. Uncertainty, on the other hand, is expressed as standard error, confidence interval, or credible interval.\n\nData TransformationTableStandard ErrorConfidence IntervalInteractive Error Bars\n\n\ngroup_by() of dplyr package groups the observation by RACE, summarise() compute the count of observations, mean, standard deviation. mutate() derive standard error of Maths by RACE, and the output is save as a tibble data table called my_sum.\n\nmy_sum &lt;- exam_data %&gt;%\n  group_by(RACE) %&gt;%\n  summarise(n=n(),\n            mean=mean(MATHS),\n            sd=sd(MATHS)) %&gt;%\n  mutate(se=sd/sqrt(n-1))\nglimpse(my_sum)\n\nRows: 4\nColumns: 5\n$ RACE &lt;chr&gt; \"Chinese\", \"Indian\", \"Malay\", \"Others\"\n$ n    &lt;int&gt; 193, 12, 108, 9\n$ mean &lt;dbl&gt; 76.50777, 60.66667, 57.44444, 69.66667\n$ sd   &lt;dbl&gt; 15.69040, 23.35237, 21.13478, 10.72381\n$ se   &lt;dbl&gt; 1.132357, 7.041005, 2.043177, 3.791438\n\n\n\n\nWe can view my_sum tibble data frame in an html table format. Need DT\n\nknitr::kable(head(my_sum), format = 'html')\n\n\n\n\nRACE\nn\nmean\nsd\nse\n\n\n\n\nChinese\n193\n76.50777\n15.69040\n1.132357\n\n\nIndian\n12\n60.66667\n23.35237\n7.041005\n\n\nMalay\n108\n57.44444\n21.13478\n2.043177\n\n\nOthers\n9\n69.66667\n10.72381\n3.791438\n\n\n\n\n\n\n\n\n\nWe will plot the standard error bars of mean Maths Score by RACE. The error bars are computed by using the formula mean+/-se. For geom_point(), it is important to indicate stat = “identity”.\n\nggplot(my_sum) +\n  geom_errorbar(aes(x=RACE, \n                    ymin=mean-se, \n                    ymax=mean+se), \n                width=0.2, \n                colour=\"black\", \n                alpha=0.9, \n                size=0.5) +\n  geom_point(aes(x=RACE, y=mean), \n             stat=\"identity\", \n             color=\"red\",\n             size = 1.5,\n             alpha=1) +\n  ggtitle(\"Standard error of mean Maths Score by Race\")+\n  theme_minimal()\n\n\n\n\n\n\nWe can also plot the confidence intervals of mean Maths Score by RACE. The confidence intervals are computed by using the formula **mean+/-1.96*se**. The error bars are sorted by using the average maths scores.\n\nggplot(my_sum) +\n  geom_errorbar(aes(x=reorder(RACE, -mean), \n                    ymin=mean-1.96*se, \n                    ymax=mean+1.96*se), \n                width=0.2, \n                colour=\"black\", \n                alpha=0.9, \n                size=0.5) +\n  geom_point(aes(x=RACE, y=mean), \n             stat=\"identity\", \n             color=\"red\",\n             size = 1.5,\n             alpha=1) +\n  labs(x = \"Maths Score\",\n       title = \"95% confidence interval of mean Maths Score by Race\")+\n  theme_minimal()\n\n\n\n\n\n\nWe will plot interactive error bars for the 99% confidence interval of mean Maths Score by Race.\nNeed plotly and crosstalk\n\n# shared_df = SharedData$new(my_sum)\n\nbscols(widths = c(4,8),\n       ggplotly((ggplot(my_sum) +\n                   geom_errorbar(aes(\n                     x=reorder(RACE, -mean),\n                     ymin=mean-2.58*se, \n                     ymax=mean+2.58*se), \n                     width=0.2, \n                     colour=\"black\", \n                     alpha=0.9, \n                     size=0.5) +\n                   geom_point(aes(\n                     x=RACE, \n                     y=mean, \n                     text = paste(\"Race:\", `RACE`, \n                                  \"&lt;br&gt;N:\", `n`,\n                                  \"&lt;br&gt;Avg. Scores:\", round(mean, digits = 2),\n                                  \"&lt;br&gt;95% CI:[\", \n                                  round((mean-2.58*se), digits = 2), \",\",\n                                  round((mean+2.58*se), digits = 2),\"]\")),\n                     stat=\"identity\", \n                     color=\"red\", \n                     size = 1.5, \n                     alpha=1) + \n                   xlab(\"Race\") + \n                   ylab(\"Average Scores\") + \n                   theme_minimal() + \n                   theme(axis.text.x = element_text(\n                     angle = 45, vjust = 0.5, hjust=1)) +\n                   ggtitle(\"99% Confidence interval of average /&lt;br&gt;maths scores by race\")), \n                tooltip = \"text\"), \n       DT::datatable(my_sum, \n                     rownames = FALSE, \n                     class=\"compact\", \n                     width=\"100%\", \n                     options = list(pageLength = 10,\n                                    scrollX=T), \n                     colnames = c(\"No. of pupils\", \n                                  \"Avg Scores\",\n                                  \"Std Dev\",\n                                  \"Std Error\")) %&gt;%\n         formatRound(columns=c('mean', 'sd', 'se'),\n                     digits=2))"
  },
  {
    "objectID": "Topics/HO4/HO4.html#ggdist",
    "href": "Topics/HO4/HO4.html#ggdist",
    "title": "Visual Statistical Analysis",
    "section": "7.2 ggdist",
    "text": "7.2 ggdist\n\n1234\n\n\n\nexam_data %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_pointinterval() +\n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\")\n\n\n\n\n\n\n\nexam_data %&gt;%\n  ggplot(aes(x = RACE, y = MATHS)) +\n  stat_pointinterval(.width = 0.95,\n  .point = median,\n  .interval = qi) +\n  labs(\n    title = \"Visualising confidence intervals of median math score\",\n    subtitle = \"Median Point + Multiple-interval plot\")\n\n\n\n\n\n\n\nexam_data %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_pointinterval(\n    show.legend = FALSE) +   \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\")\n\n\n\n\n\n\n\nexam_data %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_gradientinterval(   \n    fill = \"skyblue\",      \n    show.legend = TRUE     \n  ) +                        \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Gradient + interval plot\")"
  },
  {
    "objectID": "Topics/HO4/HO4.html#hypothetical-outcome-plots",
    "href": "Topics/HO4/HO4.html#hypothetical-outcome-plots",
    "title": "Visual Statistical Analysis",
    "section": "7.2 Hypothetical Outcome Plots",
    "text": "7.2 Hypothetical Outcome Plots\ntransition_states() from gganimate\n\nggplot(data = exam_data, \n       (aes(x = factor(RACE), y = MATHS))) +\n  geom_point(position = position_jitter(\n    height = 0.3, width = 0.05), \n    size = 0.4, color = \"#0072B2\", alpha = 1/2) +\n  geom_hpline(data = sampler(25, group = RACE), height = 0.6, color = \"#D55E00\") +\n  theme_bw() + \n  # `.draw` is a generated column indicating the sample draw\n  transition_states(.draw, 1, 3)"
  },
  {
    "objectID": "Topics/HO6/HO6.html",
    "href": "Topics/HO6/HO6.html",
    "title": "Model Diagnostics",
    "section": "",
    "text": "1. Learning Objectives\n\nVisualise model diagnostic using performance package\nVisualise model parameters using parameters package\n\n\n\n2. Load Packages\nThe following packages\n\nperformance compute indices of model quality and goodness of fit. It measures r-squared (R2), root mean squared error (RMSE) or intraclass correlation coefficient (ICC) , but also functions to check (mixed) models for overdispersion, zero-inflation, convergence or singularity.\nparameters processes the parameters of various statistical models. It computes p-values, CIs, Bayesian indices and implements features, like bootstrapping of parameters and models, feature reduction (feature extraction and variable selection), or tools for data reduction like functions to perform cluster, factor or principal component analysis.\nsee complements numeric summaries to produce visualizations for model parameters, predictions, and performance diagnostics.\nggstatsplot creates graphics with statistical tests in the information-rich plots.\n\n\npacman::p_load(tidyverse, readxl, performance, parameters, see, ggstatsplot)\n\n\n\n3. Import Data\nToyota Corolla is a car dataset with a set of explanatory variables.\n\ncar_resale &lt;- read_xls(\"data/ToyotaCorolla.xls\", \"data\")\nglimpse(car_resale)\n\nRows: 1,436\nColumns: 38\n$ Id               &lt;dbl&gt; 81, 1, 2, 3, 4, 5, 6, 7, 8, 44, 45, 46, 47, 49, 51, 6…\n$ Model            &lt;chr&gt; \"TOYOTA Corolla 1.6 5drs 1 4/5-Doors\", \"TOYOTA Coroll…\n$ Price            &lt;dbl&gt; 18950, 13500, 13750, 13950, 14950, 13750, 12950, 1690…\n$ Age_08_04        &lt;dbl&gt; 25, 23, 23, 24, 26, 30, 32, 27, 30, 27, 22, 23, 27, 2…\n$ Mfg_Month        &lt;dbl&gt; 8, 10, 10, 9, 7, 3, 1, 6, 3, 6, 11, 10, 6, 11, 11, 11…\n$ Mfg_Year         &lt;dbl&gt; 2002, 2002, 2002, 2002, 2002, 2002, 2002, 2002, 2002,…\n$ KM               &lt;dbl&gt; 20019, 46986, 72937, 41711, 48000, 38500, 61000, 9461…\n$ Quarterly_Tax    &lt;dbl&gt; 100, 210, 210, 210, 210, 210, 210, 210, 210, 234, 234…\n$ Weight           &lt;dbl&gt; 1180, 1165, 1165, 1165, 1165, 1170, 1170, 1245, 1245,…\n$ Guarantee_Period &lt;dbl&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3,…\n$ HP_Bin           &lt;chr&gt; \"100-120\", \"&lt; 100\", \"&lt; 100\", \"&lt; 100\", \"&lt; 100\", \"&lt; 100…\n$ CC_bin           &lt;chr&gt; \"1600\", \"&gt;1600\", \"&gt;1600\", \"&gt;1600\", \"&gt;1600\", \"&gt;1600\", …\n$ Doors            &lt;dbl&gt; 5, 3, 3, 3, 3, 3, 3, 3, 3, 5, 5, 5, 5, 5, 5, 5, 3, 3,…\n$ Gears            &lt;dbl&gt; 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5,…\n$ Cylinders        &lt;dbl&gt; 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4,…\n$ Fuel_Type        &lt;chr&gt; \"Petrol\", \"Diesel\", \"Diesel\", \"Diesel\", \"Diesel\", \"Di…\n$ Color            &lt;chr&gt; \"Blue\", \"Blue\", \"Silver\", \"Blue\", \"Black\", \"Black\", \"…\n$ Met_Color        &lt;dbl&gt; 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1,…\n$ Automatic        &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Mfr_Guarantee    &lt;dbl&gt; 0, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1,…\n$ BOVAG_Guarantee  &lt;dbl&gt; 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ ABS              &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Airbag_1         &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Airbag_2         &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Airco            &lt;dbl&gt; 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Automatic_airco  &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1,…\n$ Boardcomputer    &lt;dbl&gt; 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ CD_Player        &lt;dbl&gt; 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 1, 1, 1,…\n$ Central_Lock     &lt;dbl&gt; 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Powered_Windows  &lt;dbl&gt; 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Power_Steering   &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Radio            &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Mistlamps        &lt;dbl&gt; 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Sport_Model      &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1,…\n$ Backseat_Divider &lt;dbl&gt; 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…\n$ Metallic_Rim     &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Radio_cassette   &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n$ Tow_Bar          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,…\n\n\nThe output shows 1,436 observations and 38 attributes.\n\n\n4. Model Diagnostic for Multiple Regression Model\nlm() of Base Stats of R calibrates a multiple linear regression model.\n\nmodel &lt;- lm(Price ~ Age_08_04 + Mfg_Year + KM + Weight + Guarantee_Period, \n            data = car_resale)\nmodel\n\n\nCall:\nlm(formula = Price ~ Age_08_04 + Mfg_Year + KM + Weight + Guarantee_Period, \n    data = car_resale)\n\nCoefficients:\n     (Intercept)         Age_08_04          Mfg_Year                KM  \n      -2.637e+06        -1.409e+01         1.315e+03        -2.323e-02  \n          Weight  Guarantee_Period  \n       1.903e+01         2.770e+01  \n\n\n\nMulticolinearityNormality AssumptionHomogeneity of VariancesModel Checking\n\n\nThe first model diagnostic is to check multicolinearity using check_collinearity() of performance package.\n\ncheck_collinearity(model)\n\n# Check for Multicollinearity\n\nLow Correlation\n\n             Term  VIF     VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n               KM 1.46 [ 1.37,  1.57]         1.21      0.68     [0.64, 0.73]\n           Weight 1.41 [ 1.32,  1.51]         1.19      0.71     [0.66, 0.76]\n Guarantee_Period 1.04 [ 1.01,  1.17]         1.02      0.97     [0.86, 0.99]\n\nHigh Correlation\n\n      Term   VIF     VIF 95% CI Increased SE Tolerance Tolerance 95% CI\n Age_08_04 31.07 [28.08, 34.38]         5.57      0.03     [0.03, 0.04]\n  Mfg_Year 31.16 [28.16, 34.48]         5.58      0.03     [0.03, 0.04]\n\n\nVariance inflation factor (VIF) quantifies how much the variance of an estimated regression coefficient increases because of collinearity.\nThe collinearity plot is divided into coloured zones, typically green for low VIF values indicating low collinearity, and red for high VIF values indicating high collinearity. The threshold values for these zones are often set at 5 for low collinearity and 10 for high collinearity.\n\ncheck_c &lt;- check_collinearity(model)\nplot(check_c)\n\n\n\n\n\n\n\n\n\n\nObservation\n\n\n\nLow Collinearity: Variables such as Guarantee_Period, KM, and Weight are represented by green points and fall in the green zone, suggesting they have low multicollinearity.\nHigh Collinearity: The variable Age_08_04 and Mfg_Year is represented by a red point and falls in the red zone, indicating a high VIF and potential issues with multicollinearity.\n\n\n\n\nThe second model diagnostic is to check normality assumption using check_normality() of performance package.\n\nmodel1 &lt;- lm(Price ~ Age_08_04 + KM + Weight + Guarantee_Period, \n             data = car_resale)\nmodel1\n\n\nCall:\nlm(formula = Price ~ Age_08_04 + KM + Weight + Guarantee_Period, \n    data = car_resale)\n\nCoefficients:\n     (Intercept)         Age_08_04                KM            Weight  \n      -2.186e+03        -1.195e+02        -2.406e-02         1.972e+01  \nGuarantee_Period  \n       2.682e+01  \n\n\nThe Quantile-Quantile (Q-Q) plot assess whether the residuals from a regression model are normally distributed.\nThe x-axis represents the quantiles of a standard normal distribution, which is what the residuals would follow if they were perfectly normally distributed.\nThe y-axis represents the sample quantiles of the residuals from the model. These are the actual observed deviations from the model’s predictions.\nTypically, a Q-Q plot will have a reference line (green) that represents the expected line of points if the residuals were normally distributed. The dots are the ordered residual values from the model. If the residuals were perfectly normal, the dots would lie exactly on the reference line.\n\ncheck_n &lt;- check_normality(model1)\nplot(check_n)\n\n\n\n\n\n\n\n\n\n\nObservation\n\n\n\nThe middle range of residuals seems to be normally distributed, the presence of outliers and the heavy tails suggest that the model might not be the best fit for all data points, particularly for extreme values.\n\n\n\n\nThe third model disgnostic is to check model for homogeneity of variances using check_heteroscedasticity() of performance package.\nThe homogeneity of variances plot is a residual versus fitted plot used to check the assumption of homoscedasticity (equal variances) in the residuals of a regression model.\nThe x-axis displays the fitted values, which are the predicted values generated by the model. In linear regression, you would expect to see a random scatter of points around the horizontal line if the assumption of homoscedasticity holds.\nThe y-axis shows the standardized residuals, which are the model residuals divided by their estimated standard deviation. Ideally, these should be randomly distributed without any pattern.\nThe Locally Weighted Scatterplot Smoothing (LOWESS) line (green) is a non-parametric smoother that helps to visualize the overall trend in the data. In a perfectly homoscedastic scenario, this line would be flat and horizontal.\n\ncheck_h &lt;- check_heteroscedasticity(model1)\nplot(check_h)\n\n\n\n\n\n\n\n\n\n\nObservation\n\n\n\nThe LOWESS line curves upwards as the fitted values increase, suggesting that the variance of the residuals is increasing with the fitted values. This pattern indicates heteroscedasticity, meaning that the variance of the residuals is not constant across the range of fitted values.\n\n\n\n\nThe forth model disgnostic is to perform a complete check by using check_model() of performance package to conduct a visual check of various model assumptions:\nPosterior Predictive Check compares the distribution of the observed data with the distribution of the data predicted by the model. The observed data line should closely follow the model-predicted data line if the model is a good fit.\nLinearity checks if the relationship between predictors and the response is linear. The reference line should be flat and horizontal if the relationship is linear.\nHomogeneity of Variance (homoscedasticity) examines whether the residuals have constant variance across all levels of the fitted values. The reference line should be flat and horizontal in the presence of homoscedasticity.\nInfluential Observations plot identifies points that have an undue influence on the model. Ideally, points should be within the contour lines; points outside may unduly influence the model’s parameters.\nCollinearity plot assesses if there is multicollinearity among predictors using the Variance Inflation Factor (VIF). High VIF (generally, VIF &gt; 10) indicates high collinearity which can inflate the variance of the coefficient estimates and make them unstable.\nNormality of Residuals assesses if the residuals are normally distributed. Points should follow the line in the Q-Q plot if the residuals are normally distributed.\n\ncheck_model(model1)\n\n\n\n\n\n\n\n\n\n\nObservation\n\n\n\nPosterior Predictive Check appears that the predicted values follow the trend of the observed data, indicating that the model is capturing the underlying pattern.\nLinearity seems to be met, as the residuals are randomly scattered around the horizontal dashed line with no clear pattern.\nHomogeneity of Variance (homoscedasticity) indicates increasing variability in the residuals as the fitted values increase, which may suggest heteroscedasticity.\nInfluential Observations shows a few points outside the contour lines, suggesting the presence of influential observations that could be affecting the model’s estimates.\nCollinearity is absent as all predictors appear to have low VIF values, indicating that multicollinearity is not a concern.\nNormality of Residuals shows some deviation from normality, particularly in the tails, indicating potential issues with normality.\n\n\n\n\n\n\n\n5. Model Parameters\n\n\n5.1 Estimated Coefficients and Confidence Intervals\nplot() of see package and parameters() of parameters package is used to visualise the output of a regression model, displaying the estimated coefficients and their confidence intervals for each predictor variable in the model.\n\nplot(parameters(model1), \n     show_labels = TRUE,\n     size_text = 3)\n\n\n\n\n\n\n\n\n\n\nObservation\n\n\n\nAge 08 04: The coefficient for this variable is approximately -119.49, with a confidence interval ranging from -124.91 to -114.08. This suggests that as the age (presumably of a car, given the context) increases by one unit, the price decreases by about 119.49 units on average. The negative relationship is statistically significant.\nKM: The coefficient is very close to zero, around -0.02, with a confidence interval from -0.03 to -0.02. This indicates a very slight negative relationship between the number of kilometers driven (KM) and the price. Despite the small magnitude, this relationship is statistically significant.\nWeight: The coefficient for weight is positive, at approximately 19.72, with a confidence interval from 18.08 to 21.36. This positive coefficient means that as the weight increases by one unit, the price is expected to increase by about 19.72 units. The positive relationship is statistically significant.\nGuarantee Period: The coefficient is also positive, around 26.82, with a confidence interval from 2.08 to 51.56. This implies that as the guarantee period extends by one unit, the price increases by approximately 26.82 units. Given that the confidence interval is quite wide but does not include zero, the relationship is significant, but with more uncertainty compared to other variables.\n\n\n\n\n5.2 Estimated Coefficients, t-values and p-values\nggcoefstats() of ggstatsplot package to visualise the parameters of a regression model through a plot of a regression analysis output that includes estimated coefficients (effect sizes), t-values, and p-values for each predictor variable, along with the model intercept.\n\nggcoefstats(model1, output = \"plot\")\n\n\n\n\n\n\n\n\n\n\nObservation\n\n\n\nIntercept: The model’s intercept is significantly different from zero, indicating that when all predictors are at zero, the expected outcome is negatively offset by 2185.52 units.\nAge 08 04: This predictor has a large negative effect on the outcome, with every unit increase in age resulting in a decrease of 119.49 units in the outcome variable. The effect is highly significant, as indicated by the extremely small p-value.\nKM: Kilometers driven have a small but highly significant negative effect on the outcome, with every additional kilometer driven decreasing the outcome by 0.02 units.\nWeight: The vehicle’s weight has a positive effect on the outcome, with every unit increase in weight leading to an increase of 19.72 units in the outcome variable. This effect is also highly significant.\nGuarantee_Period: The guarantee period has a positive effect on the outcome. For every unit increase in the guarantee period, the outcome increases by 26.82 units. This effect is significant, albeit less so than the other predictors, as indicated by a p-value of 0.03."
  },
  {
    "objectID": "Topics/HO6/HO6.html#static-funnel-plot",
    "href": "Topics/HO6/HO6.html#static-funnel-plot",
    "title": "Bias and Abnormality Detection",
    "section": "Static Funnel Plot",
    "text": "Static Funnel Plot\n\np &lt;- ggplot(df, aes(x = Positive, y = rate)) +\n  geom_point(aes(label=`Sub-district`), \n             alpha=0.4) +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_hline(data = dfCI, \n             aes(yintercept = fit.mean), \n             size = 0.4, \n             colour = \"grey40\") +\n  coord_cartesian(ylim=c(0,0.05)) +\n  annotate(\"text\", x = 1, y = -0.13, label = \"95%\", size = 3, colour = \"grey40\") + \n  annotate(\"text\", x = 4.5, y = -0.18, label = \"99%\", size = 3, colour = \"grey40\") + \n  ggtitle(\"Cumulative Fatality Rate by Cumulative Number of COVID-19 Cases\") +\n  xlab(\"Cumulative Number of COVID-19 Cases\") + \n  ylab(\"Cumulative Fatality Rate\") +\n  theme_light() +\n  theme(plot.title = element_text(size=12),\n        legend.position = c(0.91,0.85), \n        legend.title = element_text(size=7),\n        legend.text = element_text(size=7),\n        legend.background = element_rect(colour = \"grey60\", linetype = \"dotted\"),\n        legend.key.height = unit(0.3, \"cm\"))\np"
  },
  {
    "objectID": "Topics/HO6/HO6.html#interactive-funnel-plot",
    "href": "Topics/HO6/HO6.html#interactive-funnel-plot",
    "title": "Bias and Abnormality Detection",
    "section": "Interactive Funnel Plot",
    "text": "Interactive Funnel Plot\nThe funnel plot created using ggplot2 functions can be made interactive with ggplotly() of plotly r package.\n\nfp_ggplotly &lt;- ggplotly(p, tooltip = c(\"label\", \"x\", \"y\"))\nfp_ggplotly"
  },
  {
    "objectID": "Topics/HO7/HO7.html",
    "href": "Topics/HO7/HO7.html",
    "title": "Multivariate Data Analysis",
    "section": "",
    "text": "1. Learning Objectives\n\nBuild a static ternary plot using ggtern package and an interactive ternary plot using plotly package\n\nggtern is a package that extends the functionality of ggplot2, giving the capability to plot ternary diagrams for (subset of) the ggplot2 proto geometries. Ternary diagrams are used frequently in a number of disciplines to graph compositional features for mixtures of three different elements or compounds. It is possible to represent a coordinate system having three (3) degrees of freedom, in 2D space, since the third dimention is linear and depends only on the other two.\n\n\n6. Reference\nggtern http://www.ggtern.com/d/2.2.0/\nggtern github https://github.com/cran/ggtern"
  },
  {
    "objectID": "Exercises/TH3/TH3.html",
    "href": "Exercises/TH3/TH3.html",
    "title": "Climate Change in Singapore",
    "section": "",
    "text": "Source: Ministry of Sustainability and the Environment"
  },
  {
    "objectID": "Topics/HO8/HO8.html",
    "href": "Topics/HO8/HO8.html",
    "title": "Multivariate Data Analysis",
    "section": "",
    "text": "To understand complex and multivariate data, each visualization offers a unique way to represent and understand patterns, relationships, and distributions within data that contain more than two variables. They translate numerical data into visual formats, making it easier to detect trends, clusters, outliers, and correlations that might be difficult to discern from raw data alone.\n\nCorrelation Matrix\n\nCorrelogram: Strength and direction of pairwise relationships\n\nCreate correlation matrix using pairs() of R Graphics\nPlot corrgram using corrplot package of R\nCreate an interactive correlation matrix using Plotly R\n\n\nMultivariate Data Visualization\n\nTernary plot: Three-dimensional analysis\n\nBuild static ternary plots using ggtern() function of ggtern package and interactive ternary plots using plot-ly() function of Plotly package.\n\nGlyphs or Star Plot\nHeatmap: Structure within complex datasets\n\nPlot static and interactive heatmaps using heatmaply package\n\nParallel coordinate plot\n\nPlot statistic parallel coordinates plots by using ggparcoord() of GGally package and interactive parallel coordinates plots by using parcoords package and parallelPlot package.\n\nParallel plot\n\nSpace-constrained visualization of hierarchies\n\nTreemaps: Hierarchical structures\n\nManipulate data into a treemap structure using dplyr package\nPlot static treemap using treemap package and design interactive treemap using d3treeR package\n\nSunburst diagram\n\n\nggtern is a package that extends the functionality of ggplot2, giving the capability to plot ternary diagrams for (subset of) the ggplot2 proto geometries. Ternary diagrams are used frequently in a number of disciplines to graph compositional features for mixtures of three different elements or compounds. It is possible to represent a coordinate system having three (3) degrees of freedom, in 2D space, since the third dimention is linear and depends only on the other two."
  },
  {
    "objectID": "Topics/HO5/HO5.html#standard-error",
    "href": "Topics/HO5/HO5.html#standard-error",
    "title": "Univariate Graphical Methods for Uncertainty",
    "section": "4.1 Standard Error",
    "text": "4.1 Standard Error\nWe will plot the standard error bars of mean Maths Score by RACE. The error bars are computed by using the arguments ymin and ymax with formula mean+/-se. For geom_point(), it is important to indicate stat = “identity”.\n\nggplot(my_sum) +\n  geom_errorbar(aes(x=RACE, ymin=mean-se, ymax=mean+se), \n                width=0.2, \n                colour=\"black\", \n                alpha=0.9, \n                size=0.5) +\n  geom_point(aes(x=RACE, y=mean), \n             stat=\"identity\", \n             color=\"hotpink2\",\n             size = 3,\n             alpha=1) +\n  ggtitle(\"Standard Error of mean Maths Score by Race\")+\n  theme_minimal()"
  },
  {
    "objectID": "Topics/HO5/HO5.html#confidence-interval",
    "href": "Topics/HO5/HO5.html#confidence-interval",
    "title": "Univariate Graphical Methods for Uncertainty",
    "section": "4.2 Confidence Interval",
    "text": "4.2 Confidence Interval\nWe can also plot the confidence intervals of mean Maths Score by RACE. The confidence intervals are computed by using the formula **mean+/-1.96*se**. The error bars are sorted by using the average maths scores.\n\n\n\n\n\n\nTip\n\n\n\nIn probability and statistics, the 97.5th percentile point of the standard normal distribution is an approximate value of 1.96, where 95% of the area under a normal curve lies within approximately 1.96 standard deviations of the mean.\nIf X has a standard normal distribution, i.e. X ~ N(0,1),\nP(X &gt; 1.96) ≈ 0.025 P(X &lt; 1.96) ≈ 0.975\nand as the normal distribution is symmetric,\nP(−1.96 &lt; X &lt; 1.96) ≈ 0.95.\n\n\n\nggplot(my_sum) +\n  geom_errorbar(aes(x = reorder(RACE, -mean), ymin = mean-1.96*se, ymax = mean+1.96*se), \n                width = 0.2, \n                colour = \"black\", \n                alpha = 0.9, \n                size = 0.5)+\n  geom_point(aes(x = RACE, y = mean), \n             stat = \"identity\", \n             color = \"thistle3\",\n             size = 3,\n             alpha = 1) +\n  labs(x = \"Maths Score\",\n       title = \"95% confidence interval of mean Maths Score by Race\")+\n  theme_minimal()\n\n\n\n\n\nInteractive Error Bars\nWe will plot interactive error bars for the 99% confidence interval of mean Maths Score by Race.\nNeed plotly and bscols neeed crosstalk bscols: Arrange HTML elements or widgets in Bootstrap columns\n\n# shared_df = SharedData$new(my_sum)\n\nbscols(widths = c(4,8),\n       ggplotly((ggplot(my_sum) +\n                   geom_errorbar(aes(\n                     x=reorder(RACE, -mean),\n                     ymin=mean-2.58*se, \n                     ymax=mean+2.58*se), \n                     width=0.2, \n                     colour=\"black\", \n                     alpha=0.9, \n                     size=0.5) +\n                   geom_point(aes(\n                     x=RACE, \n                     y=mean, \n                     text = paste(\"Race:\", `RACE`, \n                                  \"&lt;br&gt;N:\", `n`,\n                                  \"&lt;br&gt;Avg. Scores:\", round(mean, digits = 2),\n                                  \"&lt;br&gt;95% CI:[\", \n                                  round((mean-2.58*se), digits = 2), \",\",\n                                  round((mean+2.58*se), digits = 2),\"]\")),\n                     stat=\"identity\", \n                     color=\"red\", \n                     size = 1.5, \n                     alpha=1) + \n                   xlab(\"Race\") + \n                   ylab(\"Average Scores\") + \n                   theme_minimal() + \n                   theme(axis.text.x = element_text(\n                     angle = 45, vjust = 0.5, hjust=1)) +\n                   ggtitle(\"99% Confidence interval of average /&lt;br&gt;maths scores by race\")), \n                tooltip = \"text\"), \n       DT::datatable(my_sum, \n                     rownames = FALSE, \n                     class=\"compact\", \n                     width=\"100%\", \n                     options = list(pageLength = 10,\n                                    scrollX=T), \n                     colnames = c(\"No. of pupils\", \n                                  \"Avg Scores\",\n                                  \"Std Dev\",\n                                  \"Std Error\")) %&gt;%\n         formatRound(columns=c('mean', 'sd', 'se'),\n                     digits=2))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n:::"
  },
  {
    "objectID": "Topics/HO5/HO5.html#ggdist",
    "href": "Topics/HO5/HO5.html#ggdist",
    "title": "Univariate Graphical Methods for Uncertainty",
    "section": "7.2 ggdist",
    "text": "7.2 ggdist\n\n1234\n\n\n\nexam_data %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_pointinterval() +\n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\")\n\nError in stat_pointinterval(): could not find function \"stat_pointinterval\"\n\n\n\n\n\nexam_data %&gt;%\n  ggplot(aes(x = RACE, y = MATHS)) +\n  stat_pointinterval(.width = 0.95,\n  .point = median,\n  .interval = qi) +\n  labs(\n    title = \"Visualising confidence intervals of median math score\",\n    subtitle = \"Median Point + Multiple-interval plot\")\n\nError in stat_pointinterval(.width = 0.95, .point = median, .interval = qi): could not find function \"stat_pointinterval\"\n\n\n\n\n\nexam_data %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_pointinterval(\n    show.legend = FALSE) +   \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Mean Point + Multiple-interval plot\")\n\nError in stat_pointinterval(show.legend = FALSE): could not find function \"stat_pointinterval\"\n\n\n\n\n\nexam_data %&gt;%\n  ggplot(aes(x = RACE, \n             y = MATHS)) +\n  stat_gradientinterval(   \n    fill = \"skyblue\",      \n    show.legend = TRUE     \n  ) +                        \n  labs(\n    title = \"Visualising confidence intervals of mean math score\",\n    subtitle = \"Gradient + interval plot\")\n\nError in stat_gradientinterval(fill = \"skyblue\", show.legend = TRUE): could not find function \"stat_gradientinterval\""
  },
  {
    "objectID": "Topics/HO5/HO5.html#hypothetical-outcome-plots",
    "href": "Topics/HO5/HO5.html#hypothetical-outcome-plots",
    "title": "Univariate Graphical Methods for Uncertainty",
    "section": "7.2 Hypothetical Outcome Plots",
    "text": "7.2 Hypothetical Outcome Plots\ntransition_states() from gganimate\n\nggplot(data = exam_data, \n       (aes(x = factor(RACE), y = MATHS))) +\n  geom_point(position = position_jitter(\n    height = 0.3, width = 0.05), \n    size = 0.4, color = \"#0072B2\", alpha = 1/2) +\n  geom_hpline(data = sampler(25, group = RACE), height = 0.6, color = \"#D55E00\") +\n  theme_bw() + \n  # `.draw` is a generated column indicating the sample draw\n  transition_states(.draw, 1, 3)\n\nError in transition_states(.draw, 1, 3): could not find function \"transition_states\""
  },
  {
    "objectID": "Topics/HO7/HO7.html#static-funnel-plot",
    "href": "Topics/HO7/HO7.html#static-funnel-plot",
    "title": "Bivariate Graphical Methods for Uncertainty",
    "section": "Static Funnel Plot",
    "text": "Static Funnel Plot\n\np &lt;- ggplot(df, aes(x = Positive, y = rate)) +\n  geom_point(aes(label=`Sub-district`), \n             alpha=0.4) +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul95), \n            size = 0.4, \n            colour = \"grey40\", \n            linetype = \"dashed\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ll999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_line(data = dfCI, \n            aes(x = number.seq, \n                y = number.ul999), \n            size = 0.4, \n            colour = \"grey40\") +\n  geom_hline(data = dfCI, \n             aes(yintercept = fit.mean), \n             size = 0.4, \n             colour = \"grey40\") +\n  coord_cartesian(ylim=c(0,0.05)) +\n  annotate(\"text\", x = 1, y = -0.13, label = \"95%\", size = 3, colour = \"grey40\") + \n  annotate(\"text\", x = 4.5, y = -0.18, label = \"99%\", size = 3, colour = \"grey40\") + \n  ggtitle(\"Cumulative Fatality Rate by Cumulative Number of COVID-19 Cases\") +\n  xlab(\"Cumulative Number of COVID-19 Cases\") + \n  ylab(\"Cumulative Fatality Rate\") +\n  theme_light() +\n  theme(plot.title = element_text(size=12),\n        legend.position = c(0.91,0.85), \n        legend.title = element_text(size=7),\n        legend.text = element_text(size=7),\n        legend.background = element_rect(colour = \"grey60\", linetype = \"dotted\"),\n        legend.key.height = unit(0.3, \"cm\"))\np"
  },
  {
    "objectID": "Topics/HO7/HO7.html#interactive-funnel-plot",
    "href": "Topics/HO7/HO7.html#interactive-funnel-plot",
    "title": "Bivariate Graphical Methods for Uncertainty",
    "section": "Interactive Funnel Plot",
    "text": "Interactive Funnel Plot\nThe funnel plot created using ggplot2 functions can be made interactive with ggplotly() of plotly r package.\n\nfp_ggplotly &lt;- ggplotly(p, tooltip = c(\"label\", \"x\", \"y\"))\nfp_ggplotly"
  },
  {
    "objectID": "Topics/HO8/HO8.html#load-packages",
    "href": "Topics/HO8/HO8.html#load-packages",
    "title": "Multivariate Data Analysis",
    "section": "2.1 Load Packages",
    "text": "2.1 Load Packages\nThe following R packages will be used:\n\ntidyverse supports data science, analysis and communication task\ncorrplot enables multivariate data visualisation and analysis\nggstatsplot is an ggplot2 extension for creating graphics with details from statistical tests\n\n\npacman::p_load(corrplot, ggstatsplot, tidyverse, ggplot2)"
  },
  {
    "objectID": "Topics/HO8/HO8.html#import-data",
    "href": "Topics/HO8/HO8.html#import-data",
    "title": "Multivariate Data Analysis",
    "section": "2.2 Import Data",
    "text": "2.2 Import Data\nwine is a wine quality dataset with attributes tested in wine chemistry and are used to determine the quality of wine through sensory and chemical analysis.\n\nwine &lt;- read_csv(\"data/wine_quality.csv\")\nglimpse(wine)\n\nRows: 6,497\nColumns: 13\n$ `fixed acidity`        &lt;dbl&gt; 7.4, 7.8, 7.8, 11.2, 7.4, 7.4, 7.9, 7.3, 7.8, 7…\n$ `volatile acidity`     &lt;dbl&gt; 0.700, 0.880, 0.760, 0.280, 0.700, 0.660, 0.600…\n$ `citric acid`          &lt;dbl&gt; 0.00, 0.00, 0.04, 0.56, 0.00, 0.00, 0.06, 0.00,…\n$ `residual sugar`       &lt;dbl&gt; 1.9, 2.6, 2.3, 1.9, 1.9, 1.8, 1.6, 1.2, 2.0, 6.…\n$ chlorides              &lt;dbl&gt; 0.076, 0.098, 0.092, 0.075, 0.076, 0.075, 0.069…\n$ `free sulfur dioxide`  &lt;dbl&gt; 11, 25, 15, 17, 11, 13, 15, 15, 9, 17, 15, 17, …\n$ `total sulfur dioxide` &lt;dbl&gt; 34, 67, 54, 60, 34, 40, 59, 21, 18, 102, 65, 10…\n$ density                &lt;dbl&gt; 0.9978, 0.9968, 0.9970, 0.9980, 0.9978, 0.9978,…\n$ pH                     &lt;dbl&gt; 3.51, 3.20, 3.26, 3.16, 3.51, 3.51, 3.30, 3.39,…\n$ sulphates              &lt;dbl&gt; 0.56, 0.68, 0.65, 0.58, 0.56, 0.56, 0.46, 0.47,…\n$ alcohol                &lt;dbl&gt; 9.4, 9.8, 9.8, 9.8, 9.4, 9.4, 9.4, 10.0, 9.5, 1…\n$ quality                &lt;dbl&gt; 5, 5, 5, 6, 5, 5, 5, 7, 7, 5, 5, 5, 5, 5, 5, 5,…\n$ type                   &lt;chr&gt; \"red\", \"red\", \"red\", \"red\", \"red\", \"red\", \"red\"…\n\n\n\n\n\n\n\n\nContextual Knowledge on Wine\n\n\n\n\n\nAttributes of Wine Quality:\nFixed Acidity: This refers to the concentration of tartaric, malic, and other acids that do not evaporate readily. Higher levels can make a wine taste tart or sour.\nVolatile Acidity: This measures the acidic compounds in wine that can vaporize easily. At low levels, they can add to the complexity of the wine, but high levels can lead to an unpleasant, vinegar-like aroma.\nCitric Acid: As one of the acids found naturally in grapes, it’s less common in wines but can be added for flavor and freshness.\nResidual Sugar: The amount of sugar remaining after fermentation stops. It affects the sweetness of the wine; dry wines have low residual sugar, while sweet wines have high levels.\nChlorides: The amount of salt in the wine, which can influence flavor.\nFree Sulfur Dioxide (SO2): This acts as a preservative by preventing microbial growth and oxidation. It can also affect the smell and taste of the wine.\nTotal Sulfur Dioxide: The sum of bound and free sulfur dioxide. High levels can lead to off-putting aromas and can affect those sensitive to sulfites.\nDensity: This can give an indication of the alcohol content and sweetness of the wine. Denser wines might have higher sugar content and potentially higher alcohol levels.\npH: The level of acidity in the wine. Wines with lower pH (more acidic) tend to have a longer shelf life and more tartness.\nSulphates: These are added to wine to preserve it and can influence its fermentation and flavor.\nAlcohol: The alcohol level can affect the body, flavor, and texture of the wine.\nQuality: This is often a score given by experts based on the balance of the wine’s characteristics.\nType: Refers to the classification of the wine (e.g., red, white, rosé) and can be used to correlate specific attributes with the preferred profiles of each type."
  },
  {
    "objectID": "Topics/HO8/HO8.html#correlation-matrix-using-r-graphics",
    "href": "Topics/HO8/HO8.html#correlation-matrix-using-r-graphics",
    "title": "Multivariate Data Analysis",
    "section": "2.3 Correlation matrix using R Graphics",
    "text": "2.3 Correlation matrix using R Graphics\npair() from R Graphics produce a matrix of scatterplots given x as the numeric columns of a matrix.\nAmong the 13 attributes in wine, the type attribute is a categorical variable to be excluded from the matrix.\n\nCorrelation CoefficientDouble PanelPanel Selection\n\n\npanel.cor function can show the correlation coefficient of each pair of variables.\n\npanel.cor &lt;- function(x, y, digits = 2, prefix = \"\", cex.cor, ...) {\n  usr &lt;- par(\"usr\")\n  on.exit(par(usr))\n  par(usr = c(0, 1, 0, 1))\n  r &lt;- abs(cor(x, y, use = \"complete.obs\"))\n  txt &lt;- format(c(r, 0.123456789), digits = digits)[1]\n  txt &lt;- paste(prefix, txt, sep=\"\")\n  if(missing(cex.cor)) cex.cor &lt;- 0.8/strwidth(txt)\n  text(0.5, 0.5, txt, cex = cex.cor * (1 + r) / 2)\n  }\n\npairs(wine[,1:12], \n      upper.panel = panel.cor)\n\n\n\n\n\n\n\n\n\n\nObservations\n\n\n\nBelow and above the diagonal are scatter plots for each pair of variables, which show how the variables relate to one another. Tight clustering of points along a line indicates a strong correlation, either positive (sloping upwards) or negative (sloping downwards).\nHowever, given the static nature of the matrix, precise quantitative analysis and correlation coefficients are not discernible.\n\n\n\n\n\npairs(wine[,1:12])\n\n\n\n\n\n\n\n\n\n\nObservations\n\n\n\nBelow and above the diagonal are scatter plots for each pair of variables, which show how the variables relate to one another. Tight clustering of points along a line indicates a strong correlation, either positive (sloping upwards) or negative (sloping downwards).\nHowever, given the static nature of the matrix, precise quantitative analysis and correlation coefficients are not discernible.\n\n\n\n\nA correlation matrix is symmetric. lower.panel and upper.panel are panel functions used below and above the diagonal respectively.\n\npairs(wine[,1:12], upper.panel = NULL)"
  },
  {
    "objectID": "Topics/HO8/HO8.html#correlation-matrix-using-ggstatplot-package",
    "href": "Topics/HO8/HO8.html#correlation-matrix-using-ggstatplot-package",
    "title": "Multivariate Data Analysis",
    "section": "2.4 Correlation matrix using ggstatplot package",
    "text": "2.4 Correlation matrix using ggstatplot package\nggcormat() of ggstatplot package creates a corrgram where cor.var produce a correlation coefficient matrix and the associated p-value matrix\n\nggcorrmat(\n  data = wine, \n  cor.vars = 1:12,\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  title    = \"Correlogram for wine dataset\",\n  subtitle = \"Four pairs are no significant at p &lt; 0.05\"\n)\n\n\n\n\n\nCustomization\n\nggcorrmat(\n  data = wine, ## data from which variable is to be taken\n  cor.vars = 1:12,\n  type = \"np\", ## which correlation coefficient is to be computed\n  lab.col = \"red\", ## label color\n  ggtheme = theme_light(), ## selected ggplot2 theme\n  ## turn off default ggestatsplot theme overlay\n  matrix.type = \"lower\", ## correlation matrix structure\n  colors = NULL, ## turning off manual specification of colors\n  palette = \"category10_d3\", ## choosing a color palette\n  package = \"ggsci\", ## package to which color palette belongs\n  title = \"Gapminder correlation matrix\", ## custom title\n  subtitle = \"Source: Gapminder Foundation\" ## custom subtitle\n)\n\n\n\n\n\n\nMultiple Plots\nggstatsplot provides a special helper function to do separate analysis using grouped_ggcorrmat(). It applies ggcorrmat() across all levels of a specified grouping variable and then combines list of individual plots into a single plot.\n\ngrouped_ggcorrmat(\n  data = wine,\n  cor.vars = 1:11,\n  grouping.var = type,\n  type = \"robust\",\n  p.adjust.method = \"holm\",\n  plotgrid.args = list(ncol = 2),\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  annotation.args = list(\n    tag_levels = \"a\",\n    title = \"Correlogram for wine dataset\",\n    subtitle = \"The measures are: alcohol, sulphates, fixed acidity, citric acid, chlorides, residual sugar, density, free sulfur dioxide and volatile acidity\",\n    caption = \"Dataset: UCI Machine Learning Repository\"\n  )\n)"
  },
  {
    "objectID": "Topics/HO8/HO8.html#correlation-matrix-using-corrplot-package",
    "href": "Topics/HO8/HO8.html#correlation-matrix-using-corrplot-package",
    "title": "Multivariate Data Analysis",
    "section": "2.5 Correlation matrix using corrplot package",
    "text": "2.5 Correlation matrix using corrplot package\ncor() of R Stats is used to compute the correlation matrix of wine data frame.\n\nwine.cor &lt;- cor(wine[, 1:12])\n\n\ncorrplot.mixed(wine.cor, \n               lower = \"ellipse\", \n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")"
  },
  {
    "objectID": "Topics/HO8/HO8.html#correlation-matrix-using-ellipse-package",
    "href": "Topics/HO8/HO8.html#correlation-matrix-using-ellipse-package",
    "title": "Multivariate Data Analysis",
    "section": "2.6 Correlation matrix using ellipse package",
    "text": "2.6 Correlation matrix using ellipse package"
  },
  {
    "objectID": "Topics/HO8/HO8.html#correlation-matrix-using-corrgram-package",
    "href": "Topics/HO8/HO8.html#correlation-matrix-using-corrgram-package",
    "title": "Multivariate Data Analysis",
    "section": "2.7 Correlation matrix using corrgram package",
    "text": "2.7 Correlation matrix using corrgram package"
  },
  {
    "objectID": "Topics/HO8/HO8.html#correlation-matrix",
    "href": "Topics/HO8/HO8.html#correlation-matrix",
    "title": "Multivariate Data Analysis",
    "section": "2.3 Correlation matrix",
    "text": "2.3 Correlation matrix\n\nR Graphicsggstatplotcorrplotellipsecorrgram\n\n\n\nR Graphics\npair() from R Graphics produce a matrix of scatterplots given x as the numeric columns of a matrix.\nAmong the 13 attributes in wine, the type attribute is a categorical variable to be excluded from the matrix.\n\n\nCorrelation Coefficient\npanel.cor function can show the correlation coefficient of each pair of variables.\n\npanel.cor &lt;- function(x, y, digits = 2, prefix = \"\", cex.cor, ...) {\n  usr &lt;- par(\"usr\")\n  on.exit(par(usr))\n  par(usr = c(0, 1, 0, 1))\n  r &lt;- abs(cor(x, y, use = \"complete.obs\"))\n  txt &lt;- format(c(r, 0.123456789), digits = digits)[1]\n  txt &lt;- paste(prefix, txt, sep=\"\")\n  if(missing(cex.cor)) cex.cor &lt;- 0.8/strwidth(txt)\n  text(0.5, 0.5, txt, cex = cex.cor * (1 + r) / 2)\n  }\n\npairs(wine[,1:12], \n      upper.panel = panel.cor)\n\n\n\n\n\n\n\n\n\n\nObservations\n\n\n\nBelow and above the diagonal are scatter plots for each pair of variables, which show how the variables relate to one another. Tight clustering of points along a line indicates a strong correlation, either positive (sloping upwards) or negative (sloping downwards).\nHowever, given the static nature of the matrix, precise quantitative analysis and correlation coefficients are not discernible.\n\n\n\n\nDouble Panel\n\npairs(wine[,1:12])\n\n\n\n\n\n\n\n\n\n\nObservations\n\n\n\nBelow and above the diagonal are scatter plots for each pair of variables, which show how the variables relate to one another. Tight clustering of points along a line indicates a strong correlation, either positive (sloping upwards) or negative (sloping downwards).\nHowever, given the static nature of the matrix, precise quantitative analysis and correlation coefficients are not discernible.\n\n\n\n\nPanel Selection\nA correlation matrix is symmetric. lower.panel and upper.panel are panel functions used below and above the diagonal respectively.\n\npairs(wine[,1:12], upper.panel = NULL)\n\n\n\n\n\n\n\n\nGgstatplot Package\nggcormat() of ggstatplot package creates a corrgram where cor.var produce a correlation coefficient matrix and the associated p-value matrix\n\nggcorrmat(\n  data = wine, \n  cor.vars = 1:12,\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  title    = \"Correlogram for wine dataset\",\n  subtitle = \"Four pairs are no significant at p &lt; 0.05\"\n)\n\n\n\n\n\n\nCustomization\n\nggcorrmat(\n  data = wine, ## data from which variable is to be taken\n  cor.vars = 1:12,\n  type = \"np\", ## which correlation coefficient is to be computed\n  lab.col = \"red\", ## label color\n  ggtheme = theme_light(), ## selected ggplot2 theme\n  ## turn off default ggestatsplot theme overlay\n  matrix.type = \"lower\", ## correlation matrix structure\n  colors = NULL, ## turning off manual specification of colors\n  palette = \"category10_d3\", ## choosing a color palette\n  package = \"ggsci\", ## package to which color palette belongs\n  title = \"Gapminder correlation matrix\", ## custom title\n  subtitle = \"Source: Gapminder Foundation\" ## custom subtitle\n)\n\n\n\n\n\n\nMultiple Plots\nggstatsplot provides a special helper function to do separate analysis using grouped_ggcorrmat(). It applies ggcorrmat() across all levels of a specified grouping variable and then combines list of individual plots into a single plot.\n\ngrouped_ggcorrmat(\n  data = wine,\n  cor.vars = 1:11,\n  grouping.var = type,\n  type = \"robust\",\n  p.adjust.method = \"holm\",\n  plotgrid.args = list(ncol = 2),\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  annotation.args = list(\n    tag_levels = \"a\",\n    title = \"Correlogram for wine dataset\",\n    subtitle = \"The measures are: alcohol, sulphates, fixed acidity, citric acid, chlorides, residual sugar, density, free sulfur dioxide and volatile acidity\",\n    caption = \"Dataset: UCI Machine Learning Repository\"\n  )\n)\n\n\n\n\n\n\n\n\nCorrplot Package\ncor() of R Stats is used to compute the correlation matrix of wine data frame.\n\nwine.cor &lt;- cor(wine[, 1:12])\n\n\ncorrplot.mixed(wine.cor, \n               lower = \"ellipse\", \n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nEllipse Package\nThe ellipse package allows us to build a correlogram using plotcorr() function.\nFirst of all, you have to compute the correlation matrix of your dataset using the cor() function of R. Each correliation will be represented as an ellipse by the plotcorr() function. Color, shape and orientation depend on the correlation value.\n\n# Libraries\nlibrary(ellipse)\nlibrary(RColorBrewer)\n \n# Use of the mtcars data proposed by R\nwine.cor &lt;- cor(wine[, 1:12]) \n\n# Build a Pannel of 100 colors with Rcolor Brewer\nmy_colors &lt;- brewer.pal(5, \"Spectral\")\nmy_colors &lt;- colorRampPalette(my_colors)(100)\n \n# Order the correlation matrix\nord &lt;- order(wine.cor[1, ])\nwine_ord &lt;- wine.cor[ord, ord]\nplotcorr(wine_ord , col=my_colors[wine_ord*50+50] , mar=c(1,1,1,1)  )\n\n\n\n\n\n\n\n\nCorrgram Package\nUsing corrgram(), there are two ways to graphically display the correlation matrix using the panel.shade() and panel.pie() functions.\n\nlibrary(corrgram)\n\ncorrgram(wine[, 1:12], order=TRUE,\n         main=\"Wine\",\n         lower.panel = panel.shade, upper.panel = panel.pie,\n         diag.panel = panel.minmax, text.panel = panel.txt)"
  },
  {
    "objectID": "Topics/HO8/HO8.html#plot-correlation-matrix",
    "href": "Topics/HO8/HO8.html#plot-correlation-matrix",
    "title": "Multivariate Data Analysis",
    "section": "2.3 Plot Correlation matrix",
    "text": "2.3 Plot Correlation matrix\nCorrelation matrix can be created using the following packages:\n\nR Graphicsggstatplotcorrplotellipsecorrgram\n\n\n\nR Graphics\npair() from R Graphics produce a matrix of scatterplots given x as the numeric columns of a matrix.\nAmong the 13 attributes in wine, the type attribute is a categorical variable to be excluded from the matrix.\n\n\nCorrelation Coefficient\npanel.cor function can show the correlation coefficient of each pair of variables.\n\npanel.cor &lt;- function(x, y, digits = 2, prefix = \"\", cex.cor, ...) {\n  usr &lt;- par(\"usr\")\n  on.exit(par(usr))\n  par(usr = c(0, 1, 0, 1))\n  r &lt;- abs(cor(x, y, use = \"complete.obs\"))\n  txt &lt;- format(c(r, 0.123456789), digits = digits)[1]\n  txt &lt;- paste(prefix, txt, sep=\"\")\n  if(missing(cex.cor)) cex.cor &lt;- 0.8/strwidth(txt)\n  text(0.5, 0.5, txt, cex = cex.cor * (1 + r) / 2)\n  }\n\npairs(wine[,1:12], \n      upper.panel = panel.cor)\n\n\n\n\n\n\n\n\n\n\nObservations\n\n\n\nBelow and above the diagonal are scatter plots for each pair of variables, which show how the variables relate to one another. Tight clustering of points along a line indicates a strong correlation, either positive (sloping upwards) or negative (sloping downwards).\nHowever, given the static nature of the matrix, precise quantitative analysis and correlation coefficients are not discernible.\n\n\n\n\nDouble Panel\n\npairs(wine[,1:12])\n\n\n\n\n\n\n\n\n\n\nObservations\n\n\n\nBelow and above the diagonal are scatter plots for each pair of variables, which show how the variables relate to one another. Tight clustering of points along a line indicates a strong correlation, either positive (sloping upwards) or negative (sloping downwards).\nHowever, given the static nature of the matrix, precise quantitative analysis and correlation coefficients are not discernible.\n\n\n\n\nPanel Selection\nA correlation matrix is symmetric. lower.panel and upper.panel are panel functions used below and above the diagonal respectively.\n\npairs(wine[,1:12], upper.panel = NULL)\n\n\n\n\n\n\n\n\nGgstatplot Package\nggcormat() of ggstatplot package creates a corrgram where cor.var produce a correlation coefficient matrix and the associated p-value matrix\n\nggcorrmat(\n  data = wine, \n  cor.vars = 1:12,\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  title    = \"Correlogram for wine dataset\",\n  subtitle = \"Four pairs are no significant at p &lt; 0.05\"\n)\n\n\n\n\n\n\nCustomization\n\nggcorrmat(\n  data = wine, ## data from which variable is to be taken\n  cor.vars = 1:12,\n  type = \"np\", ## which correlation coefficient is to be computed\n  lab.col = \"red\", ## label color\n  ggtheme = theme_light(), ## selected ggplot2 theme\n  ## turn off default ggestatsplot theme overlay\n  matrix.type = \"lower\", ## correlation matrix structure\n  colors = NULL, ## turning off manual specification of colors\n  palette = \"category10_d3\", ## choosing a color palette\n  package = \"ggsci\", ## package to which color palette belongs\n  title = \"Gapminder correlation matrix\", ## custom title\n  subtitle = \"Source: Gapminder Foundation\" ## custom subtitle\n)\n\n\n\n\n\n\nMultiple Plots\nggstatsplot provides a special helper function to do separate analysis using grouped_ggcorrmat(). It applies ggcorrmat() across all levels of a specified grouping variable and then combines list of individual plots into a single plot.\n\ngrouped_ggcorrmat(\n  data = wine,\n  cor.vars = 1:11,\n  grouping.var = type,\n  type = \"robust\",\n  p.adjust.method = \"holm\",\n  plotgrid.args = list(ncol = 2),\n  ggcorrplot.args = list(outline.color = \"black\", \n                         hc.order = TRUE,\n                         tl.cex = 10),\n  annotation.args = list(\n    tag_levels = \"a\",\n    title = \"Correlogram for wine dataset\",\n    subtitle = \"The measures are: alcohol, sulphates, fixed acidity, citric acid, chlorides, residual sugar, density, free sulfur dioxide and volatile acidity\",\n    caption = \"Dataset: UCI Machine Learning Repository\"\n  )\n)\n\n\n\n\n\n\n\n\nCorrplot Package\ncor() of R Stats is used to compute the correlation matrix of wine data frame.\n\nwine.cor &lt;- cor(wine[, 1:12])\n\n\ncorrplot.mixed(wine.cor, \n               lower = \"ellipse\", \n               upper = \"number\",\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nEllipse Package\nThe ellipse package allows us to build a correlogram using plotcorr() function.\nFirst of all, you have to compute the correlation matrix of your dataset using the cor() function of R. Each correliation will be represented as an ellipse by the plotcorr() function. Color, shape and orientation depend on the correlation value.\n\n# Libraries\nlibrary(ellipse)\nlibrary(RColorBrewer)\n \n# Use of the mtcars data proposed by R\nwine.cor &lt;- cor(wine[, 1:12]) \n\n# Build a Pannel of 100 colors with Rcolor Brewer\nmy_colors &lt;- brewer.pal(5, \"Spectral\")\nmy_colors &lt;- colorRampPalette(my_colors)(100)\n \n# Order the correlation matrix\nord &lt;- order(wine.cor[1, ])\nwine_ord &lt;- wine.cor[ord, ord]\nplotcorr(wine_ord , col=my_colors[wine_ord*50+50] , mar=c(1,1,1,1)  )\n\n\n\n\n\n\n\n\nCorrgram Package\nUsing corrgram(), there are two ways to graphically display the correlation matrix using the panel.shade() and panel.pie() functions.\n\nlibrary(corrgram)\n\ncorrgram(wine[, 1:12], order=TRUE,\n         main=\"Wine\",\n         lower.panel = panel.shade, upper.panel = panel.pie,\n         diag.panel = panel.minmax, text.panel = panel.txt)"
  },
  {
    "objectID": "Topics/HO8/HO8.html#load-packages-1",
    "href": "Topics/HO8/HO8.html#load-packages-1",
    "title": "Multivariate Data Analysis",
    "section": "3.1 Load Packages",
    "text": "3.1 Load Packages\nThe following R packages will be used:\n\ntidyverse supports data science, analysis and communication task\nplotly\nggtern plots static ternary plots.\nTernary creates of ternary plots in the R graphics\n\n\npacman::p_load(tidyverse, plotly, ggtern, Ternary)"
  },
  {
    "objectID": "Topics/HO8/HO8.html#import-and-prepare-data",
    "href": "Topics/HO8/HO8.html#import-and-prepare-data",
    "title": "Multivariate Data Analysis",
    "section": "3.2 Import and Prepare Data",
    "text": "3.2 Import and Prepare Data\npop is a population dataset of Singapore residents with attributes on planning area subzone, age group, sex and type of dwelling collected between June 2000-2018.\n\npop &lt;- read_csv(\"data/respopagsex2000to2018_tidy.csv\")\nglimpse(pop)\n\nRows: 108,126\nColumns: 5\n$ PA         &lt;chr&gt; \"Ang Mo Kio\", \"Ang Mo Kio\", \"Ang Mo Kio\", \"Ang Mo Kio\", \"An…\n$ SZ         &lt;chr&gt; \"Ang Mo Kio Town Centre\", \"Ang Mo Kio Town Centre\", \"Ang Mo…\n$ AG         &lt;chr&gt; \"AGE0-4\", \"AGE0-4\", \"AGE0-4\", \"AGE0-4\", \"AGE0-4\", \"AGE0-4\",…\n$ Year       &lt;dbl&gt; 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2011, 2012,…\n$ Population &lt;dbl&gt; 290, 270, 260, 250, 260, 250, 200, 180, 290, 290, 270, 300,…\n\n\nWe derive three new measures, namely young, active, and old, using mutate() of dplyr package.\n\npop3 &lt;- pop %&gt;%\n  mutate(`Year` = as.character(Year))%&gt;%\n  spread(AG, Population) %&gt;%\n  mutate(YOUNG = rowSums(.[4:8]))%&gt;%\n  mutate(ACTIVE = rowSums(.[9:16]))  %&gt;%\n  mutate(OLD = rowSums(.[17:21])) %&gt;%\n  mutate(TOTAL = rowSums(.[22:24])) %&gt;%\n  filter(Year == 2018)%&gt;%\n  filter(TOTAL &gt; 0)\nglimpse(pop)\n\nRows: 108,126\nColumns: 5\n$ PA         &lt;chr&gt; \"Ang Mo Kio\", \"Ang Mo Kio\", \"Ang Mo Kio\", \"Ang Mo Kio\", \"An…\n$ SZ         &lt;chr&gt; \"Ang Mo Kio Town Centre\", \"Ang Mo Kio Town Centre\", \"Ang Mo…\n$ AG         &lt;chr&gt; \"AGE0-4\", \"AGE0-4\", \"AGE0-4\", \"AGE0-4\", \"AGE0-4\", \"AGE0-4\",…\n$ Year       &lt;dbl&gt; 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2011, 2012,…\n$ Population &lt;dbl&gt; 290, 270, 260, 250, 260, 250, 200, 180, 290, 290, 270, 300,…"
  },
  {
    "objectID": "Topics/HO8/HO8.html#plot-ternary-plot",
    "href": "Topics/HO8/HO8.html#plot-ternary-plot",
    "title": "Multivariate Data Analysis",
    "section": "3.3 Plot ternary plot",
    "text": "3.3 Plot ternary plot\n\nggternTernary\n\n\nggtern() function of ggtern package to create a simple ternary plot.\n\n# Building the static ternary plot\nggtern(data = pop3, aes(x = YOUNG,y = ACTIVE, z = OLD)) +\n  geom_point() +\n  labs(title=\"Population structure, 2015\") +\n  theme_rgbw()\n\n\n\n\nplot_ly() function of Plotly R creates an interactive ternary plot.\n\n# reusable function for creating annotation object\nlabel &lt;- function(txt) {\n  list(\n    text = txt, \n    x = 0.1, y = 1,\n    ax = 0, ay = 0,\n    xref = \"paper\", yref = \"paper\", \n    align = \"center\",\n    font = list(family = \"serif\", size = 15, color = \"white\"),\n    bgcolor = \"#b3b3b3\", bordercolor = \"black\", borderwidth = 2\n  )\n}\n\n# reusable function for axis formatting\naxis &lt;- function(txt) {\n  list(\n    title = txt, tickformat = \".0%\", tickfont = list(size = 10)\n  )\n}\n\nternaryAxes &lt;- list(\n  aaxis = axis(\"Young\"), \n  baxis = axis(\"Active\"), \n  caxis = axis(\"Old\")\n)\n\n# Initiating a plotly visualization \nplot_ly(\n  pop3, \n  a = ~YOUNG, \n  b = ~ACTIVE, \n  c = ~OLD, \n  color = I(\"black\"), \n  type = \"scatterternary\"\n) %&gt;%\n  layout(\n    annotations = label(\"Ternary Markers\"), \n    ternary = ternaryAxes\n  )\n\n\n\n\n\n\n\n\n# Configure plotting area\npar(mar = rep(0.3, 4))\n\n# Example data object\ndat &lt;- data.frame(sio2 = c(2, 4, 10, 20),\n                  fe2o3 = c(5, 6, 7, 8),\n                  al2o3 = c(12, 11, 10, 9),\n                  grain_size = c(20, 16, 12, 8),\n                  reflectance = c(80, 63, 51, 20))\n\n# Define a colour spectrum\nspectrumBins &lt;- 255 # Number of bins to use\nmySpectrum &lt;- viridisLite::viridis(spectrumBins)\n\n# Cut our reflectance data into categories\nbinnedReflectance &lt;- cut(dat$reflectance, spectrumBins)\n\n# Assign each data point a colour from the spectrum\npointCol &lt;- mySpectrum[binnedReflectance]\n\n\n# Define a size range\nmaxSize &lt;- 2.4 # Size of largest point, in plotting units\nsizes &lt;- dat$grain_size\npointSize &lt;- sizes * maxSize / max(sizes)\n\n# Initialize the plot\nTernaryPlot(atip = expression(SiO[2]),\n            btip = expression(paste(Fe[2], O[3], \" (wt%)\")),\n            ctip = expression(paste(Al[2], O[3]))\n)\n\n# Plot the points\nTernaryPoints(dat[, c(\"sio2\", \"fe2o3\", \"al2o3\")],\n              cex = pointSize, # Point size\n              col = pointCol,  # Point colour\n              pch = 16         # Plotting symbol (16 = filled circle)\n              )\n\n# Legend for colour scale\nPlotTools::SpectrumLegend(\n  \"topleft\",\n  cex = 0.8, # Font size\n  palette = mySpectrum,\n  legend = paste(\n    seq(from = max(dat$reflectance), to = min(dat$reflectance),\n        length.out = 5),\n    \"%\"\n  ),\n  bty = \"n\", # No framing box\n  xpd = NA, # Don't clip at margins\n  # title.font = 2, # Bold. Supported from R 3.6 onwards\n  title = \"Reflectance\"\n)\n\n# Legend for point size\nPlotTools::SizeLegend(\n  \"topright\",\n  width = c(0, maxSize),\n  lend = \"round\", # Round end of scale bar\n  legend = paste(\n    signif(seq(max(sizes), 0, length.out = 5), digits = 3),\n    \"\\u03bcm\" # µm\n  ),\n  title = \"Grain size\",\n  # title.font = 2, # Bold. Supported from R 3.6 onwards\n  bty = \"n\", # Do not frame with box\n  cex = 0.8\n)"
  },
  {
    "objectID": "Topics/HO8/HO8.html#load-packages-2",
    "href": "Topics/HO8/HO8.html#load-packages-2",
    "title": "Multivariate Data Analysis",
    "section": "4.1 Load Packages",
    "text": "4.1 Load Packages\nThe following R packages will be used:\n\ntidyverse supports data science, analysis and communication task\nseriation\ndendextend\nheatmaply\n\n\npacman::p_load(seriation, dendextend, heatmaply, tidyverse)"
  },
  {
    "objectID": "Topics/HO8/HO8.html#import-and-prepare-data-1",
    "href": "Topics/HO8/HO8.html#import-and-prepare-data-1",
    "title": "Multivariate Data Analysis",
    "section": "4.2 Import and Prepare Data",
    "text": "4.2 Import and Prepare Data\nhappiness is a world happines report from 2018.\n\nhappiness &lt;- read_csv(\"data/WHData-2018.csv\")\nglimpse(happiness)\n\nRows: 156\nColumns: 12\n$ Country                        &lt;chr&gt; \"Albania\", \"Bosnia and Herzegovina\", \"B…\n$ Region                         &lt;chr&gt; \"Central and Eastern Europe\", \"Central …\n$ `Happiness score`              &lt;dbl&gt; 4.586, 5.129, 4.933, 5.321, 6.711, 5.73…\n$ `Whisker-high`                 &lt;dbl&gt; 4.695, 5.224, 5.022, 5.398, 6.783, 5.81…\n$ `Whisker-low`                  &lt;dbl&gt; 4.477, 5.035, 4.844, 5.244, 6.639, 5.66…\n$ Dystopia                       &lt;dbl&gt; 1.462, 1.883, 1.219, 1.769, 2.494, 1.45…\n$ `GDP per capita`               &lt;dbl&gt; 0.916, 0.915, 1.054, 1.115, 1.233, 1.20…\n$ `Social support`               &lt;dbl&gt; 0.817, 1.078, 1.515, 1.161, 1.489, 1.53…\n$ `Healthy life expectancy`      &lt;dbl&gt; 0.790, 0.758, 0.712, 0.737, 0.854, 0.73…\n$ `Freedom to make life choices` &lt;dbl&gt; 0.419, 0.280, 0.359, 0.380, 0.543, 0.55…\n$ Generosity                     &lt;dbl&gt; 0.149, 0.216, 0.064, 0.120, 0.064, 0.08…\n$ `Perceptions of corruption`    &lt;dbl&gt; 0.032, 0.000, 0.009, 0.039, 0.034, 0.17…\n\n\nchange the rows by country name instead of row number\n\nrow.names(happiness) &lt;- happiness$Country\n\n\nhappiness1 &lt;- dplyr::select(happiness, c(3, 7:12))\nhappiness_matrix &lt;- data.matrix(happiness)"
  },
  {
    "objectID": "Topics/HO8/HO8.html#plot-heatmap",
    "href": "Topics/HO8/HO8.html#plot-heatmap",
    "title": "Multivariate Data Analysis",
    "section": "4.3 Plot Heatmap",
    "text": "4.3 Plot Heatmap\n\nBase Stats\n\n\n\nhappiness_heatmap &lt;- heatmap(happiness_matrix, Rowv = NA, Colv = NA)"
  }
]