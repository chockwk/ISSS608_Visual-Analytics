[
  {
    "objectID": "ISSS608_Visual Analytics.html",
    "href": "ISSS608_Visual Analytics.html",
    "title": "Visual Analytics",
    "section": "",
    "text": "Welcome to my home page on Visual Analytics!\nThis page documents my learning journey of visual analytics taught by Prof Kam Tin Seong.\nThe learning objective is to understand the basic concepts, theories and methodologies of visual analytics, analyse data using appropriate visual thinking and visual analytics techniques, and implement cutting-edge visual analytics system for decision making."
  },
  {
    "objectID": "ISSS608_Visual Analytics.html#overview",
    "href": "ISSS608_Visual Analytics.html#overview",
    "title": "Visual Analytics",
    "section": "Overview",
    "text": "Overview"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Visual Analytics",
    "section": "",
    "text": "Welcome to ISSS608 Visual Analytics and Applications, Spring 2024 class!\nThis page documents my learning journey of geospatial analytics taught by Prof Kam Tin Seong.\n\nSource: Autodesk\nThis is the Datasaurus Dozen. While different in appearance, each dataset has the same summary statistics (mean, standard deviation, and Pearson’s correlation) to two decimal places.\n\n\nVisual Analytics?\nVisual Analytics is the craft of analytical reasoning supported by: - Data Science and Analytics - Data Visualisation - Human-Computing-Interaction (HCI) - Interface Design - Visual Storytelling\nThe learning objective is to understand the basic concepts, theories and methodologies of visual analytics, analyse data using appropriate visual thinking and visual analytics techniques, and implement cutting-edge visual analytics system for decision making.\n\n\n\nTopic Overview\n\n\n\n\n\n\n\n\n\n  \n\n\n\n\nExtensions of ggplot2\n\n\n\n\n\n\n\n\n\n\n\n\nJan 9, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nFundamentals of ggplot2\n\n\n\n\n\n\n\n\n\n\n\n\nJan 8, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nImport of Statistical Data Formats\n\n\n\n\n\n\n\n\n\n\n\n\nJan 13, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nInteractive Data Visualization\n\n\n\n\n\n\n\n\n\n\n\n\nJan 13, 2024\n\n\nWan Kee\n\n\n\n\n\n\n  \n\n\n\n\nOECD PISA Global Education\n\n\n\n\n\n\n\n\n\n\n\n\nJan 13, 2024\n\n\nWan Kee\n\n\n\n\n\n\nNo matching items"
  },
  {
    "objectID": "Topics/A_Introduction to ggplot2/HO1_Introduction to ggplot2.html",
    "href": "Topics/A_Introduction to ggplot2/HO1_Introduction to ggplot2.html",
    "title": "1 A Layered Grammar of Graphics: ggplot2 methods",
    "section": "",
    "text": "1 Learning Objectives\n\nBasic principles and essential components of ggplot2\nPlot statistical graphics based on the principle of Layered Grammar of Graphics\n\n\n\n2. Load Package\n\npacman::p_load(tidyverse)\n\nggplot2 is a R package dedicated to data visualization. It can greatly improve the quality and aesthetics of graphics. ggplot2 builds charts through layers using geom_ functions.\n\ngeom_bargeom_bingeom_boxplotgeom_densitygeom_errorgeom_hexgeom_histgeom_hlinegeom_jittergeom_labelgeom_linegeom_pointgeom_polygongeom_rectgeom_ribbongeom_ruggeom_segmentgeom_smoothgeom_textgeom_titlegeom_violingeom_vline\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n3. Load Data\n\nexam_data &lt;- read.csv(\"data/Exam_data.csv\")\nsummary(exam_data)\n\n      ID               CLASS              GENDER              RACE          \n Length:322         Length:322         Length:322         Length:322        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n    ENGLISH          MATHS          SCIENCE     \n Min.   :21.00   Min.   : 9.00   Min.   :15.00  \n 1st Qu.:59.00   1st Qu.:58.00   1st Qu.:49.25  \n Median :70.00   Median :74.00   Median :65.00  \n Mean   :67.18   Mean   :69.33   Mean   :61.16  \n 3rd Qu.:78.00   3rd Qu.:85.00   3rd Qu.:74.75  \n Max.   :96.00   Max.   :99.00   Max.   :96.00  \n\n\n\nglimpse(exam_data)\n\nRows: 322\nColumns: 7\n$ ID      &lt;chr&gt; \"Student321\", \"Student305\", \"Student289\", \"Student227\", \"Stude…\n$ CLASS   &lt;chr&gt; \"3I\", \"3I\", \"3H\", \"3F\", \"3I\", \"3I\", \"3I\", \"3I\", \"3I\", \"3H\", \"3…\n$ GENDER  &lt;chr&gt; \"Male\", \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Male\", \"M…\n$ RACE    &lt;chr&gt; \"Malay\", \"Malay\", \"Chinese\", \"Chinese\", \"Malay\", \"Malay\", \"Chi…\n$ ENGLISH &lt;int&gt; 21, 24, 26, 27, 27, 31, 31, 31, 33, 34, 34, 36, 36, 36, 37, 38…\n$ MATHS   &lt;int&gt; 9, 22, 16, 77, 11, 16, 21, 18, 19, 49, 39, 35, 23, 36, 49, 30,…\n$ SCIENCE &lt;int&gt; 15, 16, 16, 31, 25, 16, 25, 27, 15, 37, 42, 22, 32, 36, 35, 45…\n\n\n\n\n4, Explore Data\n\nCLASSGENDERRACEENGLISH\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS))+\n  geom_bar(fill = \"lightblue\")+\n  labs(title = \"Number of Students\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = GENDER))+\n  geom_bar(fill = \"lightblue\")+\n  labs(title = \"Number of Students\", x = \"Gender\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = GENDER))+\n  geom_bar()+\n  labs(title = \"Number of Students\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = RACE))+\n  geom_bar(fill = \"lightblue\")+\n  labs(title = \"Number of Students\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/A_Introduction to ggplot2/HO1_Introduction to ggplot2.html#cheatsheet",
    "href": "Topics/A_Introduction to ggplot2/HO1_Introduction to ggplot2.html#cheatsheet",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Cheatsheet",
    "text": "Cheatsheet\n\n\n\n\n\n\ngeom_bargeom_bingeom_boxplotgeom_densitygeom_errorgeom_hexgeom_histgeom_hlinegeom_jittergeom_labelgeom_linegeom_pointgeom_polygongeom_rectgeom_ribbongeom_ruggeom_segmentgeom_smoothgeom_textgeom_titlegeom_violingeom_vline"
  },
  {
    "objectID": "Topics/HO1/HO1.html#cheatsheet",
    "href": "Topics/HO1/HO1.html#cheatsheet",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Cheatsheet",
    "text": "Cheatsheet"
  },
  {
    "objectID": "Topics/HO1/HO1.html#class",
    "href": "Topics/HO1/HO1.html#class",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Class",
    "text": "Class\n\ngeom_bar\n\n\n\nggplot(data = exam_data, aes(x = CLASS))+\n         geom_bar(fill = \"lightgreen\")+\n         labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n         theme_minimal()+\n         theme(legend.position = \"none\",\n               panel.grid.major = element_blank(),\n               panel.grid.minor = element_blank(),\n               axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#gender",
    "href": "Topics/HO1/HO1.html#gender",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Gender",
    "text": "Gender\n\nggplot(data = exam_data,\n       aes(x = GENDER))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Gender\", x = \"Gender\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = GENDER))+\n  geom_bar()+\n  labs(title = \"Distribution of Gender by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#race",
    "href": "Topics/HO1/HO1.html#race",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Race",
    "text": "Race\n\nggplot(data = exam_data,\n       aes(x = RACE))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Race\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = RACE))+\n  geom_bar()+\n  labs(title = \"Distribution of Race by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#english",
    "href": "Topics/HO1/HO1.html#english",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "ENGLISH",
    "text": "ENGLISH"
  },
  {
    "objectID": "Topics/HO1/HO1.html#score-english-maths-science",
    "href": "Topics/HO1/HO1.html#score-english-maths-science",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Score (English, Maths, Science)",
    "text": "Score (English, Maths, Science)\n\ngeom_dotplotgeom_histogramgeom_densitygeom_boxplotgeom_violingeom_pointgeom_smooth\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nBin width defaults to 1/30 of the range of the data. Pick better value with\n`binwidth`.\n\n\n\n\n\nAlert:\n\nBin width defaults to 1/30 of the range of the data. Pick better value with binwidth\nMisleading y axis. Turn off y-axis using scale_y_continuous() and change binwidth to 2.5\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5,\n               binwidth = 2.5)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\")+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\nNote: stat_bin() using bins = 30. Pick better value with binwidth.\nCreate 10 bins\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = GENDER))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nInsight: The performance of students between Female and Male is observed to be similar across all scores.\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nInsight: Majority of 3A and 3B students score 80-100 in Maths while 3G, 3H and 3I scoare below 50.\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_density(colour = \"black\")+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = GENDER))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = CLASS))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nNote: x or y as MATHS determines the orientation of the boxplot. In this case, the maths score is a continuous variable and will be placed on y-axis for ease of visualization.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nRequiries x and y input\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, colour = GENDER))+\n  geom_violin()+\n  labs(title = \"Maths Score Distribution using Violin Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_violin()+\n  geom_boxplot(width = 0.3, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_violin(width = 1)+\n  geom_boxplot(width = 0.2, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8,\n              method = lm)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  geom_point(position = \"jitter\", size = 0.3)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#geom_boxplot",
    "href": "Topics/HO1/HO1.html#geom_boxplot",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "geom_boxplot",
    "text": "geom_boxplot\n\nggplot(data = exam_data,\n       aes(y = MATHS))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nNote: x or y as MATHS determines the orientation of the boxplot. In this case, the maths score is a continuous variable and will be placed on y-axis for ease of visualization.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#statistic-summary",
    "href": "Topics/HO1/HO1.html#statistic-summary",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Statistic Summary",
    "text": "Statistic Summary\nBoxplot shows median while stat_summary show mean.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"mean\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\nWarning: The `fun.y` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.\nℹ Please use the `fun` argument instead.\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"median\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  geom_point(stat = \"summary\",\n             fun.y=\"mean\",\n             colour =\"aquamarine4\",\n             size=4) \n\nWarning in geom_point(stat = \"summary\", fun.y = \"mean\", colour = \"aquamarine4\",\n: Ignoring unknown parameters: `fun.y`\n\n\nNo summary function supplied, defaulting to `mean_se()`"
  },
  {
    "objectID": "Topics/HO1/HO1.html#facets",
    "href": "Topics/HO1/HO1.html#facets",
    "title": "1 Layered Grammar of Graphics: ggplot2 methods",
    "section": "Facets",
    "text": "Facets\nFacetting generates small multiples (sometimes also called trellis plot), each displaying a different subset of the data. They are an alternative to aesthetics for displaying additional discrete variables. ggplot2 supports two types of factes, namely: facet_grid() and facet_wrap().\n\nfacet_gridfacet_wrap\n\n\nNote x is Maths score.\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(bins = 20)+\n  facet_grid(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(bins = 20)+\n  facet_wrap(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#ggplot2-cheatsheet",
    "href": "Topics/HO1/HO1.html#ggplot2-cheatsheet",
    "title": "Fundamentals of ggplot2",
    "section": "ggplot2 Cheatsheet",
    "text": "ggplot2 Cheatsheet"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-1-to-4-creating-various-ggplot",
    "href": "Topics/HO1/HO1.html#step-1-to-4-creating-various-ggplot",
    "title": "Fundamentals of ggplot2",
    "section": "Step 1 to 4: Creating various ggplot",
    "text": "Step 1 to 4: Creating various ggplot\n\ngeom_barcoord_polargeom_dotplotgeom_histogramgeom_densitygeom_boxplotgeom_violingeom_pointgeom_smooth\n\n\nA barplot is used to display the relationship between a numeric and a categorical variable.\n\nggplot(data = exam_data, aes(x = CLASS))+\n         geom_bar(fill = \"lightgreen\")+\n         labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n         theme_minimal()+\n         theme(legend.position = \"none\",\n               panel.grid.major = element_blank(),\n               panel.grid.minor = element_blank(),\n               axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = GENDER))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Gender\", x = \"Gender\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = GENDER))+\n  geom_bar()+\n  labs(title = \"Distribution of Gender by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = RACE))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Race\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = RACE))+\n  geom_bar()+\n  labs(title = \"Distribution of Race by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nA piechart is a circle divided into sectors that each represent a proportion of the whole. There is no specific geom to build piechart with ggplot2. The trick is to build a barplot and use coord_polar to make it circular. In the case of pie chart, the pie() function of Base R is a better alternative.\n\nggplot(exam_data, aes(x = CLASS)) +\n  geom_bar() +\n  coord_polar()+\n  labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nBin width defaults to 1/30 of the range of the data. Pick better value with\n`binwidth`.\n\n\n\n\n\nAlert:\n\nBin width defaults to 1/30 of the range of the data. Pick better value with binwidth\nMisleading y axis. Turn off y-axis using scale_y_continuous() and change binwidth to 2.5\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5,\n               binwidth = 2.5)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\")+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\nNote: stat_bin() using bins = 30. Pick better value with binwidth.\nCreate 10 bins\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = GENDER))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nInsight: The performance of students between Female and Male is observed to be similar across all scores.\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nInsight: Majority of 3A and 3B students score 80-100 in Maths while 3G, 3H and 3I scoare below 50.\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_density(colour = \"black\")+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = GENDER))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = CLASS))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\nNote: x or y as MATHS determines the orientation of the boxplot. In this case, the maths score is a continuous variable and will be placed on y-axis for ease of visualization.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nRequiries x and y input\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, colour = GENDER))+\n  geom_violin()+\n  labs(title = \"Maths Score Distribution using Violin Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_violin()+\n  geom_boxplot(width = 0.3, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_violin(width = 1)+\n  geom_boxplot(width = 0.2, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8,\n              method = lm)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  geom_point(position = \"jitter\", size = 0.3)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-5-scale",
    "href": "Topics/HO1/HO1.html#step-5-scale",
    "title": "Fundamentals of ggplot2",
    "section": "Step 5: Scale",
    "text": "Step 5: Scale"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-6-statistic-summary",
    "href": "Topics/HO1/HO1.html#step-6-statistic-summary",
    "title": "Fundamentals of ggplot2",
    "section": "Step 6: Statistic Summary",
    "text": "Step 6: Statistic Summary\nBoxplot shows median while stat_summary show mean.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"mean\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\nWarning: The `fun.y` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.\nℹ Please use the `fun` argument instead.\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"median\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  geom_point(stat = \"summary\",\n             fun.y=\"mean\",\n             colour =\"aquamarine4\",\n             size=4) \n\nWarning in geom_point(stat = \"summary\", fun.y = \"mean\", colour = \"aquamarine4\",\n: Ignoring unknown parameters: `fun.y`\n\n\nNo summary function supplied, defaulting to `mean_se()`"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-7-facets",
    "href": "Topics/HO1/HO1.html#step-7-facets",
    "title": "Fundamentals of ggplot2",
    "section": "Step 7: Facets",
    "text": "Step 7: Facets\nFacetting generates small multiples (sometimes also called trellis plot), each displaying a different subset of the data. They are an alternative to aesthetics for displaying additional discrete variables. ggplot2 supports two types of factes, namely: facet_grid() and facet_wrap().\n\nfacet_gridfacet_wrap\n\n\nNote x is Maths score.\n\nggplot(data = exam_data,\n       aes(x = MATHS, fill = CLASS))+\n  geom_histogram(bins = 20)+\n  facet_grid(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Maths Score\", y = \"Count\")+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, fill = CLASS))+\n  geom_histogram(bins = 20)+\n  facet_wrap(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Maths_Score\", y = \"Count\")+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#step-8-coordinates",
    "href": "Topics/HO1/HO1.html#step-8-coordinates",
    "title": "Fundamentals of ggplot2",
    "section": "Step 8: Coordinates",
    "text": "Step 8: Coordinates"
  },
  {
    "objectID": "Topics/HO2/HO2.html",
    "href": "Topics/HO2/HO2.html",
    "title": "Extensions of ggplot2",
    "section": "",
    "text": "1 Learning Objectives\n\nAnnotate or label data using ggrepel package\nCreate publication quality figure by using ggthemes and hrbrthemes packages\nPlot composite figure to combine ggplot2 graphs using patchwork package\n\n\n\n2 Load Packages\nBeside tidyverse, the following R packages will be used:\n\nggrepel provides geoms to repel overlapping text labels\nggthemes provides themes, geoms, and scales\nhrbrthemes provides typography-centric themes and theme components\npatchwork prepares composite figures\n\n\npacman::p_load(ggrepel, patchwork, ggthemes, hrbrthemes, tidyverse) \n\n\n\n3 Import Data\nexam_data is a year end examination grades of a cohort of Primary 3 students from a local school.\nThe output shows a total of seven attributes; four of them are categorical attributes (ID, CLASS, GENDER and RACE) and the other three are continuous attributes (MATHS, ENGLISH and SCIENCE).\n\nexam_data &lt;- read.csv(\"data/Exam_data.csv\")\nsummary(exam_data)\n\n      ID               CLASS              GENDER              RACE          \n Length:322         Length:322         Length:322         Length:322        \n Class :character   Class :character   Class :character   Class :character  \n Mode  :character   Mode  :character   Mode  :character   Mode  :character  \n                                                                            \n                                                                            \n                                                                            \n    ENGLISH          MATHS          SCIENCE     \n Min.   :21.00   Min.   : 9.00   Min.   :15.00  \n 1st Qu.:59.00   1st Qu.:58.00   1st Qu.:49.25  \n Median :70.00   Median :74.00   Median :65.00  \n Mean   :67.18   Mean   :69.33   Mean   :61.16  \n 3rd Qu.:78.00   3rd Qu.:85.00   3rd Qu.:74.75  \n Max.   :96.00   Max.   :99.00   Max.   :96.00  \n\n\n\n\n4 Annotate Data using ggrepel\nggrepel is an extension of ggplot2 package which provides geoms for ggplot2 to repel overlapping text.\nWe replace geom_text() by geom_text_repel() geom_label() by geom_label_repel()\n\nggplotggrepel\n\n\n\nggplot(data = exam_data, \n       aes(x = MATHS, \n           y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method=lm, \n              size=0.5) +  \n  geom_label(aes(label = ID), \n             hjust = 0.5, \n             vjust = -0.5) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English and Maths Scores using Scatterplot\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\n\n\nggplot(data = exam_data, \n       aes(x = MATHS, \n           y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method = lm, \n              size = 0.5) +  \n  geom_label_repel(aes(label = ID), \n                   fontface = \"bold\") +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English and Maths Scores using Scatterplot (ggrepel)\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: ggrepel: 317 unlabeled data points (too many overlaps). Consider\nincreasing max.overlaps\n\n\n\n\n\n\n\n\n\n\n\nWarning\n\n\n\nggrepel 318 unlabeled data points (too many overlaps). Consider increasing max.overlaps\n\n\n\n\n\n\n\n5 Customize Plot Themes\n\nggplotggthemehrbthems\n\n\nggplot2 comes with eight built-in themes, namely theme_gray(), theme_bw(), theme_classic(), theme_dark(), theme_light(), theme_linedraw(), theme_minimal(), and theme_void().\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nggthemes provides ‘ggplot2’ themes that replicate the look of plots by Edward Tufte, Stephen Few, Fivethirtyeight, The Economist, ‘Stata’, ‘Excel’, and The Wall Street Journal, among others.\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme_economist()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nhrbrthemes package provides a base theme that focuses on typographic elements, including where various labels are placed as well as the fonts that are used.\nThemes:\n\ntheme_ft_rc()\ntheme_ipsum()\ntheme_ipsum_ps()\ntheme_ipsum_rc()\ntheme_ipsum_tw()\ntheme_modern_rc()\n\ntheme_ipsum() where ‘ipsum’ is Latin for ’precise.\n\n\n\n\n\n\nWarning\n\n\n\nError in theme_ipsum() : could not find function “theme_ipsum”\nEither Arial Narrow or Roboto Condensed fonts are required to use these themes.\nPlease use hrbrthemes::import_roboto_condensed() to install Roboto Condensed and if Arial Narrow is not on your system, please see https://bit.ly/arialnarrow\nWhy Arial Narrow?\nArial Narrow is generally installed by default or readily available on any modern system. Also, it is a condensed font with solid default kerning pairs and geometric numbers.\n\n\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"black\",\n                 fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  theme_ipsum(axis_title_size = 18,\n              base_size = 15,\n              grid = \"Y\")\n\n\n\n\naxis_title_size argument is used to increase the font size of the axis title to 18, base_size argument is used to increase the default axis label to 15, and grid argument is used to remove the x-axis grid lines.\n\n\n\n\n\n6 Create Composite Graphics\n\npatchwork (multiple graphs)gridExtra (multiple graphs)patchwork (insert)\n\n\nPatchwork package has a very simple syntax where we can create layouts super easily. Here’s the general syntax that combines:\n“+” operator creates a horizontal layout. “()” create a subplot group. “|” operator to stack two ggplot2 graphs, “/” operator to place the plots beside each other, “()” operator the define the sequence of the plotting.\n\nmaths &lt;- ggplot(data = exam_data,\n                aes(x = MATHS, fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nenglish &lt;- ggplot(data = exam_data,\n                aes(x = ENGLISH, fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"English Score Distribution\", x = \"English Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nscience &lt;- ggplot(data = exam_data,\n                aes(x = SCIENCE, fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Science Score Distribution\", x = \"Science Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nenglish + maths + science\n\n\n\n\n\n(english + maths) / science\n\n\n\n\n\n\n\nlibrary(gridExtra)\n\n\nAttaching package: 'gridExtra'\n\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\ngrid.arrange(english, maths, science, ncol = 2)\n\n\n\n\n\n\n\nmain &lt;- ggplot(data = exam_data, \n       aes(x = MATHS, \n           y = ENGLISH)) +\n  geom_point() +\n  geom_smooth(method = lm, \n              size = 0.5) +  \n  geom_label_repel(aes(label = ID), \n                   fontface = \"bold\") +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100)) +\n  ggtitle(\"English and Maths Scores using Scatterplot\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nmain + \n  inset_element(maths, left = 0.02, bottom = 0.7, right = 0.4, top = 1) +\n  inset_element(english, left = 0.4, bottom = 0.7, right = 0.8, top = 1)\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: ggrepel: 317 unlabeled data points (too many overlaps). Consider\nincreasing max.overlaps\n\n\n\n\n\n\nplot &lt;- (english / maths) | main\nplot & theme_economist()\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\nWarning: ggrepel: 320 unlabeled data points (too many overlaps). Consider\nincreasing max.overlaps\n\n\n\n\n\n\n\n\n\n\n7 References\n\nhrbrthemes: https://hrbrmstr.github.io/hrbrthemes/"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-1-to-4-creating-various-ggplot",
    "href": "Topics/HO1/HO1.html#layer-1-to-4-creating-various-ggplot",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 1 to 4: Creating various ggplot",
    "text": "Layer 1 to 4: Creating various ggplot\n\ngeom_barcoord_polargeom_dotplotgeom_histogramgeom_densitygeom_boxplotgeom_violingeom_pointgeom_smooth\n\n\nA barplot is used to display the relationship between a numeric and a categorical variable.\n\nggplot(data = exam_data, aes(x = CLASS))+\n         geom_bar(fill = \"lightgreen\")+\n         labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n         theme_minimal()+\n         theme(legend.position = \"none\",\n               panel.grid.major = element_blank(),\n               panel.grid.minor = element_blank(),\n               axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = GENDER))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Gender\", x = \"Gender\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = GENDER))+\n  geom_bar()+\n  labs(title = \"Distribution of Gender by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = RACE))+\n  geom_bar(fill = \"lightgreen\")+\n  labs(title = \"Distribution of Students by Race\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = RACE))+\n  geom_bar()+\n  labs(title = \"Distribution of Race by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\nA pie chart is a circle divided into sectors that each represent a proportion of the whole. There is no specific geom to build piechart with ggplot2. The trick is to build a barplot and use coord_polar to make it circular.\n\nggplot(exam_data, aes(x = CLASS)) +\n  geom_bar() +\n  coord_polar()+\n  labs(title = \"Distribution of Students by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nIn the case of pie chart, the pie() function of Base R is a better alternative.\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nBin width defaults to 1/30 of the range of the data. Pick better value with\n`binwidth`.\n\n\n\n\n\n\n\n\n\n\n\nAttention\n\n\n\n\nBin width defaults to 1/30 of the range of the data. Pick better value with binwidth\nMisleading y axis. Turn off y-axis using scale_y_continuous() and change binwidth to 2.5\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_dotplot(fill = \"lightgreen\",\n               dotsize = 0.5,\n               binwidth = 2.5)+\n  scale_y_continuous(NULL, breaks = NULL)+\n  labs(title = \"Maths Score Distribution\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\")+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nNote: stat_bin() using bins = 30. Pick better value with binwidth.\n\n\nCreate 10 bins\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_histogram(colour = \"black\", fill = \"lightgreen\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nNote: stat_bin() using bins = 10.\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = GENDER))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nInsight\n\n\n\nThe performance of students between Female and Male is observed to be similar across all scores.\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = CLASS))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nInsight\n\n\n\nMajority of 3A and 3B students score 80-100 in Maths while 3G, 3H and 3I scoare below 50.\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS))+\n  geom_density(colour = \"black\")+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = GENDER))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           colour = CLASS))+\n  geom_density()+\n  labs(title = \"Maths Score Distribution using Density Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nx or y as MATHS determines the orientation of the boxplot. In this case, the maths score is a continuous variable and will be placed on y-axis for ease of visualization.\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_boxplot(notch = TRUE)+\n  labs(title = \"Maths Score Distribution using Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\ngeom_violin requiries x and y input.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, colour = GENDER))+\n  geom_violin()+\n  labs(title = \"Maths Score Distribution using Violin Plot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER, fill = GENDER))+\n  geom_violin()+\n  geom_boxplot(width = 0.3, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = CLASS, fill = CLASS))+\n  geom_violin(width = 1)+\n  geom_boxplot(width = 0.2, notch = TRUE, colour = \"black\", fill = \"white\")+\n  labs(title = \"Maths Score Distribution using Violin plot and Boxplot\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8,\n              method = lm)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n`geom_smooth()` using formula = 'y ~ x'\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  geom_point(position = \"jitter\", size = 0.3)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-5-scale",
    "href": "Topics/HO1/HO1.html#layer-5-scale",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 5: Scale",
    "text": "Layer 5: Scale\nscale_colour_brewer() and scale_fill_brewer() provide sequential, diverging and qualitative colour schemes from ColorBrewer and particularly well suited to display discrete values on a map.\n\nggplot(data = exam_data,\n       aes(x = MATHS, \n           fill = GENDER))+\n  geom_histogram(colour = \"black\", bins = 10)+\n  labs(title = \"Maths Score Distribution using Histogram\", x = \"Maths Score\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  scale_fill_brewer(palette = \"Blues\")\n\n\n\n\n?scales::brewer_pal for more details"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-6-statistic-summary",
    "href": "Topics/HO1/HO1.html#layer-6-statistic-summary",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 6: Statistic Summary",
    "text": "Layer 6: Statistic Summary\nBoxplot shows median while stat_summary show mean.\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"mean\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\nWarning: The `fun.y` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.\nℹ Please use the `fun` argument instead.\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  stat_summary(geom = \"point\",       \n               fun.y=\"median\",         \n               colour =\"aquamarine4\",        \n               size=4) \n\n\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = GENDER))+\n  geom_boxplot()+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Gender\", y = \"Maths Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  geom_point(stat = \"summary\",\n             fun.y=\"mean\",\n             colour =\"aquamarine4\",\n             size=4) \n\nWarning in geom_point(stat = \"summary\", fun.y = \"mean\", colour = \"aquamarine4\",\n: Ignoring unknown parameters: `fun.y`\n\n\nNo summary function supplied, defaulting to `mean_se()`"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-7-facets",
    "href": "Topics/HO1/HO1.html#layer-7-facets",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 7: Facets",
    "text": "Layer 7: Facets\nFacetting generates small multiples (sometimes also called trellis plot), each displaying a different subset of the data. They are an alternative to aesthetics for displaying additional discrete variables. ggplot2 supports two types of factes, namely: facet_grid() and facet_wrap().\n\nfacet_gridfacet_wrap\n\n\nNote x is Maths score.\n\nggplot(data = exam_data,\n       aes(x = MATHS, fill = CLASS))+\n  geom_histogram(bins = 20)+\n  facet_grid(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Maths Score\", y = \"Count\")+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\nggplot(data = exam_data,\n       aes(x = MATHS, fill = CLASS))+\n  geom_histogram(bins = 20)+\n  facet_wrap(~CLASS)+\n  labs(title = \"Maths Score Distribution by Gender\", x = \"Maths_Score\", y = \"Count\")+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO1/HO1.html#layer-8-coordinates",
    "href": "Topics/HO1/HO1.html#layer-8-coordinates",
    "title": "Fundamentals of ggplot2",
    "section": "Layer 8: Coordinates",
    "text": "Layer 8: Coordinates\nThe Coordinates functions map the position of objects onto the plane of the plot.\n\ncoord_cartesiancoord_flipcoord_fixedcoord_quickmap\n\n\ncoord_cartesian() limits on the coordinate system and performs a visual zoom.\nUsage: coord_cartesian(xlim = NULL, ylim = NULL, expand = TRUE, default = FALSE, clip = “on”)\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  coord_cartesian(xlim = c(80,100), ylim = c(80,100))\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\n\n\ncoord_flip() flips the horizontal bar chart into vertical bar chart.\nUsage: coord_flip(xlim = NULL, ylim = NULL, expand = TRUE, clip = “on”)\n\nggplot(data = exam_data,\n       aes(x = CLASS,\n           fill = RACE))+\n  geom_bar()+\n  labs(title = \"Distribution of Race by Class\", x = \"Class\", y = \"Count\")+\n  theme_minimal()+\n  theme(panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  coord_flip()\n\n\n\n\n\n\ncoord_fixed is a fixed scale coordinate system forces a specified ratio between the physical representation of data units on the axes. The ratio represents the number of units on the y-axis equivalent to one unit on the x-axis.\nUsage: coord_fixed(ratio = 1, xlim = NULL, ylim = NULL, expand = TRUE, clip = “on”)\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  coord_fixed(ratio = 5)\n\n\n\n\n\n\ncoord_quickmap() is a quick approximation that does preserve straight lines.\nUseage: coord_quickmap(xlim = NULL, ylim = NULL, expand = TRUE, clip = “on”)\n\n\n\n\n\n\nNote\n\n\n\nThe package “mapproj” is required for coord_map()\ncoord_map() projects a portion of the earth, which is approximately spherical, onto a flat 2D plane using any projection defined by the mapproj package. Map projections do not, in general, preserve straight lines, so this requires considerable computation.\nBoth coord_map() and coord_quickmap() are superseded by coord_sf().\n\n\n\nggplot(data = exam_data,\n       aes(y = MATHS, x = ENGLISH))+\n  geom_point()+\n  geom_smooth(size = 0.8)+\n  labs(title = \"Maths and English Score Distribution using Scatterplot\", x = \"Maths Score\", y = \"English Score\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  coord_map()\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'"
  },
  {
    "objectID": "Exercises/TH1/TH1.html",
    "href": "Exercises/TH1/TH1.html",
    "title": "OECD PISA Global Education",
    "section": "",
    "text": "1. Learning Objectives\n\nBackgroundDataTask\n\n\nThe Organisation for Economic Co-operation and Development (OECD) Programme for International Student Assessment (PISA) is a global education survey conducted to examines what students know in mathematics, reading and science, how well students can solve complex problems, think critically and communicate effectively. This gives insights into how well education systems are preparing students for real life challenges and future success. It provides the most comprehensive and rigorous international assessment of student learning outcomes to date. Results from PISA indicate the quality and equity of learning outcomes attained around the world, and allow educators and policy makers to learn from the policies and practices applied in other countries.\nPISA 2022 reports the following:\n\nDescribes students’ performance in mathematics, reading and science;\nExamines gender differences in performance;\nInvestigates how performance relates to students’ socio-economic status and immigrant background;\nDescribes how the quality and equity of learning outcomes have evolved since previous PISA assessments.\n\nOECD education director, Andreas Schleicher, shared in a BBC article that “Singapore managed to achieve excellence without wide differences between children from wealthy and disadvantaged families.”. Furthermore, the slogan “Every School a Good School” was popularised by Mr Heng Swee Keat when he was education minister from 2011 to 2015.\nThe general public, however, strongly belief that there are still disparities that exist, especially between the elite schools and neighborhood school, between students from families with higher socioeconomic status and those with relatively lower socioeconomic status and immigration and non-immigration families.\n\n\nSingapore participated for the first time in PISA in 2009. By comparing results internationally, policy makers and educators in Singapore can learn from other countries’ policies and practices.\nPISA is conducted every three years to assess the education systems worldwide through testing 15 year-old students in the subjects of mathematics, reading, and science.\nThe PISA 2022 database contains the full set of responses from individual students, school principals and parents. There are a total of five data files and their contents are as follows:\n\nStudent questionnaire data file (focus of this practice)\nSchool questionnaire data file\nTeacher questionnaire data file\nCognitive item data file\nQuestionnaire timing data file\n\nThese data files are in SAS and SPSS formats.\n\n\n\n\n\n\nWhy are 15-year-old students choosen for assessment?\n\n\n\nPISA measures student performance as the extent to which 15-year-old students near the end of their compulsory education have acquired the knowledge and skills that are essential for full participation in modern societies, particularly in the core domains of reading, mathematics, and science.\n\n\n\n\nUsing appropriate Exploratory Data Analysis (EDA) methods and ggplot2 functions, we will reveal the following in this practice:\n\nthe distribution of Singapore students’ performance in mathematics, reading, and science, and\nthe relationship between these performances with schools, gender and socioeconomic status of the students.\n\n\n\n\n\n\n2. Load Packages\nThe following R packages will be used:\n\nggiraph\nggrepel provides geoms to repel overlapping text labels\nggthemes provides themes, geoms, and scales\nhrbrthemes provides typography-centric themes and theme components\npatchwork prepares composite figures\nhaven read and write various data formats used by other statistical packages\ntidyverse support data science, analysis and communication task\nkableExtra\n\n\npacman::p_load(ggiraph, ggrepel, kableExtra, patchwork, ggthemes, hrbrthemes, haven, tidyverse) \n\n\n\n3. Import Data\nThe PISA 2022 database was released on December 5, 2022. For the purpose of this practice, the Student questionnaire data file will be used to fulfil the task.\nSource: PISA 2022 (data) and PISA 2022 Results Volume 1 (guide)\n\nstu_qqq &lt;- read_sas(\"data/STU_QQQ_SAS/cy08msp_stu_qqq.sas7bdat\")\n\nThe output shows 613,744 observations with 1,279 variables.\nFor relevance, we filter stu_qqq by the column country code (CNT) for SGP to obtain Singapore results.\n\nstu_qqq_SGP &lt;- stu_qqq %&gt;% \n  filter(CNT == \"SGP\")\n\nThe output shows 6,606 observations with 1,279 variables.\n\n\n\n\n\n\nSave Point\n\n\n\n\n\n\nwrite_rds(stu_qqq_SGP, \"data/stu_qqq_SGP.rds\")\n\n\n\n\n\n\n4. Explore Data\n\n\n\n\n\n\nLoad Point\n\n\n\n\n\n\nstu_qqq_SGP &lt;-read_rds(\"data/stu_qqq_SGP.rds\")\n\n\n\n\n\n\nCode\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n\n\n\n\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n\n\n\n\n\n\nSCH_table &lt;- stu_qqq_SGP %&gt;%\n  group_by(CNTSCHID) %&gt;%\n  summarise(TOTAL_STUDENT = n())\n\nDT::datatable(SCH_table)\n\n\n\n\n\n\n‘70200150’ no such school ID\n\nmean(SCH_table$TOTAL_STUDENT)\n\n[1] 40.28049\n\n\n\nduplicate &lt;- stu_qqq_SGP %&gt;% \n  group_by(CNTSTUID) %&gt;% \n  filter(n() &gt; 1)\n\n\nsum(is.na(stu_qqq_SGP))\n\n[1] 4168500\n\n\n\n\nShow the code\nstu_qqq_SGP_perf &lt;- stu_qqq_SGP %&gt;%\n  group_by(CNT, CNTRYID, CNTSCHID, CNTSTUID) %&gt;%\n  summarise(MATH = round(mean(PV1MATH, PV2MATH, PV3MATH, PV4MATH, PV5MATH, \n                              PV6MATH, PV7MATH, PV8MATH, PV9MATH, PV10MATH), 1),\n            READING = round(mean(PV1READ, PV2READ, PV3READ, PV4READ, PV5READ,\n                                 PV6READ, PV7READ, PV8READ, PV9READ, PV10READ), 1),\n            SCIENCE = round(mean(PV1SCIE, PV2SCIE, PV3SCIE, PV4SCIE, PV5SCIE,\n                                 PV6SCIE, PV7SCIE, PV8SCIE, PV9SCIE, PV10SCIE), 1))\n\n\n`summarise()` has grouped output by 'CNT', 'CNTRYID', 'CNTSCHID'. You can\noverride using the `.groups` argument.\n\n\nShow the code\ntooltip_css &lt;- \"background-color: white; font-style: bold; color: black\"\n\nstu_qqq_SGP_perf$tooltip &lt;- c(paste0(\"School = \", stu_qqq_SGP_perf$CNTSCHID, \n                                     \"\\nStudent = \", stu_qqq_SGP_perf$CNTSTUID))\n\nplot1 &lt;- ggplot(data = stu_qqq_SGP_perf, \n                aes(x = MATH))+\n  geom_dotplot_interactive(aes(data_id = CNTSTUID, tooltip = stu_qqq_SGP_perf$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\")+\n  geom_vline(aes(xintercept = 472))+\n  coord_cartesian(xlim = c(0,1000))+ \n  scale_y_continuous(limits = c(0,100))+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot2 &lt;- ggplot(data = stu_qqq_SGP_perf, \n                aes(x = READING))+\n  geom_dotplot_interactive(aes(data_id = CNTSTUID, tooltip = stu_qqq_SGP_perf$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\")+\n  geom_vline(aes(xintercept = 476))+\n  coord_cartesian(xlim = c(0,1000))+ \n  scale_y_continuous(limits = c(0,100))+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot3 &lt;- ggplot(data = stu_qqq_SGP_perf, \n                aes(x = SCIENCE))+\n  geom_dotplot_interactive(aes(data_id = CNTSTUID, tooltip = stu_qqq_SGP_perf$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\")+\n  geom_vline(aes(xintercept = 485))+\n  coord_cartesian(xlim = c(0,1000))+\n  scale_y_continuous(limits = c(0,100))+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ng &lt;- wrap_plots(list(plot1, plot2, plot3), ncol = 1)\n\ngirafe(ggobj = g,\n       # code = print(plot1 + plot2 + plot3), \n       width_svg = 6,\n       height_svg = 3,\n       options = list(\n         opts_tooltip(css = tooltip_css),\n         opts_hover(css = \"fill: #ABEBC6;\"),\n         opts_hover_inv(css = \"opacity:0.2;\")\n         )\n       )"
  },
  {
    "objectID": "Topics/IC1/IC1.html",
    "href": "Topics/IC1/IC1.html",
    "title": "Import of Statistical Data Formats",
    "section": "",
    "text": "1. Learning Objectives\nR is capable of reading data from most formats, such as csv, xlsx, or txt and include files created in other statistical packages, such as SAS, Stata, SPSS.\nR also has two native data formats - rdata (also known as rda) for multiple R objects and rds for a single R object. These formats are used when R objects are saved for later use.\n\nLoad various statistical data formats using haven package\nManage large dataset using .gitignore file and “#| eval: false”\n\n\n\n2. R Package: Haven\nHaven enables R to read and write various data formats used by other statistical packages by wrapping the ReadStat C library. Haven is part of the tidyverse and supports:\n\nSAS: read_sas() reads .sas7bdat and .sas7bcat files while read_xpt() reads SAS transport files and write_xpt() writes SAS transport files.\nSPSS: read_sav() reads .sav files and read_por() reads the older .por files. write_sav() writes .sav files.\nStata: read_dta() reads .dta files. write_dta() writes .dta files.\n\n\n\n3. Load Packages\nThe following R packages will be used in this topic:\n\ntidyverse is a family of R packages designed to support data science, analysis and communication task including creating static statistical graphs\nhaven import common statistical formats into R via the embedded ‘ReadStat’ C library\n\n\npacman::p_load(tidyverse, haven)\n\n\n\n4. Import Data\nThe Programme for International Student Assessment (PISA) is a global education survey conducted every three years to assess the education systems worldwide through testing 15 year-old students in the subjects of mathematics, reading, and science. The current dataset was released on December 5, 2022.\nSource: PISA 2022\nread_sas() imports the PISA data into R environment.\n\nstu_qqq &lt;- read_sas(\"data/STU_QQQ_SAS/cy08msp_stu_qqq.sas7bdat\")\n\nThe output shows 613,744 observations with 1,279 variables. The tibble dataframe contains descriptions for each variable, which is unavailable if read.sas() is used.\n\n\n\n\n\n\nNote\n\n\n\nTo manage work space and render speed, Prof Kam recommends to avoid loading data into Github or datasets not exceeding 100 MB. We add the following text, data/, to .gitignore file for the exclusion of data folder.\n\n\nFor relevance, we filter stu_qqq by the column country code (CNT) for SGP to obtain Singapore results.\n\nstu_qqq_SGP &lt;- stu_qqq %&gt;% \n  filter(CNT == \"SGP\")\n\nThe output shows 6,606 observations with 1,279 variables.\n\n\n\n\n\n\nSave Point\n\n\n\n\n\n\nwrite_rds(stu_qqq_SGP, \"data/stu_qqq_SGP.rds\")\n\n\n\n\n\n\n\n\n\n\nLoad Point\n\n\n\n\n\n\nstu_qqq_SGP &lt;-read_rds(\"data/stu_qqq_SGP.rds\")\n\n\n\n\n\n\n5. Explore Data\n\nstu_qqq$CNT &lt;- as.factor(stu_qqq$CNT)\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nstu_qqq$CNTSCHID &lt;- as.character(stu_qqq$CNTSCHID)\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nstu_qqq$CNTSTUID = as.factor(stu_qqq$CNTSTUID)\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nduplicate &lt;- stu_qqq %&gt;% \n  group_by(CNTSTUID) %&gt;% \n  filter(n() &gt; 1)\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\n\nFrom the output, there is no observation in duplicate.\n\nSCH_table &lt;- stu_qqq %&gt;%\n  group_by(CNT) %&gt;%\n  summarise(TOTAL_SCH = n())\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nDT::datatable(SCH_table)\n\nError in eval(expr, envir, enclos): object 'SCH_table' not found\n\n\nThere are 6606 schools in Singapore in PISA 2022.\n\nSTU_table &lt;- stu_qqq %&gt;%\n  group_by(CNT, CNTSCHID) %&gt;%\n  summarise(TOTAL_STU = n())\n\nError in eval(expr, envir, enclos): object 'stu_qqq' not found\n\nDT::datatable(STU_table)\n\nError in eval(expr, envir, enclos): object 'STU_table' not found\n\n\n\nhead(stu_qqq_SGP, n = 5)\n\n# A tibble: 5 × 1,279\n  CNT   CNTRYID CNTSCHID CNTSTUID CYC   NatCen STRATUM SUBNATIO REGION  OECD\n  &lt;chr&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;\n1 SGP       702 70200052 70200001 08MS  070200 SGP01   7020000   70200     0\n2 SGP       702 70200134 70200002 08MS  070200 SGP01   7020000   70200     0\n3 SGP       702 70200112 70200003 08MS  070200 SGP01   7020000   70200     0\n4 SGP       702 70200004 70200004 08MS  070200 SGP01   7020000   70200     0\n5 SGP       702 70200152 70200005 08MS  070200 SGP01   7020000   70200     0\n# ℹ 1,269 more variables: ADMINMODE &lt;dbl&gt;, LANGTEST_QQQ &lt;dbl&gt;,\n#   LANGTEST_COG &lt;dbl&gt;, LANGTEST_PAQ &lt;dbl&gt;, Option_CT &lt;dbl&gt;, Option_FL &lt;dbl&gt;,\n#   Option_ICTQ &lt;dbl&gt;, Option_WBQ &lt;dbl&gt;, Option_PQ &lt;dbl&gt;, Option_TQ &lt;dbl&gt;,\n#   Option_UH &lt;dbl&gt;, BOOKID &lt;dbl&gt;, ST001D01T &lt;dbl&gt;, ST003D02T &lt;dbl&gt;,\n#   ST003D03T &lt;dbl&gt;, ST004D01T &lt;dbl&gt;, ST250Q01JA &lt;dbl&gt;, ST250Q02JA &lt;dbl&gt;,\n#   ST250Q03JA &lt;dbl&gt;, ST250Q04JA &lt;dbl&gt;, ST250Q05JA &lt;dbl&gt;, ST250D06JA &lt;chr&gt;,\n#   ST250D07JA &lt;chr&gt;, ST251Q01JA &lt;dbl&gt;, ST251Q02JA &lt;dbl&gt;, ST251Q03JA &lt;dbl&gt;, …\n\n\n\n\nReference\nHaven: https://haven.tidyverse.org/index.html"
  },
  {
    "objectID": "Topics/HO3/HO3.html",
    "href": "Topics/HO3/HO3.html",
    "title": "Interactive Data Visualization",
    "section": "",
    "text": "Create interactive data visualization using ggiraph, plotlyr, crosstalk"
  },
  {
    "objectID": "Topics/HO3/HO3.html#ggiraph",
    "href": "Topics/HO3/HO3.html#ggiraph",
    "title": "Interactive Data Visualization",
    "section": "ggiraph",
    "text": "ggiraph\nggiraph is is a tool that allows you to create dynamic ggplot graphs. It allows the addition of tooltips, hover effects and JavaScript actions to the graphics. The package also allows the selection of graphical elements when used in shiny applications.\nggiraph is an htmlwidget and a ggplot2 extension. The graphs are exported as SVG documents and special attributes are used on various elements.\n\n\n\n\n\n\nNote\n\n\n\nThe htmlwidgets package provides a framework for creating R bindings to JavaScript libraries. HTML Widgets can be: (1) used at the R console for data analysis just like conventional R plots, (2) embedded within R Markdown documents, (3) ncorporated into Shiny web applications.\n\n\nInteractive is made with ggplot geometries, legends and theme elements with three aesthetics:\n\ntooltip: Tooltips to be displayed when mouse is over elements\nonclick: JavaScript function to be executed when elements are clicked\ndata_id: ID associated with elements for hover and click actions\n\nUsage:\n\nProvide at least one of the aesthetics tooltip, data_id and onclick to create interactive elements.\nCall function girafe() with the ggplot object so that the graphic is translated as a web interactive graphics.\n\n\n\n\n\n\n\nNote\n\n\n\nWe can replace geom_point() by geom_point_interactive() geom_sf() by geom_sf_interactive()\n\n\n\ntooltiponclickdata_id\n\n\n\nplot1 &lt;- ggplot(data = exam_data, \n       aes(x = MATHS)) +\n  geom_dotplot_interactive(aes(tooltip = ID),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(\n  ggobj = plot1,\n  width_svg = 6,\n  height_svg = 6*0.618\n)"
  },
  {
    "objectID": "Topics/HO3/HO3.html#tooltip",
    "href": "Topics/HO3/HO3.html#tooltip",
    "title": "Interactive Data Visualization",
    "section": "4.1 Tooltip",
    "text": "4.1 Tooltip\n\nTooltip (single attribute)Tooltip (multiple attributes)Tooltip (customization)Tooltip (statistics)\n\n\nTo plot an interactive statistical graph by using ggiraph package, - Create an ggplot object using ggplot() and geom_dotplot_interactive() - Indiate aes() to include an attribute tooltip = ID - Create an interactive svg object using girafe() to be displayed on an html page\n\n\nShow the code\nplot1 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(tooltip = ID),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(\n  ggobj = plot1,\n  width_svg = 6,\n  height_svg = 6*0.618\n)\n\n\n\n\n\n\n\n\npaste0() concatenate strings or vectors, in this example, two attributes, namely ID and CLASS. Note the change in aes() to tooltip = exam_data$tooltip\n\n\nShow the code\nexam_data$tooltip &lt;- c(paste0(\"Name = \", exam_data$ID, \n                              \"\\n Class = \", exam_data$CLASS))\n\nplot2 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(\n  ggobj = plot2,\n  width_svg = 6,\n  height_svg = 6*0.618\n)\n\n\n\n\n\n\n\n\nThe customization is indicated by tooltip_css below, which changes the background-colour to white and the font colour to black and font-style bold.\nopts_tooltip() within giraph() customize the tooltip rendering by add css declarations.\n\n\n\n\n\n\nUsage\n\n\n\nopts_tooltip( css = NULL, offx = 10, offy = 0, use_cursor_pos = TRUE, opacity = 0.9, use_fill = FALSE, use_stroke = FALSE, delay_mouseover = 200, delay_mouseout = 500, placement = c(“auto”, “doc”, “container”), zindex = 999 )\n\n\n\n\nShow the code\ntooltip_css &lt;- \"background-color: white; font-style: bold; color: black\"\n\nexam_data$tooltip &lt;- c(paste0(\"Name = \", exam_data$ID, \n                              \"\\n Class = \", exam_data$CLASS))\n\nplot2 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(\n  ggobj = plot2,\n  width_svg = 6,\n  height_svg = 6*0.618,\n  options = list(opts_tooltip(css = tooltip_css))\n)\n\n\n\n\n\n\n\n\n\n\nShow the code\nexam_data$Average_Score &lt;- round(rowMeans(exam_data[, c(\"ENGLISH\", \"MATHS\", \"SCIENCE\")]),\n                                 digits = 2)\n\n# tooltip_css &lt;- \"background-color: white; font-style: bold; color: black\"\n\nexam_data$tooltip2 &lt;- paste0(\"Name = \", exam_data$ID, \n                            \"\\nClass = \", exam_data$CLASS,\n                            \"\\nEnglish = \", exam_data$ENGLISH,\n                            \"\\nMaths = \", exam_data$MATHS,\n                            \"\\nScience = \", exam_data$SCIENCE,\n                            \"\\nAverage Score = \", exam_data$Average_Score)\n\nplot3 &lt;- ggplot(data = exam_data, \n                aes(x = Average_Score))+\n  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip2),\n                           stackgroups = TRUE, \n                           binwidth = 1, \n                           method = \"histodot\") +\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(\n  ggobj = plot3,\n  width_svg = 6,\n  height_svg = 6*0.618,\n  options = list(opts_tooltip(css = tooltip_css))\n)\n\n\n\n\n\n\n\n\n\n\n\n\nTip\n\n\n\nThe top student is Student036 from Class 3A!\n\n\n\n\nShow the code\ntooltip &lt;- function(y, ymax, accuracy = 0.01) {\n  mean &lt;- scales::number(y, accuracy = accuracy)\n  sem &lt;- scales::number(ymax - y, accuracy = accuracy)\n  paste(\"Mean maths scores:\", mean, \"+/-\", sem)\n}\n\nplot4 &lt;- ggplot(data = exam_data, \n                   aes(x = RACE))+\n  stat_summary(aes(y = MATHS, tooltip = after_stat(tooltip(y, ymax))),\n               fun.data = \"mean_se\", geom = GeomInteractiveCol, fill = \"lightblue\")+\n  stat_summary(aes(y = MATHS),\n               fun.data = mean_se, geom = \"errorbar\", width = 0.2, size = 0.2)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(ggobj = plot4,\n       width_svg = 6,\n       height_svg = 6*0.618,\n       options = list(opts_tooltip(css = tooltip_css)))"
  },
  {
    "objectID": "Topics/HO3/HO3.html#data_id",
    "href": "Topics/HO3/HO3.html#data_id",
    "title": "Interactive Data Visualization",
    "section": "4.2 Data_id",
    "text": "4.2 Data_id\n\ndata_iddata_id (customization)data_id with tooltip\n\n\nNote the change in aes() to data_id = CLASS.\nElements associated with a data_id (i.e CLASS) will be highlighted upon mouse over.\n\n\nShow the code\nplot5 &lt;- ggplot(data=exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = CLASS),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot5,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618                      \n)                                        \n\n\n\n\n\n\n\n\nopts_tooltip(), opts_hover() and opts_hover_inv() customize the tooltip and data_id rendering by add css declarations.\n\n\n\n\n\n\nNote\n\n\n\nThe default value of the hover css is hover_css = “fill:orange;”. In this example, we will use fill: #ABEBC6;.\n\n\n\n\nShow the code\nplot6 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = CLASS),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+\n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot6,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(                        \n    opts_hover(css = \"fill: #ABEBC6;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)                                        \n\n\n\n\n\n\n\n\nopts_hover() and opts_hover_inv() customize the data_id rendering by add css declarations.\n\n\nShow the code\ntooltip_css &lt;- \"background-color: white; font-style: bold; color: black\"\n\nexam_data$tooltip &lt;- c(paste0(\"Name = \", exam_data$ID, \n                              \"\\n Class = \", exam_data$CLASS))\n\nplot6 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(tooltip = exam_data$tooltip, data_id = CLASS),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+               \n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot6,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618,\n  options = list(\n    opts_tooltip(css = tooltip_css),\n    opts_hover(css = \"fill: #ABEBC6;\"),  \n    opts_hover_inv(css = \"opacity:0.2;\") \n  )                                        \n)"
  },
  {
    "objectID": "Topics/HO3/HO3.html#onclick",
    "href": "Topics/HO3/HO3.html#onclick",
    "title": "Interactive Data Visualization",
    "section": "4.3 Onclick",
    "text": "4.3 Onclick\nonclick of girafe provides hot link interactivity on the web. The web document link with a data object will be displayed on the web browser upon mouse click. Note the change in aes() to onclick = onclick where onclick is assigned with web document link.\nsprintf() print formatted strings where fmt is the format and x is the value to format.\n\n\nShow the code\nexam_data$onclick &lt;- sprintf(\"window.open(\\\"%s%s\\\")\",\n\"https://www.moe.gov.sg/schoolfinder?journey=Primary%20school\",\nas.character(exam_data$ID))\n\nplot7 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(onclick = onclick),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+               \n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(                                  \n  ggobj = plot7,                             \n  width_svg = 6,                         \n  height_svg = 6*0.618)                                        \n\n\n\n\n\n\n\n\n\n\n\n\nNote\n\n\n\nNote that click actions must be a string column in the dataset containing valid javascript instructions."
  },
  {
    "objectID": "Topics/HO3/HO3.html#coordinated-multiple-views",
    "href": "Topics/HO3/HO3.html#coordinated-multiple-views",
    "title": "Interactive Data Visualization",
    "section": "4.4 Coordinated Multiple Views",
    "text": "4.4 Coordinated Multiple Views\nCoordinated view refers to the visualization when a data point of one plot is selected, the corresponding data point ID on the second or associated data visualisations will be highlighted.\nThe following programming strategy will be used:\n\nAppropriate interactive functions of ggiraph will be used to create the multiple views.\npatchwork will be used inside girafe function to create the interactive coordinated multiple views.\n\n\n\nShow the code\nplot8 &lt;- ggplot(data = exam_data, \n                aes(x = ENGLISH))+\n  geom_dotplot_interactive(aes(data_id = ID, tooltip = exam_data$tooltip),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+  \n  coord_cartesian(xlim = c(0,100))+ \n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot9 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_dotplot_interactive(aes(data_id = ID, tooltip = exam_data$tooltip),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+  \n  coord_cartesian(xlim = c(0,100))+ \n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot10 &lt;- ggplot(data = exam_data, \n                aes(x = SCIENCE))+\n  geom_dotplot_interactive(aes(data_id = ID, tooltip = exam_data$tooltip),\n                           stackgroups = TRUE,\n                           binwidth = 1,\n                           method = \"histodot\")+  \n  coord_cartesian(xlim = c(0,100))+ \n  scale_y_continuous(NULL, breaks = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngirafe(code = print(plot8 + plot9 + plot10), \n       width_svg = 6,\n       height_svg = 3,\n       options = list(\n         opts_tooltip(css = tooltip_css),\n         opts_hover(css = \"fill: #ABEBC6;\"),\n         opts_hover_inv(css = \"opacity:0.2;\")\n         )\n       )"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#how-did-singaporean-students-perform-in-maths-reading-and-science",
    "href": "Exercises/TH1/TH1.html#how-did-singaporean-students-perform-in-maths-reading-and-science",
    "title": "OECD PISA Global Education",
    "section": "5.2 How did Singaporean students perform in Maths, Reading and Science?",
    "text": "5.2 How did Singaporean students perform in Maths, Reading and Science?\nWe aim to understand the performance of these students in key academic areas: Mathematics, Reading, and Science. This will involve assessing their scores and identifying patterns or trends within the data.\nFor each group, the mean scores for mathematics MATH, reading READING, and science SCIENCE are calculated using the mean function applied to a series of plausible values (PV1MATH to PV5MATH for math, PV1READ to PV5READ for reading, and PV1SCIE to PV5SCIE for science). These plausible values represent multiple imputations of the student’s likely performance and are averaged to get a single score estimation.\n\n\nShow the code\nstu_qqq_SGP_perf &lt;- stu_qqq_SGP %&gt;%\n  group_by(CNT, CNTRYID, CNTSCHID, CNTSTUID, ST004D01T, ESCS) %&gt;%\n  summarise(MATH = round(mean(PV1MATH, PV2MATH, PV3MATH, PV4MATH, PV5MATH, \n                              PV6MATH, PV7MATH, PV8MATH, PV9MATH, PV10MATH), 1),\n            READING = round(mean(PV1READ, PV2READ, PV3READ, PV4READ, PV5READ,\n                                 PV6READ, PV7READ, PV8READ, PV9READ, PV10READ), 1),\n            SCIENCE = round(mean(PV1SCIE, PV2SCIE, PV3SCIE, PV4SCIE, PV5SCIE,\n                                 PV6SCIE, PV7SCIE, PV8SCIE, PV9SCIE, PV10SCIE), 1))\n\nstu_qqq_SGP_perf$MATH &lt;- as.integer(stu_qqq_SGP_perf$MATH)\nstu_qqq_SGP_perf$MATH &lt;- as.integer(stu_qqq_SGP_perf$READING)\nstu_qqq_SGP_perf$MATH &lt;- as.integer(stu_qqq_SGP_perf$SCIENCE)\n\nglimpse(stu_qqq_SGP_perf)\n\n\nRows: 6,606\nColumns: 9\nGroups: CNT, CNTRYID, CNTSCHID, CNTSTUID, ST004D01T [6,606]\n$ CNT       &lt;chr&gt; \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP…\n$ CNTRYID   &lt;chr&gt; \"702\", \"702\", \"702\", \"702\", \"702\", \"702\", \"702\", \"702\", \"702…\n$ CNTSCHID  &lt;chr&gt; \"70200001\", \"70200001\", \"70200001\", \"70200001\", \"70200001\", …\n$ CNTSTUID  &lt;chr&gt; \"70200085\", \"70200211\", \"70200271\", \"70200307\", \"70200327\", …\n$ ST004D01T &lt;fct&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, …\n$ ESCS      &lt;dbl&gt; 1.2485, 0.6114, 0.8463, 1.3575, 1.4269, -0.1876, 1.1207, 2.0…\n$ MATH      &lt;int&gt; 795, 671, 781, 750, 639, 596, 711, 702, 824, 668, 782, 645, …\n$ READING   &lt;dbl&gt; 641.2, 663.4, 699.9, 693.0, 590.4, 593.8, 655.1, 703.2, 766.…\n$ SCIENCE   &lt;dbl&gt; 795.3, 671.9, 781.1, 750.4, 639.2, 596.6, 711.3, 702.6, 824.…\n\n\n\n\nShow the code\nplot7 &lt;- ggplot(stu_qqq_SGP_perf, \n                aes(x = MATH, y = ST004D01T,\n                    fill = ST004D01T, colour = ST004D01T))+\n  geom_density_ridges(bandwidth = 7, alpha = 0.6)+\n  scale_y_discrete(breaks = c(1, 2), labels = c(\"Female\", \"Male\"))+\n  geom_vline(aes(xintercept = 472), \n             colour = \"azure4\",\n             linetype = \"dashed\") +\n  annotate(geom = \"text\", x = 500, y = 3,  \n           label = \"OECD Mean Maths Score = 472\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_vline(aes(xintercept = 575), \n             colour = \"azure4\",\n             linetype = \"dashed\") +\n  annotate(geom = \"text\", x = 1000, y = 3,  \n           label = \"SGP Mean Maths Score = 575\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_boxplot(colour = \"black\",\n               width = .20,\n               outlier.shape = NA,\n               alpha = 0.4)+\n  xlim(0,1000)+\n  labs(title = \"Mathematics\", x = NULL, y = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        axis.text.x = element_blank())\n\nplot8 &lt;- ggplot(stu_qqq_SGP_perf, \n                aes(x = READING, y = ST004D01T,\n                    fill = ST004D01T, colour = ST004D01T))+\n  geom_density_ridges(bandwidth = 7, alpha = 0.6)+\n  scale_y_discrete(breaks = c(1, 2), labels = c(\"Female\", \"Male\"))+\n  geom_vline(aes(xintercept = 476), \n             colour = \"azure4\",\n             linetype = \"dashed\")+\n  annotate(geom = \"text\", x = 500, y = 3,  \n           label = \"OECD Mean Reading Score = 476\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_vline(aes(xintercept = 543), \n             colour = \"azure4\",\n             linetype = \"dashed\")+\n  annotate(geom = \"text\", x = 1000, y = 3,  \n           label = \"SGP Mean Reading Score = 543\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5)+\n  geom_boxplot(colour = \"black\",\n               width = .20,\n               outlier.shape = NA,\n               alpha = 0.4)+\n  xlim(0,1000)+\n  labs(title = \"Reading\", x = NULL, y = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        axis.text.x = element_blank())\n\nplot9 &lt;- ggplot(stu_qqq_SGP_perf, \n                aes(x = SCIENCE, y = ST004D01T,\n                    fill = ST004D01T, colour = ST004D01T))+\n  geom_density_ridges(bandwidth = 7, alpha = 0.6)+\n  scale_y_discrete(breaks = c(1, 2), labels = c(\"Female\", \"Male\"))+\n  geom_vline(aes(xintercept = 485), \n             colour = \"azure4\",\n             linetype = \"dashed\")+\n  annotate(geom = \"text\", x = 500, y = 3,  \n           label = \"OECD Mean Science Score = 485\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_vline(aes(xintercept = 561), \n             colour = \"azure4\",\n             linetype = \"dashed\")+\n  annotate(geom = \"text\", x = 1000, y = 3,  \n           label = \"SGP Mean Maths Score = 561\",\n           vjust = -0.5,  \n           hjust = 1.2,\n           size = 3.5) +\n  geom_boxplot(colour = \"black\",\n               width = .20,\n               outlier.shape = NA,\n               alpha = 0.4)+\n  xlim(0,1000)+\n  labs(title = \"Science\", x = NULL, y = NULL)+\n  theme_minimal()+\n  theme(legend.position = \"none\")\n\ncombined_plot &lt;- plot7 / plot8 / plot9 + \n  plot_layout(guides = \"collect\") + \n  plot_annotation(\n    title = \"How did Singaporean students perform in Maths,\\nReading and Science?\",\n    theme = theme(plot.title = element_text(hjust = 0, size = 20))\n  )\ncombined_plot\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nSingapore mean score for Mathematics, Reading and Science is higher than the OECD mean, it suggests that Singaporean students perform better than the OECD average in across the three aspects assessed. The position of the peaks (modes) of the distributions for male and female students, which indicates the most common score range for each gender, are fairly close. The spread of the distributions, which can show the range of scores and variability within each gender group, is also similar. There is a minor performance variation observed in reading where the mean score for female is higher than that of male."
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-socio-economic-background-affect-singaporean-students-performance-in-maths-reading-and-science",
    "href": "Exercises/TH1/TH1.html#does-socio-economic-background-affect-singaporean-students-performance-in-maths-reading-and-science",
    "title": "OECD PISA Global Education",
    "section": "5.3 Does socio-economic background affect Singaporean students’ performance in Maths, Reading and Science?",
    "text": "5.3 Does socio-economic background affect Singaporean students’ performance in Maths, Reading and Science?\nA critical component of our analysis will focus on the impact of socio-economic status on academic performance. We will create visualizations that relates various socio-economic indicators with student achievement in the three core study areas mentioned above. By doing so, we hope to reveal the extent to which socio-economic factors play a role in educational success or challenges.\nPISA index of economic, social, and cultural status (ESCS) is a composite score that combines into a single score information from three components: parents’ highest level of education (PARED index1); parents’ highest occupational status (HISEI index1); and home possessions (HOMEPOS index1, which is a proxy for family wealth).\n\n\nShow the code\nmodel_maths &lt;- lm(ESCS ~ MATH, data = stu_qqq_SGP_perf)\nsummary_model_maths &lt;- summary(model_maths)\nrsquared_maths &lt;- summary_model_maths$r.squared\npvalue_maths &lt;- round(summary_model_maths$coefficients[2,4], 5)\n\nmodel_reading &lt;- lm(ESCS ~ READING, data = stu_qqq_SGP_perf)\nsummary_model_reading &lt;- summary(model_reading)\nrsquared_reading &lt;- summary_model_reading$r.squared\npvalue_reading &lt;- round(summary_model_reading$coefficients[2,4], 5)\n\nmodel_science &lt;- lm(ESCS ~ SCIENCE, data = stu_qqq_SGP_perf)\nsummary_model_science &lt;- summary(model_science)\nrsquared_science &lt;- summary_model_science$r.squared\npvalue_science &lt;- round(summary_model_science$coefficients[2,4], 5)\n\n\n\n\nShow the code\nplot10 &lt;- ggplot(data = stu_qqq_SGP_perf,\n                 aes(y = ESCS, x = MATH, \n                     fill = ST004D01T, colour = ST004D01T))+\n  geom_point(alpha = 0.3)+\n  geom_smooth(size = 0.8)+\n  annotate(\"text\", x = 500, y = 2, \n           label = paste(\"R^2 = \", round(rsquared_maths, 3), \"\\np-value = \", pvalue_maths), \n           hjust = 0, vjust = 0, size = 3)+\n  labs(title = NULL, x = \"Maths Score\", y = \"Socio-economic Index (ESCS)\")+\n  theme_minimal()+\n  xlim(100,900)+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot11 &lt;- ggplot(data = stu_qqq_SGP_perf, \n                 aes(y = ESCS, x = READING, \n                     fill = ST004D01T, colour = ST004D01T))+\n  geom_point(alpha = 0.3)+\n  geom_smooth(size = 0.8)+\n  annotate(\"text\", x = 500, y = 2, \n           label = paste(\"R^2 = \", round(rsquared_reading, 3), \"\\np-value = \", pvalue_reading), \n           hjust = 0, vjust = 0, size = 3)+\n  labs(title = NULL, x = \"Reading Score\", y = NULL)+\n  theme_minimal()+\n  xlim(100,900)+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  theme(axis.text.y = element_blank())\n\nplot12 &lt;- ggplot(data = stu_qqq_SGP_perf,\n                 aes(y = ESCS, x = SCIENCE, \n                     fill = ST004D01T, colour = ST004D01T))+\n  geom_point(alpha = 0.3)+\n  geom_smooth(size = 0.8)+\n  annotate(\"text\", x = 500, y = 2, \n           label = paste(\"R^2 = \", round(rsquared_science, 3), \"\\np-value = \", pvalue_science), \n           hjust = 0, vjust = 0, size = 3)+\n  labs(title = NULL, x = \"Science Score\", y = NULL)+\n  theme_minimal()+\n  xlim(100,900)+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  theme(axis.text.y = element_blank())\n\ncombined_plot &lt;- plot10 + plot11 + plot12 + \n  plot_layout(guides = \"collect\") + \n  plot_annotation(\n    title = \"Does socio-economic background affect Singaporean\\nstudents' performance in Maths, Reading and Science?\",\n    theme = theme(plot.title = element_text(hjust = 0, size = 20))\n  )\n\n# Print the combined plot with the overall title\ncombined_plot\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nThe scatter plots with overlaid trend lines demonstrate the relationship between students’ scores in Mathematics, Reading, and Science, and their socio-economic status (ESCS). An observed positive trend indicates that students with higher socio-economic status tend to score higher in these subjects.\nThe strength of this relationship can be quantified by the R-squared value; the closer it is to 1, the stronger the relationship. The p-value tests the significance of the relationship, with values less than 0.05 typically considered statistically significant."
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-linguistic-background-affect-singaporean-students-performance-in-maths-reading-and-science",
    "href": "Exercises/TH1/TH1.html#does-linguistic-background-affect-singaporean-students-performance-in-maths-reading-and-science",
    "title": "OECD PISA Global Education",
    "section": "5.2 Does linguistic background affect Singaporean students’ performance in Maths, Reading and Science?",
    "text": "5.2 Does linguistic background affect Singaporean students’ performance in Maths, Reading and Science?"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-the-school-system-affect-singaporean-students-performance-in-maths-reading-and-science",
    "href": "Exercises/TH1/TH1.html#does-the-school-system-affect-singaporean-students-performance-in-maths-reading-and-science",
    "title": "OECD PISA Global Education",
    "section": "5.2 Does the school system affect Singaporean students’ performance in Maths, Reading and Science?",
    "text": "5.2 Does the school system affect Singaporean students’ performance in Maths, Reading and Science?\n\nschsys &lt;- select(stu_qqq_SGP, starts_with(c(\"ST267\", \"ST265\")))\n\nnames(schsys) &lt;- c(\n  ST267Q01JA = \"The teachers at my school are respectful towards me.\",\n  ST267Q02JA = \"If I walked into my classes upset, my teachers would be concerned about me.\",\n  ST267Q03JA = \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\",\n  ST267Q04JA = \"I feel intimidated by the teachers at my school.\",\n  ST267Q05JA = \"When my teachers ask how I am doing, they are really interested in my answer.\",\n  ST267Q06JA = \"The teachers at my school are friendly towards me.\",\n  ST267Q07JA = \"The teachers at my school are interested in students' well-being.\",\n  ST267Q08JA = \"The teachers at my school are mean towards me.\",\n  ST265Q01JA = \"I feel safe on my way to school.\",\n  ST265Q02JA = \"I feel safe on my way home from school.\",\n  ST265Q03JA = \"I feel safe in my classrooms at school.\",\n  ST265Q04JA = \"I feel safe at other places at school (e.g. hallway, cafeteria, restroom).\")\n\n\nlikert_recode &lt;- function(x) {\n  y &lt;- ifelse(is.na(x), NA, \n              ifelse(x == 1, \"Strongly disagree\",\n              ifelse(x == 2, \"Disagree\",\n              ifelse(x == 3, \"Agree\",\n              \"Strongly agree\"))))\n  y &lt;- factor(y, levels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))\n  return(y)\n}\n\n\nschsys_likert &lt;- schsys %&gt;%\n  mutate(across(everything(), likert_recode))\n\n\nlevel_check &lt;- sapply(schsys_likert, function(x) all(levels(x) == levels(schsys_likert[[1]])))\nprint(level_check)\n\n                                       The teachers at my school are respectful towards me. \n                                                                                       TRUE \n                If I walked into my classes upset, my teachers would be concerned about me. \n                                                                                       TRUE \nIf I came back to visit my school 3 years from now, my teachers would be excited to see me. \n                                                                                       TRUE \n                                           I feel intimidated by the teachers at my school. \n                                                                                       TRUE \n              When my teachers ask how I am doing, they are really interested in my answer. \n                                                                                       TRUE \n                                         The teachers at my school are friendly towards me. \n                                                                                       TRUE \n                          The teachers at my school are interested in students' well-being. \n                                                                                       TRUE \n                                             The teachers at my school are mean towards me. \n                                                                                       TRUE \n                                                           I feel safe on my way to school. \n                                                                                       TRUE \n                                                    I feel safe on my way home from school. \n                                                                                       TRUE \n                                                    I feel safe in my classrooms at school. \n                                                                                       TRUE \n                 I feel safe at other places at school (e.g. hallway, cafeteria, restroom). \n                                                                                       TRUE \n\n\n\nglimpse(schsys_likert)\n\nRows: 6,606\nColumns: 12\n$ `The teachers at my school are respectful towards me.`                                        &lt;fct&gt; …\n$ `If I walked into my classes upset, my teachers would be concerned about me.`                 &lt;fct&gt; …\n$ `If I came back to visit my school 3 years from now, my teachers would be excited to see me.` &lt;fct&gt; …\n$ `I feel intimidated by the teachers at my school.`                                            &lt;fct&gt; …\n$ `When my teachers ask how I am doing, they are really interested in my answer.`               &lt;fct&gt; …\n$ `The teachers at my school are friendly towards me.`                                          &lt;fct&gt; …\n$ `The teachers at my school are interested in students' well-being.`                           &lt;fct&gt; …\n$ `The teachers at my school are mean towards me.`                                              &lt;fct&gt; …\n$ `I feel safe on my way to school.`                                                            &lt;fct&gt; …\n$ `I feel safe on my way home from school.`                                                     &lt;fct&gt; …\n$ `I feel safe in my classrooms at school.`                                                     &lt;fct&gt; …\n$ `I feel safe at other places at school (e.g. hallway, cafeteria, restroom).`                  &lt;fct&gt; …\n\n\n\ncolnames(schsys_likert)\n\n [1] \"The teachers at my school are respectful towards me.\"                                       \n [2] \"If I walked into my classes upset, my teachers would be concerned about me.\"                \n [3] \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\"\n [4] \"I feel intimidated by the teachers at my school.\"                                           \n [5] \"When my teachers ask how I am doing, they are really interested in my answer.\"              \n [6] \"The teachers at my school are friendly towards me.\"                                         \n [7] \"The teachers at my school are interested in students' well-being.\"                          \n [8] \"The teachers at my school are mean towards me.\"                                             \n [9] \"I feel safe on my way to school.\"                                                           \n[10] \"I feel safe on my way home from school.\"                                                    \n[11] \"I feel safe in my classrooms at school.\"                                                    \n[12] \"I feel safe at other places at school (e.g. hallway, cafeteria, restroom).\"                 \n\n\n\n# Convert data from wide to long format, excluding NA values\nschsys_likert_long &lt;- schsys_likert %&gt;%\n  pivot_longer(cols = 1:12, names_to = \"question\", values_to = \"response\") %&gt;%\n  filter(!is.na(response)) %&gt;%\n  mutate(response = factor(response, levels = c(1, 2, 3, 4), labels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\")))\n\n\nglimpse(schsys_likert_long)\n\nRows: 59,019\nColumns: 2\n$ question &lt;chr&gt; \"If I walked into my classes upset, my teachers would be conc…\n$ response &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…\n\n\n\nschsys_likert_long &lt;- schsys_likert %&gt;%\n  pivot_longer(\n    cols = everything(), \n    names_to = \"question\", \n    values_to = \"response\"\n  ) %&gt;%\n  filter(!is.na(response)) %&gt;%\n  mutate(\n    response = factor(\n      response,\n      levels = c(1, 2, 3, 4),\n      labels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\")\n    )\n  )\n\n\nlibrary(dplyr)\nlibrary(ggplot2)\n\n# Assuming schsys_likert_long is your long-format data\n# Create a new column with shortened names\nschsys_likert_long &lt;- schsys_likert_long %&gt;%\n  mutate(short_question = case_when(\n    question == \"The teachers at my school are respectful towards me.\" ~ \"The teachers at my school are respectful towards me.\",\n    question == \"If I walked into my classes upset, my teachers would be concerned about me.\" ~ \"The teachers will be concerned about me if I am upset.\",\n    question == \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\" ~ \"The teachers will be excited to see me in future.\",\n    question == \"I feel intimidated by the teachers at my school.\" ~ \"I feel intimidated by the teachers at my school.\",\n    question == \"When my teachers ask how I am doing, they are really interested in my answer.\" ~ \"The teachers are genuinely interested when listening to me.\",\n    question == \"I feel safe at other places at school (e.g. hallway, cafeteria, restroom).\" ~ \"I feel safe at other places at school.\",\n    TRUE ~ question  # Default case to keep original question if not mapped\n  ))\n\n\nstacked_bar_chart &lt;- ggplot(schsys_likert_long, aes(x = short_question, fill = response)) +\n  geom_bar(position = \"fill\", stat = \"count\") +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(x = NULL, y = \"Percentage\", fill = \"Response\") +\n  theme_minimal() +\n  scale_fill_brewer(palette = \"RdYlGn\") +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),\n    legend.position = \"bottom\"\n  ) +\n  coord_flip()\n\n# Print the plot\nstacked_bar_chart\n\n\n\n\n\n# Now create the stacked bar chart with the shortened names\nstacked_bar_chart &lt;- ggplot(schsys_likert_long, aes(x = short_question, fill = response)) +\n  geom_bar(position = \"fill\", stat = \"count\") +  # This creates the stacked bars\n  geom_text(\n    aes(label = scales::percent(..count../sum(..count..))),  # Calculate percentage\n    stat = \"count\",  # Use count statistics\n    position = position_fill(vjust = 0.5),  # Center the text in the fill area\n    size = 3,  # Size of the text, adjust as needed\n    color = \"white\"  # Color of the text\n  ) +\n  scale_fill_brewer(palette = \"RdYlGn\") +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(x = NULL, y = \"Percentage\", fill = \"Response\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = \"bottom\")+\n  coord_flip()\n\n# Print the plot\nstacked_bar_chart\n\n\n\n\n\n# Now create the stacked bar chart with the shortened names\nstacked_bar_chart &lt;- ggplot(schsys_likert_long, aes(x = short_question, fill = response)) +\n  geom_bar(position = \"fill\") +  # This creates the stacked bars\n  geom_text(\n    aes(label = scales::percent(..prop..)),  # Calculate proportion and convert to percentage\n    stat = \"count\",  # Use count statistics\n    position = position_fill(vjust = 0.5),  # Center the text in the fill area\n    size = 3,  # Size of the text, adjust as needed\n    color = \"white\"  # Color of the text\n  ) +\n  scale_fill_brewer(palette = \"RdYlGn\") +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(x = NULL, y = \"Percentage\", fill = \"Response\") +\n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = \"bottom\") +\n  coord_flip()\n\n# Print the plot\nstacked_bar_chart\n\n\n\n\n\n\n\n\n\n\nInsights"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-correlation-exist-between-the-weighted-likelihood-estimates-wles",
    "href": "Exercises/TH1/TH1.html#does-correlation-exist-between-the-weighted-likelihood-estimates-wles",
    "title": "OECD PISA Global Education",
    "section": "5.4 Does correlation exist between the weighted likelihood estimates (WLEs)?",
    "text": "5.4 Does correlation exist between the weighted likelihood estimates (WLEs)?\nWe examine the relationship between the weighted likelihood estimates (WLEs) for each student, which serve as measures of ability based on their responses to assessment items. Through correlation analysis, we will determine if there are any significant associations between these estimates across different subjects.\nFor the analysis, we will impute the NA values with 0. After imputation, is.na() returns 0, where there is no NA values.\n\n\nShow the code\nstu_qqq_SGP_impute &lt;- stu_qqq_SGP %&gt;%\n  mutate_all(funs(ifelse(is.na(.), 0, .)))\n\nsum(is.na(stu_qqq_SGP_impute))\n\n\n[1] 0\n\n\n\nOverall CorrplotOverall Mixed CorrplotEmotional Well-beingSchool SupportFamily SupportDigital exposure\n\n\nThis is a correlation matrix graph based on hierarchical clustering.\n\n\nShow the code\nselected_columns = c(990:1001, 1005:1006,\n                     1007:1015,\n                     1004, 1030:1039,\n                     1050:1062, 1064)\n\n# stu_qqq_SGP_impute[, selected_columns] &lt;- lapply(stu_qqq_SGP_impute[, selected_columns], as.numeric)\n\nvars.cor = cor(stu_qqq_SGP_impute[, selected_columns],\n               use = \"complete.obs\")\n\ncorrplot(vars.cor, \n         method = \"circle\",\n         order = \"hclust\", \n         tl.cex = 0.5, \n         tl.col = \"black\", \n         addrect = 12)\n\n\n\n\n\n\n\n\n\nShow the code\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.3,\n               tl.cex = 0.5,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\",\n               order = \"hclust\",\n               addrect = 3)\n\n\n\n\n\n\n\n\nRELATST Quality of student-teacher relationships (WLE)\nBELONG Sense of belonging (WLE)\nBULLIED Being bullied (WLE)\nFEELSAFE Feeling safe (WLE)\nSCHRISK School safety risks (WLE)\nPERSEVAGR Perseverance (agreement) (WLE)\nCURIOAGR Curiosity (agreement) (WLE)\nCOOPAGR Cooperation (agreement) (WLE)\nEMPATAGR Empathy (agreement) (WLE)\nASSERAGR Assertiveness (agreement) (WLE)\nSTRESAGR Stress resistance (agreement) (WLE)\nEMOCOAGR Emotional control (agreement) (WLE)\nDISCLIM Disciplinary climate in mathematics (WLE) T\nEACHSUP Mathematics Teacher Support (WLE)\n\n\n\nShow the code\nemotional_wellbeing = c(990:1001, 1005:1006)\n\nvars.cor = cor(stu_qqq_SGP_impute[, emotional_wellbeing],\n               use = \"complete.obs\")\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.6,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nCOGACRCO Cognitive activation in mathematics: Foster reasoning Version B (WLE)\nCOGACMCO Cognitive activation in mathematics: Encourage mathematical thinking Version B (WLE)\nEXPOFA Exposure to Formal and Applied Mathematics Tasks (WLE)\nEXPO21ST Exposure to Mathematical Reasoning and 21st century mathematics tasks (WLE)\nMATHEFF Mathematics self-efficacy: formal and applied mathematics - response options reversed in 2022 (WLE)\nMATHEF21 Mathematics self-efficacy: mathematical reasoning and 21st century skills (WLE)\nFAMCON Subjective familiarity with mathematics concepts (WLE)\nANXMAT Mathematics Anxiety (WLE)\nMATHPERS Effort and Persistence in Mathematics (WLE)\n\n\n\nShow the code\nschool_support = c(1006:1016)\n\nvars.cor = cor(stu_qqq_SGP_impute[, school_support],\n               use = \"complete.obs\")\n\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.6,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nFAMSUP Family support (WLE)\nMISCED Mother’s level of education (ISCED)\nFISCED Father’s level of education (ISCED)\nHISCED Highest level of education of parents (ISCED)\nPAREDINT Index highest parental education (international years of schooling scale)\nBMMJ1 Mother’s occupational status (ISEI) based on 4-digit human coded ISCO\nBFMJ2 Father’s occupational status (ISEI) based on 4-digit human coded ISCO\nHISEI Highest parental occupational status (ISEI) based on 4-digit human coded ISCO\nICTRES ICT Resources (WLE) HOMEPOS Home possessions (WLE)\nESCS Index of economic, social and cultural status\n\n\n\nShow the code\nfamily_support = c(1004, 1030:1039)\n\nvars.cor = cor(stu_qqq_SGP_impute[, family_support],\n               use = \"complete.obs\")\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.6,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\nICTSCH ICT availability at school (WLE)\nICTAVSCH Availability and Usage of ICT at School\nICTHOME ICT availability outside of school (WLE)\nICTAVHOM Availability and Usage of ICT at Home\nICTQUAL Quality of access to ICT (WLE)\nICTSUBJ Subject-related ICT Use During Lessons (WLE)\nICTENQ Use of ICT in enquiry-based learning activities (WLE)\nICTFEED Support or feedback via ICT (WLE)\nICTOUT Use of ICT for school activities outside of the classroom (WLE)\nICTWKDY Frequency of ICT activity (weekday) (WLE)\nICTWKEND Frequency of ICT activity (weekend) (WLE)\nICTREG Views of regulated ICT use in school (WLE)\nICTINFO Students’ practices regarding online information (WLE)\nICTEFFIC Self-efficacy in digital competencies (WLE)\n\n\n\nShow the code\ndigital_exposure = c(1050:1062, 1064)\n\nvars.cor = cor(stu_qqq_SGP_impute[, digital_exposure],\n               use = \"complete.obs\")\ncorrplot.mixed(vars.cor,\n               lower = \"ellipse\", \n               upper = \"number\",\n               number.cex = 0.6,\n               tl.pos = \"lt\",\n               diag = \"l\",\n               tl.col = \"black\")\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nPositive Correlations\n\nStudents who report being bullied BULLIED tend to report higher school safety risks SCHRISK, suggesting a shared underlying issue affecting students’ well-being.\nHome possessions HOMEPOS and the Index of economic, social and cultural status ESCS are positively correlated, which is expected as both are indicators of socioeconomic status.\nEmotional control EMOCOAGR and stress resistance STRESAGAR are positively linked, indicating that students who manage their emotions well are also better at handling stress.\nA quality student-teacher relationship RELATST is positively associated with teacher support in mathematics TEACHSUP, quality access to ICT ICTQUAL, and a sense of belonging BELONG, suggesting a holistic benefit from strong support systems in school.\n\nNegative Correlations\n\nBeing bullied BULLIED is negatively correlated with most weighted likelihood estimates, meaning that as experiences of bullying increase, metrics of student achievement or well-being typically decrease.\nPerceptions of school safety risks SCHRISK are negatively correlated with WLEs, indicating that a sense of insecurity at school is detrimental to students’ academic and emotional outcomes.\nAnxiety in mathematics ANXMAT and lack of stress resistance STRESGAR, along with lower familiarity with math concepts FAMCON and self-efficacy in mathematics MATHEFF and MATHEF21, are all negatively related, suggesting that anxiety and low confidence in one’s math abilities are linked to greater stress and poorer perceived competence."
  },
  {
    "objectID": "Topics/HO2/HO2.html#built-in-themes",
    "href": "Topics/HO2/HO2.html#built-in-themes",
    "title": "Extensions of ggplot2",
    "section": "built-in themes",
    "text": "built-in themes\n\nplot3 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"theme_light\")+\n  theme_light()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\nplot4 &lt;- ggplot(data = exam_data, \n                aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"theme_dark\")+\n  theme_dark()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\ngridExtra::grid.arrange(plot3, plot4, ncol = 2)"
  },
  {
    "objectID": "Topics/HO2/HO2.html#ggtheme",
    "href": "Topics/HO2/HO2.html#ggtheme",
    "title": "Extensions of ggplot2",
    "section": "ggtheme",
    "text": "ggtheme\nggthemes provides ggplot2 themes that replicate the look of plots by Edward Tufte, Stephen Few, Fivethirtyeight, The Economist, ‘Stata’, ‘Excel’, and The Wall Street Journal, among others.\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n             boundary = 100,\n             color=\"black\",\n             fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme_economist()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Topics/HO2/HO2.html#hrbthems",
    "href": "Topics/HO2/HO2.html#hrbthems",
    "title": "Extensions of ggplot2",
    "section": "hrbthems",
    "text": "hrbthems\nhrbrthemes package provides a base theme that focuses on typographic elements, including where various labels are placed as well as the fonts that are used.\nThemes:\n\ntheme_ft_rc()\ntheme_ipsum()\ntheme_ipsum_ps()\ntheme_ipsum_rc()\ntheme_ipsum_tw()\ntheme_modern_rc()\n\ntheme_ipsum() where ‘ipsum’ is Latin for ’precise.\n\n\n\n\n\n\nWarning\n\n\n\nError in theme_ipsum() : could not find function “theme_ipsum”\nEither Arial Narrow or Roboto Condensed fonts are required to use these themes.\nPlease use hrbrthemes::import_roboto_condensed() to install Roboto Condensed and if Arial Narrow is not on your system, please see https://bit.ly/arialnarrow\nWhy Arial Narrow?\nArial Narrow is generally installed by default or readily available on any modern system. Also, it is a condensed font with solid default kerning pairs and geometric numbers.\n\n\n\nggplot(data = exam_data, \n       aes(x = MATHS))+\n  geom_histogram(bins=20, \n                 boundary = 100,\n                 color=\"black\",\n                 fill=\"lightgreen\")+\n  ggtitle(\"Distribution of Maths Score\")+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))+\n  theme_ipsum(axis_title_size = 18,\n              base_size = 15,\n              grid = \"Y\")\n\n\n\n\naxis_title_size argument is used to increase the font size of the axis title to 18, base_size argument is used to increase the default axis label to 15, and grid argument is used to remove the x-axis grid lines. :::"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#data-table",
    "href": "Exercises/TH1/TH1.html#data-table",
    "title": "OECD PISA Global Education",
    "section": "4.1 Data Table",
    "text": "4.1 Data Table\nThere are 148 secondary schools under MOE and 24 international schools. The PISA 2022 dataset compiles the student assessment across 164 unique school ID, surveying an impressive 95% of local schools.\n\n\nShow the code\nSCH_table &lt;- stu_qqq_SGP %&gt;%\n  group_by(CNT, CNTRYID, CNTSCHID) %&gt;%\n  summarise(TOTAL_STUDENT = n())\n\nDT::datatable(SCH_table)\n\n\n\n\n\n\n\nThere is an average of* 40.2 students assessed per school, equivalent to the class size of a level, in Singapore context, Secondary 3.\n\n\nShow the code\nmean(SCH_table$TOTAL_STUDENT)\n\n\n[1] 40.28049\n\n\nWith 1,279 variables, we can find out\n\n\nCode\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; O[Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n\n\n\n\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; O[Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n\n\n\n\n\n‘70200150’ no such school ID\n\nsum(is.na(stu_qqq_SGP))\n\n[1] 4168500"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#data-scheme",
    "href": "Exercises/TH1/TH1.html#data-scheme",
    "title": "OECD PISA Global Education",
    "section": "4.4 Data Scheme",
    "text": "4.4 Data Scheme\nWith 1,279 variables, we can find out\n\n\nCode\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support \\n Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; H\n  C --&gt; P{Immigrant Background}\n  P --&gt; Q[Native \\n First Generation \\n Second Generation] \n  Q --&gt; H\n\n\n\n\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support \\n Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; H\n  C --&gt; P{Immigrant Background}\n  P --&gt; Q[Native \\n First Generation \\n Second Generation] \n  Q --&gt; H"
  },
  {
    "objectID": "Topics/HO3/HO3.html#plot_ly",
    "href": "Topics/HO3/HO3.html#plot_ly",
    "title": "Interactive Data Visualization",
    "section": "4.1 plot_ly()",
    "text": "4.1 plot_ly()\n\nBasic plotly (2 variables)Three variables\n\n\nEach dot represents a student and the associated english and math score is displayed on the interactive graph.\n\nplot_ly(data = exam_data, \n        x = ~MATHS, y = ~ENGLISH)\n\n\n\n\n\n\n\ncolor argument is mapped to a qualitative visual variable, in this example, RACE. This representation adds on a broad category to the visualization.\n\nplot_ly(data = exam_data, \n        x = ~MATHS, y = ~ENGLISH,\n        color = ~RACE)"
  },
  {
    "objectID": "Topics/HO3/HO3.html#ggplotly",
    "href": "Topics/HO3/HO3.html#ggplotly",
    "title": "Interactive Data Visualization",
    "section": "4.2 ggplotly()",
    "text": "4.2 ggplotly()\nRequires ggplot() and then using ggplotly()\n\nBasic ggplotlyMultiple ggplotly\n\n\n\np &lt;- ggplot(data=exam_data, \n            aes(x = MATHS, y = ENGLISH))+\n  geom_point(size=1)+\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\nggplotly(p)\n\n\n\n\n\n\n\nThe creation of a coordinated linked plot by using plotly involves three steps:\nhighlight_key() of plotly package is used as shared data. two scatterplots will be created by using ggplot2 functions. lastly, subplot() of plotly package is used to place them next to each other side-by-side.\n\nd &lt;- highlight_key(exam_data)\np1 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = ENGLISH)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\np2 &lt;- ggplot(data=d, \n            aes(x = MATHS,\n                y = SCIENCE)) +\n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\nsubplot(ggplotly(p1),\n        ggplotly(p2))"
  },
  {
    "objectID": "Topics/HO3/HO3.html#data-table",
    "href": "Topics/HO3/HO3.html#data-table",
    "title": "Interactive Data Visualization",
    "section": "6.1 Data Table",
    "text": "6.1 Data Table\n\nDT::datatable(exam_data, class= \"compact\")"
  },
  {
    "objectID": "Topics/HO3/HO3.html#linked-brushing",
    "href": "Topics/HO3/HO3.html#linked-brushing",
    "title": "Interactive Data Visualization",
    "section": "6.2 Linked Brushing",
    "text": "6.2 Linked Brushing\n\nd &lt;- highlight_key(exam_data) \np &lt;- ggplot(d, \n            aes(ENGLISH, \n                MATHS)) + \n  geom_point(size=1) +\n  coord_cartesian(xlim=c(0,100),\n                  ylim=c(0,100))\n\ngg &lt;- highlight(ggplotly(p),        \n                \"plotly_selected\")  \n\ncrosstalk::bscols(gg,               \n                  DT::datatable(d), \n                  widths = 5)"
  },
  {
    "objectID": "Topics/HO4/HO4.html",
    "href": "Topics/HO4/HO4.html",
    "title": "Animated Data Visualization",
    "section": "",
    "text": "1. Learning Objectives\n\n\n2. Load Packages\n\n\n3. Import Data"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#data-demographics",
    "href": "Exercises/TH1/TH1.html#data-demographics",
    "title": "OECD PISA Global Education",
    "section": "4.5 Data Demographics",
    "text": "4.5 Data Demographics\nTo understand the student demographics, we will visualize the distribution and summary statistics of gender, age and nationality. We will also have an overview of the students’ time invested in studying and exposure to digital device, and their parent’s education level.\n\n\n\nVariable\nDescription\n\n\n\n\nST004D01T\nStudent (Standardized) Gender\n\n\nAGE\nStudents’ age\n\n\nST019AQ01T\nCountry of birth\n\n\nST294Q02JA\nNumber of days spent studying for school or homework\n\n\nST253Q01JA\nNumber of digital devices in your home\n\n\nHISCED\nHighest level of education of parents (ISCED)\n\n\n\n\n\nShow the code\nplot1 &lt;- ggplot(stu_qqq_SGP, aes(x = ST004D01T))+\n  geom_bar(colour = \"black\", \n           fill = \"aquamarine\")+\n  labs(title = \"Students' Gender\", x = NULL, y = NULL)+\n  ylim(0,4000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot2 &lt;- ggplot(stu_qqq_SGP, aes(y = AGE))+\n  geom_boxplot(notch = TRUE,\n               fill = \"aquamarine3\")+\n  labs(title = \"Students' Age\", x = NULL, y = NULL)+\n  theme_minimal()\n\nplot3 &lt;- ggplot(stu_qqq_SGP, aes(x = ST019AQ01T))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine4\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Nationality\", x = NULL, y = NULL)+\n  ylim(0,6000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot4 &lt;- ggplot(stu_qqq_SGP, aes(x = ST294Q02JA))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine4\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Study (Days)\", x = NULL, y = NULL)+\n  ylim(0,3500)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1,\n            size = 3)+\n  theme_minimal()\n\nplot5 &lt;- ggplot(stu_qqq_SGP, aes(x = ST253Q01JA))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Digital Expose\", x = NULL, y = NULL)+\n  ylim(0,6000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot6 &lt;- ggplot(stu_qqq_SGP, aes(x = HISCED))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine3\")+\n  labs(title = \"Parents' Education\", x = NULL, y = NULL)+\n  ylim(0,2000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1,\n            size = 3)+\n  theme_minimal()\n\n(plot1 + plot2 + plot3) / (plot4 + plot5 + plot6)\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\n\nGender: The distribution between male and female is relatively even.\nAge: The median age is 15.75.\nNationality: Assuming value 1 is Singapore, majority of the students are local.\nStudy Time: Most students spend 1 or 6 days studying or doing homework. (In comparison, Masters students spend 7 days studying.)\nDigital Exposure: Manjority of the students are exposed to one device, relatively low considering TV as a baseline screen in most homes and most students having their personal mobile devices.\nParents’ Education: Short-cycle tertiary education is not applicable in Singapore. Most parents (70%) hold tertiary and above education.\n\n\n\nISCED Level\nEducation Level\n\n\n\n\nLevel 1\nPrimary\n\n\nLevel 2\nLower secondary\n\n\nLevel 3\nUpper secondary\n\n\nLevel 4\nPost-secondary non-tertiary\n\n\nLevel 5\nShort-cycle tertiary\n\n\nLevel 6\nBachelor’s or equivalent\n\n\nLevel 7\nMaster’s or equivalent\n\n\nLevel 8\nDoctoral or equivalent"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#immigration-status",
    "href": "Exercises/TH1/TH1.html#immigration-status",
    "title": "OECD PISA Global Education",
    "section": "5.5 Immigration Status",
    "text": "5.5 Immigration Status\n\ndata_long &lt;- stu_qqq_SGP %&gt;%\n  dplyr::mutate(gender = ifelse(ST004D01T == 1, \"Female\", \"Male\"),\n                 immigration = factor(ifelse(is.na(IMMIG), NA,\n                                             ifelse(IMMIG == 1, \"Native\", \n                                                    ifelse(IMMIG == 2, \"Second-Generation\", \n                                                           \"First-Generation\"))),\n                                      levels = c(\"Native\", \"First-Generation\", \"Second-Generation\"))) %&gt;%\n  dplyr::select(-ST004D01T, -IMMIG) %&gt;%\n  dplyr::rename(grade = ST001D01T, student = CNTSTUID, age = AGE) %&gt;% \n  melt(data = .,\n       id.vars = c(\"student\", \"grade\", \"age\", \"gender\", \"immigration\"),\n       variable.name = \"question\",\n       value.name = \"response\") %&gt;%\n  mutate(response2 = (ifelse(is.na(response), \"NA\",\n                             ifelse(response == 1, \"Strongly disagree\",\n                                    ifelse(response == 2, \"Disagree\",\n                                           ifelse(response == 3, \"Agree\", \"Strongly agree\"))))),\n         response3 = factor(response2, levels = c(\"NA\", \"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))) \n\n\nglimpse(data_long)\n\nRows: 8,416,044\nColumns: 9\n$ student     &lt;chr&gt; \"70200001\", \"70200002\", \"70200003\", \"70200004\", \"70200005\"…\n$ grade       &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10…\n$ age         &lt;dbl&gt; 15.50, 15.83, 15.75, 16.17, 15.58, 15.58, 16.08, 16.00, 15…\n$ gender      &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\", \"Mal…\n$ immigration &lt;fct&gt; Native, Native, Native, Native, Native, First-Generation, …\n$ question    &lt;fct&gt; CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT…\n$ response    &lt;chr&gt; \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"S…\n$ response2   &lt;chr&gt; \"Strongly agree\", \"Strongly agree\", \"Strongly agree\", \"Str…\n$ response3   &lt;fct&gt; Strongly agree, Strongly agree, Strongly agree, Strongly a…\n\n\n\nST267Q03JA &lt;- data_long %&gt;%\n  filter(question == \"ST267Q03JA\") %&gt;%\n  group_by(gender, immigration, response3) %&gt;%\n  dplyr::summarise(Freq = dplyr::n())\n\n\nif (!require(\"ggalluvial\")) install.packages(\"ggalluvial\")\nlibrary(ggalluvial)\n\n\nstr(ST267Q03JA)\n\ngropd_df [40 × 4] (S3: grouped_df/tbl_df/tbl/data.frame)\n $ gender     : chr [1:40] \"Female\" \"Female\" \"Female\" \"Female\" ...\n $ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 1 1 1 1 2 2 2 2 2 ...\n $ response3  : Factor w/ 5 levels \"NA\",\"Strongly disagree\",..: 1 2 3 4 5 1 2 3 4 5 ...\n $ Freq       : int [1:40] 877 115 480 722 97 207 18 76 181 33 ...\n - attr(*, \"groups\")= tibble [8 × 3] (S3: tbl_df/tbl/data.frame)\n  ..$ gender     : chr [1:8] \"Female\" \"Female\" \"Female\" \"Female\" ...\n  ..$ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 2 3 NA 1 2 3 NA\n  ..$ .rows      : list&lt;int&gt; [1:8] \n  .. ..$ : int [1:5] 1 2 3 4 5\n  .. ..$ : int [1:5] 6 7 8 9 10\n  .. ..$ : int [1:5] 11 12 13 14 15\n  .. ..$ : int [1:5] 16 17 18 19 20\n  .. ..$ : int [1:5] 21 22 23 24 25\n  .. ..$ : int [1:5] 26 27 28 29 30\n  .. ..$ : int [1:5] 31 32 33 34 35\n  .. ..$ : int [1:5] 36 37 38 39 40\n  .. ..@ ptype: int(0) \n  ..- attr(*, \".drop\")= logi TRUE\n\n\n\nggplot(ST267Q03JA,\n       aes(y = Freq, axis1 = gender, axis2 = immigration, axis3 = response3)) +\n  geom_alluvium(aes(fill = gender), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"black\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"gender\", \"immigration\", \"response3\"), expand = c(.1, .1)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\") +\n  ggtitle(\"If I came back to visit my school 3 years from now,\\nmy teachers would be excited to see me.\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#data-schema",
    "href": "Exercises/TH1/TH1.html#data-schema",
    "title": "OECD PISA Global Education",
    "section": "Data Schema",
    "text": "Data Schema\nThe data schema presented map the complex interrelations between students’ academic performance and various demographic, social, and educational factors.\nBy analyzing performance data in conjunction with demographic variables like gender and socioeconomic status, we aim to identify patterns and correlations that might inform educational strategies. This involves the use of visual tools such as box plots to compare distributions, scatter plots to discern correlations, and bar charts to display categorical data.\nThe visualizations will serve as a narrative, outlining the interplay between various factors and academic success, thereby contributing to a holistic understanding of the educational landscape in Singapore.\n\n\nCode\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support \\n Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; H\n  C --&gt; P{Immigrant Background}\n  P --&gt; Q[Native \\n First Generation \\n Second Generation] \n  Q --&gt; H\n\n\n\n\nflowchart LR\n  A[Country Code] --&gt; B[School ID]\n  B --&gt; C[Student ID]\n  C --&gt; D{Student \\n Performance}\n  D --&gt; E[Maths]\n  E --&gt; H[Anxiety \\n Cognitive Activation \\n Exposure \\n Self-efficacy \\n Teacher Support \\n Sense of Belonging \\n School Safety \\n Perseverance \\n Curiosity \\n Cooperation \\n Stress Resistance \\n Emotional Control]\n  D --&gt; F[Reading]\n  D --&gt; G[Science]\n  F --&gt; H\n  G --&gt; H\n  C --&gt; I{Education \\n System}\n  I --&gt; J[School Characteristics: \\n Grades \\n Classroom \\n Teacher]\n  I --&gt; K[Student Characteristics: \\n Attitude \\n Background \\n Behaviour]\n  C --&gt; L{Economic \\n Social \\n Cultural \\n Status}\n  L --&gt; M[Parents Highest Level of Education\\n Parents highest occupational status \\n Home Possessions]\n  C --&gt; N{Well-being}\n  N --&gt; H\n  C --&gt; P{Immigrant Background}\n  P --&gt; Q[Native \\n First Generation \\n Second Generation] \n  Q --&gt; H"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#demographics",
    "href": "Exercises/TH1/TH1.html#demographics",
    "title": "OECD PISA Global Education",
    "section": "Demographics",
    "text": "Demographics\nTo understand the student demographics, we will visualize the distribution and summary statistics of gender, age and nationality. We will also have an overview of the students’ time invested in studying and exposure to digital device, and their parent’s education level.\n\n\n\nVariable\nDescription\n\n\n\n\nST004D01T\nStudent (Standardized) Gender\n\n\nAGE\nStudents’ age\n\n\nST019AQ01T\nCountry of birth\n\n\nST294Q02JA\nNumber of days spent studying for school or homework\n\n\nST253Q01JA\nNumber of digital devices in your home\n\n\nHISCED\nHighest level of education of parents (ISCED)\n\n\n\n\n\nShow the code\nplot1 &lt;- ggplot(stu_qqq_SGP, aes(x = ST004D01T))+\n  geom_bar(colour = \"black\", \n           fill = \"aquamarine\")+\n  labs(title = \"Students' Gender\", x = NULL, y = NULL)+\n  ylim(0,4000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  scale_x_discrete(breaks = c(1, 2), labels = c(\"Female\", \"Male\")) +\n  theme_minimal()\n\nplot2 &lt;- ggplot(stu_qqq_SGP, aes(y = AGE))+\n  geom_boxplot(notch = TRUE,\n               fill = \"aquamarine3\")+\n  labs(title = \"Students' Age\", x = NULL, y = NULL)+\n  theme_minimal()\n\nplot3 &lt;- ggplot(stu_qqq_SGP, aes(x = ST019AQ01T))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine4\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Nationality\", x = NULL, y = NULL)+\n  ylim(0,6000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot4 &lt;- ggplot(stu_qqq_SGP, aes(x = ST294Q02JA))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine4\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Study (Days)\", x = NULL, y = NULL)+\n  ylim(0,3500)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1,\n            size = 3)+\n  theme_minimal()\n\nplot5 &lt;- ggplot(stu_qqq_SGP, aes(x = ST253Q01JA))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine\",\n           na.rm = TRUE)+\n  labs(title = \"Students' Digital Expose\", x = NULL, y = NULL)+\n  ylim(0,6000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1)+\n  theme_minimal()\n\nplot6 &lt;- ggplot(stu_qqq_SGP, aes(x = HISCED))+\n  geom_bar(colour = \"black\",\n           fill = \"aquamarine3\")+\n  labs(title = \"Parents' Education\", x = NULL, y = NULL)+\n  ylim(0,2000)+\n  geom_text(stat = \"Count\",\n            aes(label = after_stat(count)),\n            vjust = -1,\n            size = 3)+\n  theme_minimal()\n\ncombined_plot &lt;- (plot1 + plot2 + plot3) / (plot4 + plot5 + plot6) + \n  plot_layout(guides = \"collect\") + \n  plot_annotation(\n    title = \"Demographics of Singapore PISA 2022\",\n    theme = theme(plot.title = element_text(hjust = 0))\n  )\ncombined_plot\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\n\nGender: The distribution between genders is fairly balanced. This suggests an almost equal representation of students in terms of gender within the dataset.\nAge: The median age is 15.75. There are no apparent outliers, indicating that the ages of the students are within a narrow range, typical of a targeted survey.\nNationality: There are three distinct groups, with the majority of students belonging to nationality. Assuming 1 represents local students, majority of the students are local.\nStudy Days: The bar chart suggests most students study one to two days per week, with numbers dropping as the number of study days increases. One quarter of the students study 6 days, as hardworking as Masters students.\nDigital Exposure: Majority of the students are exposed to one device, relatively low considering TV as a baseline screen in most homes and most students having their personal mobile devices.\nParents’ Education: The data shows a progressive decrease in the number of parents as the level of education increases. Most parents (70%) are in Level 6 and 7 and hold tertiary and above education.\n\n\n\nISCED Level\nEducation Level\n\n\n\n\nLevel 1\nPrimary\n\n\nLevel 2\nLower secondary\n\n\nLevel 3\nUpper secondary\n\n\nLevel 4\nPost-secondary non-tertiary\n\n\nLevel 5\nShort-cycle tertiary\n\n\nLevel 6\nBachelor’s or equivalent\n\n\nLevel 7\nMaster’s or equivalent\n\n\nLevel 8\nDoctoral or equivalent"
  },
  {
    "objectID": "Exercises/TH1/TH1.html#what-is-the-students-experience-in-school",
    "href": "Exercises/TH1/TH1.html#what-is-the-students-experience-in-school",
    "title": "OECD PISA Global Education",
    "section": "5.1 What is the students’ experience in school?",
    "text": "5.1 What is the students’ experience in school?\nWe delve into the subjective realm of students’ school experiences. This includes their feelings of safety, respect, and overall well-being within the school environment. We will visualize this data to uncover insights into the emotional and social aspects of their education.\n\nAttribute SelectionData Transformation\n\n\nThe selected attributes encompass both the academic and social aspects of school life that can significantly influence a student’s well-being and sense of belonging. The output reveals a structured set of responses where students have rated these experiences on a numerical scale, likely ranging from strong disagreement to strong agreement.\n\n\nShow the code\nschsys &lt;- select(stu_qqq_SGP, starts_with(c(\"ST267\")))\n\nnames(schsys) &lt;- c(\n  ST267Q01JA = \"The teachers at my school are respectful towards me.\",\n  ST267Q02JA = \"If I walked into my classes upset, my teachers would be concerned about me.\",\n  ST267Q03JA = \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\",\n  ST267Q04JA = \"I feel intimidated by the teachers at my school.\",\n  ST267Q05JA = \"When my teachers ask how I am doing, they are really interested in my answer.\",\n  ST267Q06JA = \"The teachers at my school are friendly towards me.\",\n  ST267Q07JA = \"The teachers at my school are interested in students' well-being.\",\n  ST267Q08JA = \"The teachers at my school are mean towards me.\")\n\nlikert_recode &lt;- function(x) {\n  y &lt;- ifelse(is.na(x), NA, \n              ifelse(x == 1, \"Strongly disagree\",\n              ifelse(x == 2, \"Disagree\",\n              ifelse(x == 3, \"Agree\",\n              \"Strongly agree\"))))\n  y &lt;- factor(y, levels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))\n  return(y)\n}\n\nschsys_likert &lt;- schsys %&gt;%\n  mutate(across(everything(), likert_recode))\n\nglimpse(schsys_likert)\n\n\nRows: 6,606\nColumns: 8\n$ `The teachers at my school are respectful towards me.`                                        &lt;fct&gt; …\n$ `If I walked into my classes upset, my teachers would be concerned about me.`                 &lt;fct&gt; …\n$ `If I came back to visit my school 3 years from now, my teachers would be excited to see me.` &lt;fct&gt; …\n$ `I feel intimidated by the teachers at my school.`                                            &lt;fct&gt; …\n$ `When my teachers ask how I am doing, they are really interested in my answer.`               &lt;fct&gt; …\n$ `The teachers at my school are friendly towards me.`                                          &lt;fct&gt; …\n$ `The teachers at my school are interested in students' well-being.`                           &lt;fct&gt; …\n$ `The teachers at my school are mean towards me.`                                              &lt;fct&gt; …\n\n\n\n\nThe data transformation process depicted in the R code involves several steps to prepare the data for analysis and visualization:\n\nConversion to Long Format: pivot_longer() function is used to convert the dataset into a long format. This restructuring transforms the dataset so that each row represents a single response to a question, with one column for the question text (question) and one column for the response (response).\nFiltering NA Values: filter() function removes rows with NA (missing) responses to ensure they do not affect the visualization and analysis.\nFactor Recoding: mutate() and factor() is used to recode the responses into a factor variable. This recoding process labels the numerical values with their corresponding textual responses, such as “Strongly disagree,” “Disagree,” “Agree,” and “Strongly agree”.\n\n\n\nShow the code\nschsys_likert_long &lt;- schsys_likert %&gt;%\n  pivot_longer(cols = 1:8, names_to = \"question\", values_to = \"response\") %&gt;%\n  filter(!is.na(response)) %&gt;%\n  mutate(response = factor(response, levels = c(1, 2, 3, 4), labels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\")))\n\nschsys_likert_long &lt;- schsys_likert %&gt;%\n  pivot_longer(\n    cols = everything(), \n    names_to = \"question\", \n    values_to = \"response\"\n  ) %&gt;%\n  filter(!is.na(response)) %&gt;%\n  mutate(\n    response = factor(\n      response,\n      levels = c(1, 2, 3, 4),\n      labels = c(\"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\")\n    )\n  )\n\nschsys_likert_long &lt;- schsys_likert_long %&gt;%\n  mutate(short_question = case_when(\n    question == \"The teachers at my school are respectful towards me.\" ~ \"The teachers at my school are respectful towards me.\",\n    question == \"If I walked into my classes upset, my teachers would be concerned about me.\" ~ \"The teachers will be concerned about me if I am upset.\",\n    question == \"If I came back to visit my school 3 years from now, my teachers would be excited to see me.\" ~ \"The teachers will be excited to see me in future.\",\n    question == \"I feel intimidated by the teachers at my school.\" ~ \"I feel intimidated by the teachers at my school.\",\n    question == \"When my teachers ask how I am doing, they are really interested in my answer.\" ~ \"The teachers are genuinely interested when listening to me.\",\n    TRUE ~ question\n  ))\n\nglimpse(schsys_likert_long)\n\n\nRows: 32,771\nColumns: 3\n$ question       &lt;chr&gt; \"If I walked into my classes upset, my teachers would b…\n$ response       &lt;fct&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…\n$ short_question &lt;chr&gt; \"The teachers will be concerned about me if I am upset.…\n\n\n\n\n\n\n\nShow the code\nstacked_bar_chart &lt;- ggplot(schsys_likert_long, aes(x = short_question, fill = response)) +\n  geom_bar(position = \"fill\", stat = \"count\") +\n  scale_y_continuous(labels = scales::percent_format()) +\n  labs(title = \"What is the students' experience in school?\", x = NULL, y = \"Percentage\", fill = \"Response\") +\n  theme_minimal() +\n  scale_fill_brewer(palette = \"RdYlGn\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1),\n        legend.position = \"bottom\")+\n  coord_flip()\n\nstacked_bar_chart\n\n\n\n\n\n\n\n\n\n\nInsights\nSafety: Students generally feel safe in various school settings. This indicates a positive perception of physical safety within the school environment.\nRespect and Concern: A substantial proportion of students feel that their teachers are respectful towards them and would be concerned if they were upset. This suggests that students perceive a caring and respectful relationship with their teachers, which is fundamental to a supportive educational atmosphere.\nTeacher Interest and Friendliness: There is a noticeable agreement among students that teachers are genuinely interested in their answers and are friendly towards them. This highlights the positive social interactions between students and teachers, which can contribute to a more engaging and motivating learning experience.\nTeacher Support for Future and Well-being: Many students believe that their teachers will be excited to see them if they return in the future and are interested in their well-being. This suggests that students feel supported not just academically but also personally, which can have a positive impact on their overall school experience.\nNegative Experiences: While the majority of feedback is positive, there are small indications of negative experiences, such as a minority of students feeling intimidated by their teachers or perceiving them as mean. Addressing these negative perceptions is crucial for improving the school climate for all students."
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-immigration-status-affect-students-sense-of-belonging-in-singapore",
    "href": "Exercises/TH1/TH1.html#does-immigration-status-affect-students-sense-of-belonging-in-singapore",
    "title": "OECD PISA Global Education",
    "section": "5.5 Does immigration status affect students’ sense of belonging in Singapore?",
    "text": "5.5 Does immigration status affect students’ sense of belonging in Singapore?\nThe impact of immigration status on students’ sense of belonging will be scrutinized. We will analyze how being a native, a first-generation immigrant, or a second-generation immigrant influences students’ reported sense of integration and acceptance within their school community. The goal is to provide a comprehensive overview of the many dimensions that contribute to the educational experiences of students in Singapore.\n\nData PreparationMapping\n\n\nThe immigration status is converted into a factor with levels “Native”, “First-Generation”, and “Second-Generation” based on IMMIG.\nNative: Students are born in Singapore with parents who are Singapore citizens. They have likely spent their entire lives within the country’s education system and culture. First-Generation: These students are the first in their family to be born in Singapore, with parents who have immigrated from another country. They are navigating a blend of cultural identities from their home environment and the broader Singaporean culture. Second-Generation: This group consists of students born in Singapore to first-generation immigrant parents. While they are born and brought up in Singapore, their household may still hold strong cultural ties to their parents’ country of origin.\nFollowing this, the data is reshaped from a wide to a long format using the melt function, where columns are collapsed into two new variables: “question” and “response”. The response variable is recoded into a factor with levels. This recoding process transforms numeric responses into descriptive labels, and the result is stored in a new variable response3.\n\n\nShow the code\ndata_long &lt;- stu_qqq_SGP %&gt;%\n  dplyr::mutate(gender = ifelse(ST004D01T == 1, \"Female\", \"Male\"),\n                 immigration = factor(ifelse(is.na(IMMIG), NA,\n                                             ifelse(IMMIG == 1, \"Native\", \n                                                    ifelse(IMMIG == 2, \"Second-Generation\", \n                                                           \"First-Generation\"))),\n                                      levels = c(\"Native\", \"First-Generation\", \"Second-Generation\"))) %&gt;%\n  dplyr::select(-ST004D01T, -IMMIG) %&gt;%\n  dplyr::rename(grade = ST001D01T, student = CNTSTUID, age = AGE) %&gt;% \n  melt(data = .,\n       id.vars = c(\"student\", \"grade\", \"age\", \"gender\", \"immigration\"),\n       variable.name = \"question\",\n       value.name = \"response\") %&gt;%\n  mutate(response2 = (ifelse(is.na(response), \"NA\",\n                             ifelse(response == 1, \"Strongly disagree\",\n                                    ifelse(response == 2, \"Disagree\",\n                                           ifelse(response == 3, \"Agree\", \"Strongly agree\"))))),\n         response3 = factor(response2, levels = c(\"NA\", \"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))) \n\nglimpse(data_long)\n\n\nRows: 8,416,044\nColumns: 9\n$ student     &lt;chr&gt; \"70200001\", \"70200002\", \"70200003\", \"70200004\", \"70200005\"…\n$ grade       &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10…\n$ age         &lt;dbl&gt; 15.50, 15.83, 15.75, 16.17, 15.58, 15.58, 16.08, 16.00, 15…\n$ gender      &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\", \"Mal…\n$ immigration &lt;fct&gt; Native, Native, Native, Native, Native, First-Generation, …\n$ question    &lt;fct&gt; CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT…\n$ response    &lt;chr&gt; \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"S…\n$ response2   &lt;chr&gt; \"Strongly agree\", \"Strongly agree\", \"Strongly agree\", \"Str…\n$ response3   &lt;fct&gt; Strongly agree, Strongly agree, Strongly agree, Strongly a…\n\n\n\n\nThe responses are related to a specific question ST267Q03JA: If I came back to visit my school 3 years from now, my teachers would be excited to see me.\n\n\nShow the code\nST267Q03JA &lt;- data_long %&gt;%\n  filter(question == \"ST267Q03JA\") %&gt;%\n  group_by(gender, immigration, response3) %&gt;%\n  dplyr::summarise(Freq = dplyr::n())\n\nstr(ST267Q03JA)\n\n\ngropd_df [40 × 4] (S3: grouped_df/tbl_df/tbl/data.frame)\n $ gender     : chr [1:40] \"Female\" \"Female\" \"Female\" \"Female\" ...\n $ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 1 1 1 1 2 2 2 2 2 ...\n $ response3  : Factor w/ 5 levels \"NA\",\"Strongly disagree\",..: 1 2 3 4 5 1 2 3 4 5 ...\n $ Freq       : int [1:40] 877 115 480 722 97 207 18 76 181 33 ...\n - attr(*, \"groups\")= tibble [8 × 3] (S3: tbl_df/tbl/data.frame)\n  ..$ gender     : chr [1:8] \"Female\" \"Female\" \"Female\" \"Female\" ...\n  ..$ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 2 3 NA 1 2 3 NA\n  ..$ .rows      : list&lt;int&gt; [1:8] \n  .. ..$ : int [1:5] 1 2 3 4 5\n  .. ..$ : int [1:5] 6 7 8 9 10\n  .. ..$ : int [1:5] 11 12 13 14 15\n  .. ..$ : int [1:5] 16 17 18 19 20\n  .. ..$ : int [1:5] 21 22 23 24 25\n  .. ..$ : int [1:5] 26 27 28 29 30\n  .. ..$ : int [1:5] 31 32 33 34 35\n  .. ..$ : int [1:5] 36 37 38 39 40\n  .. ..@ ptype: int(0) \n  ..- attr(*, \".drop\")= logi TRUE\n\n\n\n\n\n\n\nShow the code\nggplot(ST267Q03JA,\n       aes(y = Freq, axis1 = gender, axis2 = immigration, axis3 = response3)) +\n  geom_alluvium(aes(fill = gender), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"black\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"gender\", \"immigration\", \"response3\"), expand = c(.1, .1)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\") +\n  ggtitle(\"If I came back to visit my school 3 years from now,\\nmy teachers would be excited to see me.\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nThe question “If I came back to visit my school 3 years from now, my teachers would be excited to see me.” is a sentiment that can reflect a student’s perceived sense of belonging and the success of the education system in creating an inclusive and supportive environment. A student’s positive anticipation of a warm welcome upon return indicates a feeling of continued connection and support, which can be critical for the well-being and integration of immigrant students.\nObservations from the alluvial diagram suggest that there are discernible differences in how students of varying immigration statuses feel about the potential excitement of their teachers upon their return. For instance, if we focus on the thickness of the flows connecting to “Strongly agree”, it may indicate that a considerable number of Native students feel positively about their teachers’ reception to their return, which could imply a strong sense of belonging and positive school experience. First-Generation and Second-Generation students also show flows to “Strongly agree”, but the relative thickness might suggest differences in intensity of this sentiment compared to Native students."
  },
  {
    "objectID": "Exercises/TH1/TH1.html#does-immigrant-status-affect-students-sense-of-belonging-in-singapore",
    "href": "Exercises/TH1/TH1.html#does-immigrant-status-affect-students-sense-of-belonging-in-singapore",
    "title": "OECD PISA Global Education",
    "section": "5.5 Does immigrant status affect students’ sense of belonging in Singapore?",
    "text": "5.5 Does immigrant status affect students’ sense of belonging in Singapore?\nThe impact of immigrant status on students’ sense of belonging will be scrutinized. We will analyze how being a native, a first-generation immigrant, or a second-generation immigrant influences students’ reported sense of integration and acceptance within their school community. The goal is to provide a comprehensive overview of the many dimensions that contribute to the educational experiences of students in Singapore.\n\nData PreparationMapping\n\n\nThe immigrant status is converted into a factor with levels “Native”, “First-Generation”, and “Second-Generation” based on IMMIG.\n\nNative: Students are born in Singapore with parents who are Singapore citizens. They have likely spent their entire lives within the country’s education system and culture.\nFirst-Generation: These students are the first in their family to be born in Singapore, with parents who have immigrated from another country. They are navigating a blend of cultural identities from their home environment and the broader Singaporean culture.\nSecond-Generation: This group consists of students born in Singapore to first-generation immigrant parents. While they are born and brought up in Singapore, their household may still hold strong cultural ties to their parents’ country of origin.\n\nFollowing this, the data is reshaped from a wide to a long format using the melt function, where columns are collapsed into two new variables: “question” and “response”. The response variable is recoded into a factor with levels. This recoding process transforms numeric responses into descriptive labels, and the result is stored in a new variable response3.\n\n\nShow the code\ndata_long &lt;- stu_qqq_SGP %&gt;%\n  dplyr::mutate(gender = ifelse(ST004D01T == 1, \"Female\", \"Male\"),\n                 immigration = factor(ifelse(is.na(IMMIG), NA,\n                                             ifelse(IMMIG == 1, \"Native\", \n                                                    ifelse(IMMIG == 2, \"Second-Generation\", \n                                                           \"First-Generation\"))),\n                                      levels = c(\"Native\", \"First-Generation\", \"Second-Generation\"))) %&gt;%\n  dplyr::select(-ST004D01T, -IMMIG) %&gt;%\n  dplyr::rename(grade = ST001D01T, student = CNTSTUID, age = AGE) %&gt;% \n  melt(data = .,\n       id.vars = c(\"student\", \"grade\", \"age\", \"gender\", \"immigration\"),\n       variable.name = \"question\",\n       value.name = \"response\") %&gt;%\n  mutate(response2 = (ifelse(is.na(response), \"NA\",\n                             ifelse(response == 1, \"Strongly disagree\",\n                                    ifelse(response == 2, \"Disagree\",\n                                           ifelse(response == 3, \"Agree\", \"Strongly agree\"))))),\n         response3 = factor(response2, levels = c(\"NA\", \"Strongly disagree\", \"Disagree\", \"Agree\", \"Strongly agree\"))) \n\nglimpse(data_long)\n\n\nRows: 8,416,044\nColumns: 9\n$ student     &lt;chr&gt; \"70200001\", \"70200002\", \"70200003\", \"70200004\", \"70200005\"…\n$ grade       &lt;dbl&gt; 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10…\n$ age         &lt;dbl&gt; 15.50, 15.83, 15.75, 16.17, 15.58, 15.58, 16.08, 16.00, 15…\n$ gender      &lt;chr&gt; \"Female\", \"Male\", \"Male\", \"Male\", \"Female\", \"Female\", \"Mal…\n$ immigration &lt;fct&gt; Native, Native, Native, Native, Native, First-Generation, …\n$ question    &lt;fct&gt; CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT, CNT…\n$ response    &lt;chr&gt; \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"SGP\", \"S…\n$ response2   &lt;chr&gt; \"Strongly agree\", \"Strongly agree\", \"Strongly agree\", \"Str…\n$ response3   &lt;fct&gt; Strongly agree, Strongly agree, Strongly agree, Strongly a…\n\n\n\n\nThe responses are related to a specific question ST267Q03JA: If I came back to visit my school 3 years from now, my teachers would be excited to see me.\n\n\nShow the code\nST267Q03JA &lt;- data_long %&gt;%\n  filter(question == \"ST267Q03JA\") %&gt;%\n  group_by(gender, immigration, response3) %&gt;%\n  dplyr::summarise(Freq = dplyr::n())\n\nstr(ST267Q03JA)\n\n\ngropd_df [40 × 4] (S3: grouped_df/tbl_df/tbl/data.frame)\n $ gender     : chr [1:40] \"Female\" \"Female\" \"Female\" \"Female\" ...\n $ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 1 1 1 1 2 2 2 2 2 ...\n $ response3  : Factor w/ 5 levels \"NA\",\"Strongly disagree\",..: 1 2 3 4 5 1 2 3 4 5 ...\n $ Freq       : int [1:40] 877 115 480 722 97 207 18 76 181 33 ...\n - attr(*, \"groups\")= tibble [8 × 3] (S3: tbl_df/tbl/data.frame)\n  ..$ gender     : chr [1:8] \"Female\" \"Female\" \"Female\" \"Female\" ...\n  ..$ immigration: Factor w/ 3 levels \"Native\",\"First-Generation\",..: 1 2 3 NA 1 2 3 NA\n  ..$ .rows      : list&lt;int&gt; [1:8] \n  .. ..$ : int [1:5] 1 2 3 4 5\n  .. ..$ : int [1:5] 6 7 8 9 10\n  .. ..$ : int [1:5] 11 12 13 14 15\n  .. ..$ : int [1:5] 16 17 18 19 20\n  .. ..$ : int [1:5] 21 22 23 24 25\n  .. ..$ : int [1:5] 26 27 28 29 30\n  .. ..$ : int [1:5] 31 32 33 34 35\n  .. ..$ : int [1:5] 36 37 38 39 40\n  .. ..@ ptype: int(0) \n  ..- attr(*, \".drop\")= logi TRUE\n\n\n\n\n\n\n\nShow the code\nggplot(ST267Q03JA,\n       aes(y = Freq, axis1 = gender, axis2 = immigration, axis3 = response3)) +\n  geom_alluvium(aes(fill = gender), width = 1/12) +\n  geom_stratum(width = 1/12, fill = \"black\", color = \"grey\") +\n  geom_label(stat = \"stratum\", aes(label = after_stat(stratum))) +\n  scale_x_discrete(limits = c(\"gender\", \"immigration\", \"response3\"), expand = c(.1, .1)) +\n  scale_fill_brewer(type = \"qual\", palette = \"Set1\") +\n  ggtitle(\"If I came back to visit my school 3 years from now,\\nmy teachers would be excited to see me.\")+\n  theme_minimal()+\n  theme(legend.position = \"none\",\n        panel.grid.major = element_blank(),\n        panel.grid.minor = element_blank(),\n        axis.line = element_line(colour = \"grey\"))\n\n\n\n\n\n\n\n\n\n\n\nInsights\n\n\n\nThe question “If I came back to visit my school 3 years from now, my teachers would be excited to see me.” is a sentiment that can reflect a student’s perceived sense of belonging and the success of the education system in creating an inclusive and supportive environment. A student’s positive anticipation of a warm welcome upon return indicates a feeling of continued connection and support, which can be critical for the well-being and integration of immigrant students.\nObservations from the alluvial diagram suggest that there are discernible differences in how students of varying immigration statuses feel about the potential excitement of their teachers upon their return. For instance, if we focus on the thickness of the flows connecting to “Strongly agree”, it may indicate that a considerable number of Native students feel positively about their teachers’ reception to their return, which could imply a strong sense of belonging and positive school experience. First-Generation and Second-Generation students also show flows to “Strongly agree”, but the relative thickness might suggest differences in intensity of this sentiment compared to Native students."
  }
]